(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{115:function(e,a,t){"use strict";t.r(a);var n=t(0),d=t.n(n),i=t(54),o=t.n(i),c=t(55),r=t.n(c);a.default=function(e){return Object(n.useEffect)((function(){var e=new r.a.Stage({container:"stage",width:500,height:500}),a=new r.a.Layer;e.add(a);var t=document.createElement("video");t.src="".concat("/CanvasVideoPlayer","/assets/images/media-editor/video2.mp4");var n=new r.a.Image({image:t,draggable:!0,x:50,y:20});a.add(n);var d=new r.a.Text({text:"Loading video...",width:e.width(),height:e.height(),align:"center",verticalAlign:"middle"});a.add(d),t.addEventListener("loadedmetadata",(function(e){d.text("Press PLAY..."),n.width(t.videoWidth),n.height(t.videoHeight)}));var i=new r.a.Animation((function(e){a.draw()}),a);document.getElementById("play").addEventListener("click",(function(){d.destroy(),t.play();var a=e.content.querySelector("canvas").captureStream(),n=new MediaRecorder(a),c=[];n.ondataavailable=function(e){c.push(e.data)},n.onstop=function(e){var a=new Blob(c,{type:"video/mp4"});c=[];var t=URL.createObjectURL(a);console.log(t),document.querySelector(".".concat(o.a.video)).src=t},n.ondataavailable=function(e){console.log("e.data",e.data),c.push(e.data)},n.start(),i.start(),setTimeout((function(){console.log("mediaRecorde",e.toCanvas().toDataURL()),n.stop()}),1e4)})),document.getElementById("pause").addEventListener("click",(function(){t.pause(),i.stop()})),a.draw()}),[]),d.a.createElement("div",{className:o.a.videoPlayer},d.a.createElement("div",{id:"play"},"Play"),d.a.createElement("div",{id:"pause"},"pause"),d.a.createElement("div",{id:"stage"}),d.a.createElement("video",{className:o.a.video,controls:!0}))}}}]);