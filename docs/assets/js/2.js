(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{117:function(e,t,r){"use strict";r.r(t);var n=r(41),o=r.n(n),a=r(0),i=r.n(a),c=r(6),u=r(52),s=r(64),l=r.n(s),f=r(66),p=r.n(f),d=r(7),h=r.n(d),v=r(8),g=r(38),m=r.n(g),y=Object(v.a)((function(e,t){return{scenes:[],getVideoData:function(e){return new Promise((function(t,r){var n=document.createElement("video");n.src=e,n.ondurationchange=function(e){return console.log([n]),t({duration:e.path[0].duration})}}))},setScenes:function(r){return p()(l.a.mark((function n(){var o,a,i,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t(),a=o.scenes,i=o.getVideoData,"video"!==r.type){n.next=8;break}return n.next=4,i(r.src);case 4:c=n.sent,r.loop=c.duration,n.next=9;break;case 8:r.loop=5;case 9:r.id=m()(),a.push(r),e({scenes:a});case 12:case"end":return n.stop()}}),n)})))()}}})),b=h()(y,2),w=b[0],x=(b[1],r(53)),O=r(48),E=r.n(O),j=function(e){var t,r,n=w(),o=n.scenes,a=n.setScenes;return i.a.createElement("div",{className:E.a.mediasContainer},i.a.createElement("div",{className:E.a.title},"Media:"),i.a.createElement("div",{className:E.a.scenesContainer},i.a.createElement("div",{className:E.a.scenes},(t=0,r=0,o.map((function(e,n){var a=o[n-1];return t+=a&&Math.floor(a.loop)||0,r=t+Math.floor(e.loop-1),o.length-1===parseInt(n)&&(r=t+Math.floor(e.loop)),i.a.createElement("div",{className:E.a.scene},i.a.createElement("div",{className:E.a.info},i.a.createElement("span",null,Object(x.a)(t)),i.a.createElement("span",null,Object(x.a)(r))),i.a.createElement("div",{key:e.id,className:E.a.mediaScene,style:{backgroundImage:"url(".concat("video"===e.type&&e.poster||e.src,")"),minWidth:"".concat(15*e.loop,"px")}}))}))),i.a.createElement(u.b,{component:"frame",droppableid:"video",index:null,onDragEnd:function(e){return function(e){a(e.element)}(e)}},i.a.createElement("div",null)))))},S=function(e){return i.a.createElement("div",{className:E.a.mediasContainer},i.a.createElement("div",{className:E.a.title},"Audio:"),i.a.createElement("div",{className:E.a.scenesContainer},i.a.createElement("div",{className:E.a.scenes})))},P=function(e){return i.a.createElement("div",{className:E.a.videoTimeline},i.a.createElement(j,null),i.a.createElement(S,null))},_=r(54),L=r.n(_),D=(Object(c.a)((function(){return Promise.all([r.e(0),r.e(5)]).then(r.bind(null,115))})),Object(c.a)((function(){return Promise.all([r.e(0),r.e(4)]).then(r.bind(null,118))})));t.default=function(e){var t=w().scenes;return i.a.createElement("div",null,i.a.createElement("div",{className:L.a.videoContainer},i.a.createElement(D,{scenes:o()(t)})),i.a.createElement(P,null))}},35:function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},36:function(e,t,r){var n=r(45);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0};r(4)(n,o);n.locals&&(e.exports=n.locals)},37:function(e,t){e.exports=function(e,t){var r="000000000"+e;return r.substr(r.length-t)}},38:function(e,t,r){var n=r(46),o=r(37),a=r(47),i=0,c=Math.pow(36,4);function u(){return o((a()*c<<0).toString(36),4)}function s(){return i=i<c?i:0,++i-1}function l(){return"c"+(new Date).getTime().toString(36)+o(s().toString(36),4)+n()+(u()+u())}l.slug=function(){var e=(new Date).getTime().toString(36),t=s().toString(36).slice(-4),r=n().slice(0,1)+n().slice(-1),o=u().slice(-2);return e.slice(-2)+t+r+o},l.isCuid=function(e){return"string"==typeof e&&!!e.startsWith("c")},l.isSlug=function(e){if("string"!=typeof e)return!1;var t=e.length;return t>=7&&t<=10},l.fingerprint=n,e.exports=l},41:function(e,t,r){var n=r(42),o=r(43),a=r(14),i=r(44);e.exports=function(e){return n(e)||o(e)||a(e)||i()}},42:function(e,t,r){var n=r(15);e.exports=function(e){if(Array.isArray(e))return n(e)}},43:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},44:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},45:function(e,t,r){(t=e.exports=r(3)(!1)).push([e.i,'._2F_O-DuBjkZmbPXYXfBuvm{flex:1;height:100%;position:relative}._1HdQX7mst0cKI24HgLpcE1:after{content:"";background:red;position:absolute;left:-2px;top:0;bottom:0;width:4px}._1HdQX7mst0cKI24HgLpcE1._3_y6fcNBSXH_6rgbkDsJNy:after{background:#0080004a;right:0;width:auto;height:50px;top:auto}._3mhBzChr2OaI3xGKz-IQg0:after{content:"";background:red;position:absolute;right:-2px;top:0;bottom:0;width:4px}._3mhBzChr2OaI3xGKz-IQg0._3_y6fcNBSXH_6rgbkDsJNy:after{background:#0080004a;left:0;width:auto;height:50px;top:auto}',""]),t.locals={zone:"_2F_O-DuBjkZmbPXYXfBuvm",leftPlaceholder:"_1HdQX7mst0cKI24HgLpcE1",frame:"_3_y6fcNBSXH_6rgbkDsJNy",rightPlaceholder:"_3mhBzChr2OaI3xGKz-IQg0"}},46:function(e,t,r){var n=r(37),o="object"==typeof window?window:self,a=Object.keys(o).length,i=n(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+a.toString(36),4);e.exports=function(){return i}},47:function(e,t){var r,n="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(n){var o=Math.pow(2,32)-1;r=function(){return Math.abs(n.getRandomValues(new Uint32Array(1))[0]/o)}}else r=Math.random;e.exports=r},48:function(e,t,r){var n=r(67);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0};r(4)(n,o);n.locals&&(e.exports=n.locals)},52:function(e,t,r){"use strict";r.d(t,"a",(function(){return x})),r.d(t,"b",(function(){return S}));var n=r(35),o=r.n(n),a=r(7),i=r.n(a),c=r(0),u=r.n(c);r(9);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t=l({},e);return delete t.children,c.Children.map(e.children,(function(e){return t.className+=" "+e.props.className||!1,Object(c.cloneElement)(e,l({},t))}))},p=r(36),d=r.n(p),h=r(8),v=Object(h.a)((function(e,t){return{currentHover:null,placeholderPosition:!0}})),g=i()(v,2),m=g[0],y=g[1];r(38);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=function(e){var t=Object(c.useState)(!1),r=i()(t,2),n=(r[0],r[1]),o=new Image;return"video"===e.data.type?o.src="/CanvasVideoPlayer/assets/images/film.svg":"audio"===e.data.type?o.src="/CanvasVideoPlayer/assets/images/music.svg":o.src="/CanvasVideoPlayer/assets/images/image.svg",u.a.createElement(f,{draggable:!0,onDragStart:function(t){var r,a;t.dataTransfer.setData("data",JSON.stringify({id:e.id,source:e.source,index:e.index,data:e.data}));var i=null===(r=navigator)||void 0===r||null===(a=r.userAgent)||void 0===a?void 0:a.toLowerCase();-1!=i.indexOf("safari")&&i.indexOf("chrome")>-1&&(o.width="5",t.dataTransfer.setDragImage(o,5,5)),y.setState({currentAttr:w({},e)}),n(!0)},onDragEnd:function(e){n(!1),y.setState({currentAttr:null})},attr:e.attr},e.children)};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=null,S=function(e){var t=m(),r=t.currentHover,n=t.placeholderPosition,o=r===e.component,a=Object(c.useState)(!1),s=i()(a,2),l=s[0],p=s[1];function h(){var t=y.getState().currentAttr;return"image"===t.source&&"audio"===e.droppableid||"video"===t.source&&"audio"===e.droppableid||"transition"===t.source&&"audio"===e.droppableid||"effect"===t.source&&"audio"===e.droppableid||"audio"===t.source&&"video"===e.droppableid?(p(!1),!1):("transition"===t.source&&e.component.includes("frame")&&p(!0),"effect"===t.source&&e.component.includes("frame")&&p(!0),!0)}var v=Object(c.useCallback)((function(){if(event.preventDefault(),!h())return!1;if(!("null"===e.component.split("-")[0])){var t=event.target.getBoundingClientRect().x,r=parseInt(event.target.clientWidth/2);event.clientX<t+r?y.setState({placeholderPosition:!0}):y.setState({placeholderPosition:!1})}j&&clearTimeout(j),o||y.setState({currentHover:e.component})}),[event]);return u.a.createElement(f,{className:"".concat(d.a.zone," ").concat(o&&(n?d.a.leftPlaceholder:d.a.rightPlaceholder)||""," ").concat(l?d.a.frame:""),onDragEnter:function(t){return function(t){if(j&&clearTimeout(j),!h())return!1;y.setState({currentHover:e.component}),t.persist()}(t)},onDragLeave:function(e){return j&&clearTimeout(j),void(j=setTimeout((function(){y.setState({currentHover:null})}),800))},onDragOver:function(e){return v(e)},onDrop:function(t){return function(t){t.preventDefault(),t.stopPropagation(),y.setState({currentHover:null});var r=JSON.parse(t.dataTransfer.getData("data")),o=r.data,a=r.source,i=r.index;e.onDragEnd&&e.onDragEnd({element:E(E({},o),{},{source:a,index:i}),to:e,left:n})}(t)}},e.children)}},53:function(e,t,r){"use strict";function n(e){return new Date(1e3*e).toISOString().substr(14,5)}r.d(t,"a",(function(){return n}))},54:function(e,t,r){var n=r(68);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0};r(4)(n,o);n.locals&&(e.exports=n.locals)},64:function(e,t,r){e.exports=r(65)},65:function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new E(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return S()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function p(){}function d(){}var h={};h[o]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==t&&r.call(g,o)&&(h=g);var m=d.prototype=f.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(o,a){function i(){return new t((function(n,i){!function n(o,a,i,c){var u=s(e[o],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=m.constructor=d,d.constructor=p,p.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[a]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(m),c(m,i,"Generator"),m[o]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},66:function(e,t){function r(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function c(e){r(i,o,a,c,u,"next",e)}function u(e){r(i,o,a,c,u,"throw",e)}c(void 0)}))}}},67:function(e,t,r){(t=e.exports=r(3)(!1)).push([e.i,"._2ho3CVIQCLZSQbHWjW3IMP{border:1px solid #e3ebf6;margin-top:80px;margin-left:50px;margin-right:50px}._1VXje8sTW4iESq02EFCO9D{display:flex;padding:5px}._1fScWGxv-ZBoR2USxSOQPe{border-right:1px solid #e3ebf6;width:10%;min-width:130px}._9mQCxhUx3i9hcahQXSRcF{width:100%;height:80px;background:hsla(0,0%,100%,.3);display:flex;overflow-x:scroll;overflow-y:hidden}._1agIExsn1Ynz1YPVUxgUa-{background-size:contain;background-repeat:repeat-x;background-position:0;background-color:#e3ebf6;width:75px;height:60px}._3FY-EQgAn2ysozddz6QcNK{width:90%;height:80px;display:flex;align-items:flex-end}.ymhtZygKVjjNQ6tMss0A8{display:flex;justify-content:space-between;padding:0 5px;border-right:1px solid #e3ebf6;font-size:10px}",""]),t.locals={videoTimeline:"_2ho3CVIQCLZSQbHWjW3IMP",mediasContainer:"_1VXje8sTW4iESq02EFCO9D",title:"_1fScWGxv-ZBoR2USxSOQPe",scenes:"_9mQCxhUx3i9hcahQXSRcF",mediaScene:"_1agIExsn1Ynz1YPVUxgUa-",scenesContainer:"_3FY-EQgAn2ysozddz6QcNK",info:"ymhtZygKVjjNQ6tMss0A8"}},68:function(e,t,r){(t=e.exports=r(3)(!1)).push([e.i,".Lfnp9ObHyugNqfh4G4mjf{border:1px solid #e3ebf6;max-width:800px;margin:0 auto;padding:5px;display:flex}.Qu5EBklCzC-r6mpLzFuj-{width:100%;height:100%}._1OQ9ervw9HK0Z9ciMEaXf0{margin-top:15px;text-align:center}",""]),t.locals={videoPlayer:"Lfnp9ObHyugNqfh4G4mjf",video:"Qu5EBklCzC-r6mpLzFuj-",videoContainer:"_1OQ9ervw9HK0Z9ciMEaXf0"}}}]);