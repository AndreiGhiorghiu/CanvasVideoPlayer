var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e={exports:{}},n={},r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var s=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,l=a(t),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l},l=s,u="function"==typeof Symbol&&Symbol.for,c=u?Symbol.for("react.element"):60103,h=u?Symbol.for("react.portal"):60106,f=u?Symbol.for("react.fragment"):60107,d=u?Symbol.for("react.strict_mode"):60108,p=u?Symbol.for("react.profiler"):60114,g=u?Symbol.for("react.provider"):60109,y=u?Symbol.for("react.context"):60110,v=u?Symbol.for("react.forward_ref"):60112,m=u?Symbol.for("react.suspense"):60113,b=u?Symbol.for("react.memo"):60115,_=u?Symbol.for("react.lazy"):60116,x="function"==typeof Symbol&&Symbol.iterator;
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function w(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C={};function k(t,e,n){this.props=t,this.context=e,this.refs=C,this.updater=n||S}function T(){}function P(t,e,n){this.props=t,this.context=e,this.refs=C,this.updater=n||S}k.prototype.isReactComponent={},k.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(w(85));this.updater.enqueueSetState(this,t,e,"setState")},k.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},T.prototype=k.prototype;var E=P.prototype=new T;E.constructor=P,l(E,k.prototype),E.isPureReactComponent=!0;var O={current:null},M=Object.prototype.hasOwnProperty,F={key:!0,ref:!0,__self:!0,__source:!0};function A(t,e,n){var r,i={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)M.call(e,r)&&!F.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:c,type:t,key:o,ref:a,props:i,_owner:O.current}}function N(t){return"object"==typeof t&&null!==t&&t.$$typeof===c}var D=/\/+/g,R=[];function I(t,e,n,r){if(R.length){var i=R.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function L(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>R.length&&R.push(t)}function G(t,e,n,r){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var o=!1;if(null===t)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case c:case h:o=!0}}if(o)return n(r,t,""===e?"."+z(t,0):e),1;if(o=0,e=""===e?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){var s=e+z(i=t[a],a);o+=G(i,s,n,r)}else if(null===t||"object"!=typeof t?s=null:s="function"==typeof(s=x&&t[x]||t["@@iterator"])?s:null,"function"==typeof s)for(t=s.call(t),a=0;!(i=t.next()).done;)o+=G(i=i.value,s=e+z(i,a++),n,r);else if("object"===i)throw n=""+t,Error(w(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return o}function U(t,e,n){return null==t?0:G(t,"",e,n)}function z(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,(function(t){return e[t]}))}(t.key):e.toString(36)}function j(t,e){t.func.call(t.context,e,t.count++)}function B(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?V(t,r,n,(function(t){return t})):null!=t&&(N(t)&&(t=function(t,e){return{$$typeof:c,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(D,"$&/")+"/")+n)),r.push(t))}function V(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(D,"$&/")+"/"),U(t,B,e=I(e,o,r,i)),L(e)}var W={current:null};function H(){var t=W.current;if(null===t)throw Error(w(321));return t}var K={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:l};n.Children={map:function(t,e,n){if(null==t)return t;var r=[];return V(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;U(t,j,e=I(null,null,e,n)),L(e)},count:function(t){return U(t,(function(){return null}),null)},toArray:function(t){var e=[];return V(t,e,null,(function(t){return t})),e},only:function(t){if(!N(t))throw Error(w(143));return t}},n.Component=k,n.Fragment=f,n.Profiler=p,n.PureComponent=P,n.StrictMode=d,n.Suspense=m,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,n.cloneElement=function(t,e,n){if(null==t)throw Error(w(267,t));var r=l({},t.props),i=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=O.current),void 0!==e.key&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)M.call(e,u)&&!F.hasOwnProperty(u)&&(r[u]=void 0===e[u]&&void 0!==s?s[u]:e[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){s=Array(u);for(var h=0;h<u;h++)s[h]=arguments[h+2];r.children=s}return{$$typeof:c,type:t.type,key:i,ref:o,props:r,_owner:a}},n.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:y,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:g,_context:t},t.Consumer=t},n.createElement=A,n.createFactory=function(t){var e=A.bind(null,t);return e.type=t,e},n.createRef=function(){return{current:null}},n.forwardRef=function(t){return{$$typeof:v,render:t}},n.isValidElement=N,n.lazy=function(t){return{$$typeof:_,_ctor:t,_status:-1,_result:null}},n.memo=function(t,e){return{$$typeof:b,type:t,compare:void 0===e?null:e}},n.useCallback=function(t,e){return H().useCallback(t,e)},n.useContext=function(t,e){return H().useContext(t,e)},n.useDebugValue=function(){},n.useEffect=function(t,e){return H().useEffect(t,e)},n.useImperativeHandle=function(t,e,n){return H().useImperativeHandle(t,e,n)},n.useLayoutEffect=function(t,e){return H().useLayoutEffect(t,e)},n.useMemo=function(t,e){return H().useMemo(t,e)},n.useReducer=function(t,e,n){return H().useReducer(t,e,n)},n.useRef=function(t){return H().useRef(t)},n.useState=function(t){return H().useState(t)},n.version="16.14.0",e.exports=n;var Y=e.exports,X={exports:{}},q={},Q={exports:{}},$={};
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(t){var e,n,r,i,o;if("undefined"==typeof window||"function"!=typeof MessageChannel){var a=null,s=null,l=function(){if(null!==a)try{var e=t.unstable_now();a(!0,e),a=null}catch(n){throw setTimeout(l,0),n}},u=Date.now();t.unstable_now=function(){return Date.now()-u},e=function(t){null!==a?setTimeout(e,0,t):(a=t,setTimeout(l,0))},n=function(t,e){s=setTimeout(t,e)},r=function(){clearTimeout(s)},i=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var c=window.performance,h=window.Date,f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof c&&"function"==typeof c.now)t.unstable_now=function(){return c.now()};else{var g=h.now();t.unstable_now=function(){return h.now()-g}}var y=!1,v=null,m=-1,b=5,_=0;i=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();_=e+b;try{v(!0,e)?w.postMessage(null):(y=!1,v=null)}catch(n){throw w.postMessage(null),n}}else y=!1},e=function(t){v=t,y||(y=!0,w.postMessage(null))},n=function(e,n){m=f((function(){e(t.unstable_now())}),n)},r=function(){d(m),m=-1}}function S(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<T(i,e)))break t;t[r]=e,t[n]=i,n=r}}function C(t){return void 0===(t=t[0])?null:t}function k(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>T(a,n))void 0!==l&&0>T(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>T(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var P=[],E=[],O=1,M=null,F=3,A=!1,N=!1,D=!1;function R(t){for(var e=C(E);null!==e;){if(null===e.callback)k(E);else{if(!(e.startTime<=t))break;k(E),e.sortIndex=e.expirationTime,S(P,e)}e=C(E)}}function I(t){if(D=!1,R(t),!N)if(null!==C(P))N=!0,e(L);else{var r=C(E);null!==r&&n(I,r.startTime-t)}}function L(e,o){N=!1,D&&(D=!1,r()),A=!0;var a=F;try{for(R(o),M=C(P);null!==M&&(!(M.expirationTime>o)||e&&!i());){var s=M.callback;if(null!==s){M.callback=null,F=M.priorityLevel;var l=s(M.expirationTime<=o);o=t.unstable_now(),"function"==typeof l?M.callback=l:M===C(P)&&k(P),R(o)}else k(P);M=C(P)}if(null!==M)var u=!0;else{var c=C(E);null!==c&&n(I,c.startTime-o),u=!1}return u}finally{M=null,F=a,A=!1}}function G(t){switch(t){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(t){t.callback=null},t.unstable_continueExecution=function(){N||A||(N=!0,e(L))},t.unstable_getCurrentPriorityLevel=function(){return F},t.unstable_getFirstCallbackNode=function(){return C(P)},t.unstable_next=function(t){switch(F){case 1:case 2:case 3:var e=3;break;default:e=F}var n=F;F=e;try{return t()}finally{F=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=F;F=t;try{return e()}finally{F=n}},t.unstable_scheduleCallback=function(i,o,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:G(i)}else a=G(i),l=s;return i={id:O++,callback:o,priorityLevel:i,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(i.sortIndex=l,S(E,i),null===C(P)&&i===C(E)&&(D?r():D=!0,n(I,l-s))):(i.sortIndex=a,S(P,i),N||A||(N=!0,e(L))),i},t.unstable_shouldYield=function(){var e=t.unstable_now();R(e);var n=C(P);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<M.expirationTime||i()},t.unstable_wrapCallback=function(t){var e=F;return function(){var n=F;F=e;try{return t.apply(this,arguments)}finally{F=n}}}}($),Q.exports=$;
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var J=e.exports,Z=s,tt=Q.exports;function et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!J)throw Error(et(227));function nt(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var rt=!1,it=null,ot=!1,at=null,st={onError:function(t){rt=!0,it=t}};function lt(t,e,n,r,i,o,a,s,l){rt=!1,it=null,nt.apply(st,arguments)}var ut=null,ct=null,ht=null;function ft(t,e,n){var r=t.type||"unknown-event";t.currentTarget=ht(n),function(t,e,n,r,i,o,a,s,l){if(lt.apply(this,arguments),rt){if(!rt)throw Error(et(198));var u=it;rt=!1,it=null,ot||(ot=!0,at=u)}}(r,e,void 0,t),t.currentTarget=null}var dt=null,pt={};function gt(){if(dt)for(var t in pt){var e=pt[t],n=dt.indexOf(t);if(!(-1<n))throw Error(et(96,t));if(!vt[n]){if(!e.extractEvents)throw Error(et(97,t));for(var r in vt[n]=e,n=e.eventTypes){var i=void 0,o=n[r],a=e,s=r;if(mt.hasOwnProperty(s))throw Error(et(99,s));mt[s]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&yt(l[i],a,s);i=!0}else o.registrationName?(yt(o.registrationName,a,s),i=!0):i=!1;if(!i)throw Error(et(98,r,t))}}}}function yt(t,e,n){if(bt[t])throw Error(et(100,t));bt[t]=e,_t[t]=e.eventTypes[n].dependencies}var vt=[],mt={},bt={},_t={};function xt(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];if(!pt.hasOwnProperty(e)||pt[e]!==r){if(pt[e])throw Error(et(102,e));pt[e]=r,n=!0}}n&&gt()}var wt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),St=null,Ct=null,kt=null;function Tt(t){if(t=ct(t)){if("function"!=typeof St)throw Error(et(280));var e=t.stateNode;e&&(e=ut(e),St(t.stateNode,t.type,e))}}function Pt(t){Ct?kt?kt.push(t):kt=[t]:Ct=t}function Et(){if(Ct){var t=Ct,e=kt;if(kt=Ct=null,Tt(t),e)for(t=0;t<e.length;t++)Tt(e[t])}}function Ot(t,e){return t(e)}function Mt(t,e,n,r,i){return t(e,n,r,i)}function Ft(){}var At=Ot,Nt=!1,Dt=!1;function Rt(){null===Ct&&null===kt||(Ft(),Et())}function It(t,e,n){if(Dt)return t(e,n);Dt=!0;try{return At(t,e,n)}finally{Dt=!1,Rt()}}var Lt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gt=Object.prototype.hasOwnProperty,Ut={},zt={};function jt(t,e,n,r,i,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){Bt[t]=new jt(t,0,!1,t,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];Bt[e]=new jt(e,1,!1,t[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){Bt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){Bt[t]=new jt(t,2,!1,t,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){Bt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(t){Bt[t]=new jt(t,3,!0,t,null,!1)})),["capture","download"].forEach((function(t){Bt[t]=new jt(t,4,!1,t,null,!1)})),["cols","rows","size","span"].forEach((function(t){Bt[t]=new jt(t,6,!1,t,null,!1)})),["rowSpan","start"].forEach((function(t){Bt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1)}));var Vt=/[\-:]([a-z])/g;function Wt(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(Vt,Wt);Bt[e]=new jt(e,1,!1,t,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(Vt,Wt);Bt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(Vt,Wt);Bt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(t){Bt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1)})),Bt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(t){Bt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0)}));var Ht=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Kt(t,e,n,r){var i=Bt.hasOwnProperty(e)?Bt[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!Gt.call(zt,t)||!Gt.call(Ut,t)&&(Lt.test(t)?zt[t]=!0:(Ut[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}Ht.hasOwnProperty("ReactCurrentDispatcher")||(Ht.ReactCurrentDispatcher={current:null}),Ht.hasOwnProperty("ReactCurrentBatchConfig")||(Ht.ReactCurrentBatchConfig={suspense:null});var Yt=/^(.*)[\\\/]/,Xt="function"==typeof Symbol&&Symbol.for,qt=Xt?Symbol.for("react.element"):60103,Qt=Xt?Symbol.for("react.portal"):60106,$t=Xt?Symbol.for("react.fragment"):60107,Jt=Xt?Symbol.for("react.strict_mode"):60108,Zt=Xt?Symbol.for("react.profiler"):60114,te=Xt?Symbol.for("react.provider"):60109,ee=Xt?Symbol.for("react.context"):60110,ne=Xt?Symbol.for("react.concurrent_mode"):60111,re=Xt?Symbol.for("react.forward_ref"):60112,ie=Xt?Symbol.for("react.suspense"):60113,oe=Xt?Symbol.for("react.suspense_list"):60120,ae=Xt?Symbol.for("react.memo"):60115,se=Xt?Symbol.for("react.lazy"):60116,le=Xt?Symbol.for("react.block"):60121,ue="function"==typeof Symbol&&Symbol.iterator;function ce(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=ue&&t[ue]||t["@@iterator"])?t:null}function he(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case $t:return"Fragment";case Qt:return"Portal";case Zt:return"Profiler";case Jt:return"StrictMode";case ie:return"Suspense";case oe:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case ee:return"Context.Consumer";case te:return"Context.Provider";case re:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ae:return he(t.type);case le:return he(t.render);case se:if(t=1===t._status?t._result:null)return he(t)}return null}function fe(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var r=t._debugOwner,i=t._debugSource,o=he(t.type);n=null,r&&(n=he(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Yt,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}e+=n,t=t.return}while(t);return e}function de(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function pe(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function ge(t){t._valueTracker||(t._valueTracker=function(t){var e=pe(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function ye(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pe(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function ve(t,e){var n=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function me(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=de(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function be(t,e){null!=(e=e.checked)&&Kt(t,"checked",e,!1)}function _e(t,e){be(t,e);var n=de(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?we(t,e.type,n):e.hasOwnProperty("defaultValue")&&we(t,e.type,de(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function xe(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function we(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Se(t,e){return t=Z({children:void 0},e),(e=function(t){var e="";return J.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function Ce(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+de(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function ke(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(et(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Te(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(et(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(et(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:de(n)}}function Pe(t,e){var n=de(e.value),r=de(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function Ee(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var Oe="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function Fe(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ae(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?Fe(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var Ne,De,Re=(De=function(t,e){if(t.namespaceURI!==Me||"innerHTML"in t)t.innerHTML=e;else{for((Ne=Ne||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ne.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return De(t,e)}))}:De);function Ie(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function Le(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ge={animationend:Le("Animation","AnimationEnd"),animationiteration:Le("Animation","AnimationIteration"),animationstart:Le("Animation","AnimationStart"),transitionend:Le("Transition","TransitionEnd")},Ue={},ze={};function je(t){if(Ue[t])return Ue[t];if(!Ge[t])return t;var e,n=Ge[t];for(e in n)if(n.hasOwnProperty(e)&&e in ze)return Ue[t]=n[e];return t}wt&&(ze=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Be=je("animationend"),Ve=je("animationiteration"),We=je("animationstart"),He=je("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new("function"==typeof WeakMap?WeakMap:Map);function Xe(t){var e=Ye.get(t);return void 0===e&&(e=new Map,Ye.set(t,e)),e}function qe(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).effectTag)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Qe(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function $e(t){if(qe(t)!==t)throw Error(et(188))}function Je(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=qe(t)))throw Error(et(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),t;if(o===r)return $e(i),e;o=o.sibling}throw Error(et(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(et(189))}}if(n.alternate!==r)throw Error(et(190))}if(3!==n.tag)throw Error(et(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Ze(t,e){if(null==e)throw Error(et(30));return null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function tn(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}var en=null;function nn(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var r=0;r<e.length&&!t.isPropagationStopped();r++)ft(t,e[r],n[r]);else e&&ft(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function rn(t){if(null!==t&&(en=Ze(en,t)),t=en,en=null,t){if(tn(t,nn),en)throw Error(et(95));if(ot)throw t=at,ot=!1,at=null,t}}function on(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function an(t){if(!wt)return!1;var e=(t="on"+t)in document;return e||((e=document.createElement("div")).setAttribute(t,"return;"),e="function"==typeof e[t]),e}var sn=[];function ln(t){t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>sn.length&&sn.push(t)}function un(t,e,n,r){if(sn.length){var i=sn.pop();return i.topLevelType=t,i.eventSystemFlags=r,i.nativeEvent=e,i.targetInst=n,i}return{topLevelType:t,eventSystemFlags:r,nativeEvent:e,targetInst:n,ancestors:[]}}function cn(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(e=n.tag)&&6!==e||t.ancestors.push(n),n=Cr(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=on(t.nativeEvent);r=t.topLevelType;var o=t.nativeEvent,a=t.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<vt.length;l++){var u=vt[l];u&&(u=u.extractEvents(r,e,o,i,a))&&(s=Ze(s,u))}rn(s)}}function hn(t,e,n){if(!n.has(t)){switch(t){case"scroll":Hn(e,"scroll",!0);break;case"focus":case"blur":Hn(e,"focus",!0),Hn(e,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":an(t)&&Hn(e,t,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(t)&&Wn(t,e)}n.set(t,null)}}var fn,dn,pn,gn=!1,yn=[],vn=null,mn=null,bn=null,_n=new Map,xn=new Map,wn=[],Sn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Cn="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function kn(t,e,n,r,i){return{blockedOn:t,topLevelType:e,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Tn(t,e){switch(t){case"focus":case"blur":vn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":_n.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(e.pointerId)}}function Pn(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=kn(e,n,r,i,o),null!==e&&(null!==(e=kr(e))&&dn(e)),t):(t.eventSystemFlags|=r,t)}function En(t){var e=Cr(t.target);if(null!==e){var n=qe(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Qe(n)))return t.blockedOn=e,void tt.unstable_runWithPriority(t.priority,(function(){pn(n)}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function On(t){if(null!==t.blockedOn)return!1;var e=qn(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);if(null!==e){var n=kr(e);return null!==n&&dn(n),t.blockedOn=e,!1}return!0}function Mn(t,e,n){On(t)&&n.delete(e)}function Fn(){for(gn=!1;0<yn.length;){var t=yn[0];if(null!==t.blockedOn){null!==(t=kr(t.blockedOn))&&fn(t);break}var e=qn(t.topLevelType,t.eventSystemFlags,t.container,t.nativeEvent);null!==e?t.blockedOn=e:yn.shift()}null!==vn&&On(vn)&&(vn=null),null!==mn&&On(mn)&&(mn=null),null!==bn&&On(bn)&&(bn=null),_n.forEach(Mn),xn.forEach(Mn)}function An(t,e){t.blockedOn===e&&(t.blockedOn=null,gn||(gn=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,Fn)))}function Nn(t){function e(e){return An(e,t)}if(0<yn.length){An(yn[0],t);for(var n=1;n<yn.length;n++){var r=yn[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==vn&&An(vn,t),null!==mn&&An(mn,t),null!==bn&&An(bn,t),_n.forEach(e),xn.forEach(e),n=0;n<wn.length;n++)(r=wn[n]).blockedOn===t&&(r.blockedOn=null);for(;0<wn.length&&null===(n=wn[0]).blockedOn;)En(n),null===n.blockedOn&&wn.shift()}var Dn={},Rn=new Map,In=new Map,Ln=["abort","abort",Be,"animationEnd",Ve,"animationIteration",We,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",He,"transitionEnd","waiting","waiting"];function Gn(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:e},In.set(r,e),Rn.set(r,o),Dn[i]=o}}Gn("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Gn("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Gn(Ln,2);for(var Un="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zn=0;zn<Un.length;zn++)In.set(Un[zn],0);var jn=tt.unstable_UserBlockingPriority,Bn=tt.unstable_runWithPriority,Vn=!0;function Wn(t,e){Hn(e,t,!1)}function Hn(t,e,n){var r=In.get(e);switch(void 0===r?2:r){case 0:r=Kn.bind(null,e,1,t);break;case 1:r=Yn.bind(null,e,1,t);break;default:r=Xn.bind(null,e,1,t)}n?t.addEventListener(e,r,!0):t.addEventListener(e,r,!1)}function Kn(t,e,n,r){Nt||Ft();var i=Xn,o=Nt;Nt=!0;try{Mt(i,t,e,n,r)}finally{(Nt=o)||Rt()}}function Yn(t,e,n,r){Bn(jn,Xn.bind(null,t,e,n,r))}function Xn(t,e,n,r){if(Vn)if(0<yn.length&&-1<Sn.indexOf(t))t=kn(null,t,e,n,r),yn.push(t);else{var i=qn(t,e,n,r);if(null===i)Tn(t,r);else if(-1<Sn.indexOf(t))t=kn(i,t,e,n,r),yn.push(t);else if(!function(t,e,n,r,i){switch(e){case"focus":return vn=Pn(vn,t,e,n,r,i),!0;case"dragenter":return mn=Pn(mn,t,e,n,r,i),!0;case"mouseover":return bn=Pn(bn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return _n.set(o,Pn(_n.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xn.set(o,Pn(xn.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r)){Tn(t,r),t=un(t,r,null,e);try{It(cn,t)}finally{ln(t)}}}}function qn(t,e,n,r){if(null!==(n=Cr(n=on(r)))){var i=qe(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=Qe(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}t=un(t,r,n,e);try{It(cn,t)}finally{ln(t)}return null}var Qn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$n=["Webkit","ms","Moz","O"];function Jn(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||Qn.hasOwnProperty(t)&&Qn[t]?(""+e).trim():e+"px"}function Zn(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Jn(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(Qn).forEach((function(t){$n.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qn[e]=Qn[t]}))}));var tr=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function er(t,e){if(e){if(tr[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(et(137,t,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(et(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(et(62,""))}}function nr(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rr=Oe;function ir(t,e){var n=Xe(t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument);e=_t[e];for(var r=0;r<e.length;r++)hn(e[r],t,n)}function or(){}function ar(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function sr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lr(t,e){var n,r=sr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=sr(r)}}function ur(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?ur(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function cr(){for(var t=window,e=ar();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=ar((t=e.contentWindow).document)}return e}function hr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var fr=null,dr=null;function pr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function gr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var yr="function"==typeof setTimeout?setTimeout:void 0,vr="function"==typeof clearTimeout?clearTimeout:void 0;function mr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function br(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var _r=Math.random().toString(36).slice(2),xr="__reactInternalInstance$"+_r,wr="__reactEventHandlers$"+_r,Sr="__reactContainere$"+_r;function Cr(t){var e=t[xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[xr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=br(t);null!==t;){if(n=t[xr])return n;t=br(t)}return e}n=(t=n).parentNode}return null}function kr(t){return!(t=t[xr]||t[Sr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function Tr(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(et(33))}function Pr(t){return t[wr]||null}function Er(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function Or(t,e){var n=t.stateNode;if(!n)return null;var r=ut(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(et(231,e,typeof n));return n}function Mr(t,e,n){(e=Or(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=Ze(n._dispatchListeners,e),n._dispatchInstances=Ze(n._dispatchInstances,t))}function Fr(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=Er(e);for(e=n.length;0<e--;)Mr(n[e],"captured",t);for(e=0;e<n.length;e++)Mr(n[e],"bubbled",t)}}function Ar(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=Or(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Ze(n._dispatchListeners,e),n._dispatchInstances=Ze(n._dispatchInstances,t))}function Nr(t){t&&t.dispatchConfig.registrationName&&Ar(t._targetInst,null,t)}function Dr(t){tn(t,Fr)}var Rr=null,Ir=null,Lr=null;function Gr(){if(Lr)return Lr;var t,e,n=Ir,r=n.length,i="value"in Rr?Rr.value:Rr.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Lr=i.slice(t,1<e?1-e:void 0)}function Ur(){return!0}function zr(){return!1}function jr(t,e,n,r){for(var i in this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Ur:zr,this.isPropagationStopped=zr,this}function Br(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function Vr(t){if(!(t instanceof this))throw Error(et(279));t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function Wr(t){t.eventPool=[],t.getPooled=Br,t.release=Vr}Z(jr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){this.isPersistent=Ur},isPersistent:zr,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zr,this._dispatchInstances=this._dispatchListeners=null}}),jr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},jr.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return Z(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=Z({},r.Interface,t),n.extend=r.extend,Wr(n),n},Wr(jr);var Hr=jr.extend({data:null}),Kr=jr.extend({data:null}),Yr=[9,13,27,32],Xr=wt&&"CompositionEvent"in window,qr=null;wt&&"documentMode"in document&&(qr=document.documentMode);var Qr=wt&&"TextEvent"in window&&!qr,$r=wt&&(!Xr||qr&&8<qr&&11>=qr),Jr=String.fromCharCode(32),Zr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ti=!1;function ei(t,e){switch(t){case"keyup":return-1!==Yr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ni(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var ri=!1;var ii={eventTypes:Zr,extractEvents:function(t,e,n,r){var i;if(Xr)t:{switch(t){case"compositionstart":var o=Zr.compositionStart;break t;case"compositionend":o=Zr.compositionEnd;break t;case"compositionupdate":o=Zr.compositionUpdate;break t}o=void 0}else ri?ei(t,n)&&(o=Zr.compositionEnd):"keydown"===t&&229===n.keyCode&&(o=Zr.compositionStart);return o?($r&&"ko"!==n.locale&&(ri||o!==Zr.compositionStart?o===Zr.compositionEnd&&ri&&(i=Gr()):(Ir="value"in(Rr=r)?Rr.value:Rr.textContent,ri=!0)),o=Hr.getPooled(o,e,n,r),i?o.data=i:null!==(i=ni(n))&&(o.data=i),Dr(o),i=o):i=null,(t=Qr?function(t,e){switch(t){case"compositionend":return ni(e);case"keypress":return 32!==e.which?null:(ti=!0,Jr);case"textInput":return(t=e.data)===Jr&&ti?null:t;default:return null}}(t,n):function(t,e){if(ri)return"compositionend"===t||!Xr&&ei(t,e)?(t=Gr(),Lr=Ir=Rr=null,ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $r&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))?((e=Kr.getPooled(Zr.beforeInput,e,n,r)).data=t,Dr(e)):e=null,null===i?e:null===e?i:[i,e]}},oi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ai(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!oi[t.type]:"textarea"===e}var si={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function li(t,e,n){return(t=jr.getPooled(si.change,t,e,n)).type="change",Pt(n),Dr(t),t}var ui=null,ci=null;function hi(t){rn(t)}function fi(t){if(ye(Tr(t)))return t}function di(t,e){if("change"===t)return e}var pi=!1;function gi(){ui&&(ui.detachEvent("onpropertychange",yi),ci=ui=null)}function yi(t){if("value"===t.propertyName&&fi(ci))if(t=li(ci,t,on(t)),Nt)rn(t);else{Nt=!0;try{Ot(hi,t)}finally{Nt=!1,Rt()}}}function vi(t,e,n){"focus"===t?(gi(),ci=n,(ui=e).attachEvent("onpropertychange",yi)):"blur"===t&&gi()}function mi(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return fi(ci)}function bi(t,e){if("click"===t)return fi(e)}function _i(t,e){if("input"===t||"change"===t)return fi(e)}wt&&(pi=an("input")&&(!document.documentMode||9<document.documentMode));var xi={eventTypes:si,_isInputEventSupported:pi,extractEvents:function(t,e,n,r){var i=e?Tr(e):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=di;else if(ai(i))if(pi)a=_i;else{a=mi;var s=vi}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=bi);if(a&&(a=a(t,e)))return li(a,n,r);s&&s(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&we(i,"number",i.value)}},wi=jr.extend({view:null,detail:null}),Si={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ci(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Si[t])&&!!e[t]}function ki(){return Ci}var Ti=0,Pi=0,Ei=!1,Oi=!1,Mi=wi.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ki,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=Ti;return Ti=t.screenX,Ei?"mousemove"===t.type?t.screenX-e:0:(Ei=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=Pi;return Pi=t.screenY,Oi?"mousemove"===t.type?t.screenY-e:0:(Oi=!0,0)}}),Fi=Mi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ai={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ni={eventTypes:Ai,extractEvents:function(t,e,n,r,i){var o="mouseover"===t||"pointerover"===t,a="mouseout"===t||"pointerout"===t;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=e,null!==(e=(e=n.relatedTarget||n.toElement)?Cr(e):null)&&(e!==qe(e)||5!==e.tag&&6!==e.tag)&&(e=null)):a=null;if(a===e)return null;if("mouseout"===t||"mouseover"===t)var s=Mi,l=Ai.mouseLeave,u=Ai.mouseEnter,c="mouse";else"pointerout"!==t&&"pointerover"!==t||(s=Fi,l=Ai.pointerLeave,u=Ai.pointerEnter,c="pointer");if(t=null==a?o:Tr(a),o=null==e?o:Tr(e),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=t,l.relatedTarget=o,(n=s.getPooled(u,e,n,r)).type=c+"enter",n.target=o,n.relatedTarget=t,c=e,(r=a)&&c)t:{for(u=c,a=0,t=s=r;t;t=Er(t))a++;for(t=0,e=u;e;e=Er(e))t++;for(;0<a-t;)s=Er(s),a--;for(;0<t-a;)u=Er(u),t--;for(;a--;){if(s===u||s===u.alternate)break t;s=Er(s),u=Er(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=Er(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=Er(c);for(c=0;c<s.length;c++)Ar(s[c],"bubbled",l);for(c=r.length;0<c--;)Ar(r[c],"captured",n);return 0==(64&i)?[l]:[l,n]}};var Di="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Ri=Object.prototype.hasOwnProperty;function Ii(t,e){if(Di(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Ri.call(e,n[r])||!Di(t[n[r]],e[n[r]]))return!1;return!0}var Li=wt&&"documentMode"in document&&11>=document.documentMode,Gi={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ui=null,zi=null,ji=null,Bi=!1;function Vi(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Bi||null==Ui||Ui!==ar(n)?null:("selectionStart"in(n=Ui)&&hr(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ji&&Ii(ji,n)?null:(ji=n,(t=jr.getPooled(Gi.select,zi,t,e)).type="select",t.target=Ui,Dr(t),t))}var Wi={eventTypes:Gi,extractEvents:function(t,e,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){t:{i=Xe(i),o=_t.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break t}i=!0}o=!i}if(o)return null;switch(i=e?Tr(e):window,t){case"focus":(ai(i)||"true"===i.contentEditable)&&(Ui=i,zi=e,ji=null);break;case"blur":ji=zi=Ui=null;break;case"mousedown":Bi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Bi=!1,Vi(n,r);case"selectionchange":if(Li)break;case"keydown":case"keyup":return Vi(n,r)}return null}},Hi=jr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ki=jr.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yi=wi.extend({relatedTarget:null});function Xi(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}var qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$i=wi.extend({key:function(t){if(t.key){var e=qi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=Xi(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Qi[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ki,charCode:function(t){return"keypress"===t.type?Xi(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Xi(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ji=Mi.extend({dataTransfer:null}),Zi=wi.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ki}),to=jr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),eo=Mi.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),no={eventTypes:Dn,extractEvents:function(t,e,n,r){var i=Rn.get(t);if(!i)return null;switch(t){case"keypress":if(0===Xi(n))return null;case"keydown":case"keyup":t=$i;break;case"blur":case"focus":t=Yi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=Mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=Ji;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=Zi;break;case Be:case Ve:case We:t=Hi;break;case He:t=to;break;case"scroll":t=wi;break;case"wheel":t=eo;break;case"copy":case"cut":case"paste":t=Ki;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=Fi;break;default:t=jr}return Dr(e=t.getPooled(i,e,n,r)),e}};if(dt)throw Error(et(101));dt=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),gt(),ut=Pr,ct=kr,ht=Tr,xt({SimpleEventPlugin:no,EnterLeaveEventPlugin:Ni,ChangeEventPlugin:xi,SelectEventPlugin:Wi,BeforeInputEventPlugin:ii});var ro=[],io=-1;function oo(t){0>io||(t.current=ro[io],ro[io]=null,io--)}function ao(t,e){io++,ro[io]=t.current,t.current=e}var so={},lo={current:so},uo={current:!1},co=so;function ho(t,e){var n=t.type.contextTypes;if(!n)return so;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function fo(t){return null!=(t=t.childContextTypes)}function po(){oo(uo),oo(lo)}function go(t,e,n){if(lo.current!==so)throw Error(et(168));ao(lo,e),ao(uo,n)}function yo(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(et(108,he(e)||"Unknown",i));return Z({},n,{},r)}function vo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||so,co=lo.current,ao(lo,t),ao(uo,uo.current),!0}function mo(t,e,n){var r=t.stateNode;if(!r)throw Error(et(169));n?(t=yo(t,e,co),r.__reactInternalMemoizedMergedChildContext=t,oo(uo),oo(lo),ao(lo,t)):oo(uo),ao(uo,n)}var bo=tt.unstable_runWithPriority,_o=tt.unstable_scheduleCallback,xo=tt.unstable_cancelCallback,wo=tt.unstable_requestPaint,So=tt.unstable_now,Co=tt.unstable_getCurrentPriorityLevel,ko=tt.unstable_ImmediatePriority,To=tt.unstable_UserBlockingPriority,Po=tt.unstable_NormalPriority,Eo=tt.unstable_LowPriority,Oo=tt.unstable_IdlePriority,Mo={},Fo=tt.unstable_shouldYield,Ao=void 0!==wo?wo:function(){},No=null,Do=null,Ro=!1,Io=So(),Lo=1e4>Io?So:function(){return So()-Io};function Go(){switch(Co()){case ko:return 99;case To:return 98;case Po:return 97;case Eo:return 96;case Oo:return 95;default:throw Error(et(332))}}function Uo(t){switch(t){case 99:return ko;case 98:return To;case 97:return Po;case 96:return Eo;case 95:return Oo;default:throw Error(et(332))}}function zo(t,e){return t=Uo(t),bo(t,e)}function jo(t,e,n){return t=Uo(t),_o(t,e,n)}function Bo(t){return null===No?(No=[t],Do=_o(ko,Wo)):No.push(t),Mo}function Vo(){if(null!==Do){var t=Do;Do=null,xo(t)}Wo()}function Wo(){if(!Ro&&null!==No){Ro=!0;var t=0;try{var e=No;zo(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),No=null}catch(n){throw null!==No&&(No=No.slice(t+1)),_o(ko,Vo),n}finally{Ro=!1}}}function Ho(t,e,n){return 1073741821-(1+((1073741821-t+e/10)/(n/=10)|0))*n}function Ko(t,e){if(t&&t.defaultProps)for(var n in e=Z({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}var Yo={current:null},Xo=null,qo=null,Qo=null;function $o(){Qo=qo=Xo=null}function Jo(t){var e=Yo.current;oo(Yo),t.type._context._currentValue=e}function Zo(t,e){for(;null!==t;){var n=t.alternate;if(t.childExpirationTime<e)t.childExpirationTime=e,null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e);else{if(!(null!==n&&n.childExpirationTime<e))break;n.childExpirationTime=e}t=t.return}}function ta(t,e){Xo=t,Qo=qo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(t.expirationTime>=e&&(Ps=!0),t.firstContext=null)}function ea(t,e){if(Qo!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Qo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===qo){if(null===Xo)throw Error(et(308));qo=e,Xo.dependencies={expirationTime:0,firstContext:e,responders:null}}else qo=qo.next=e;return t._currentValue}var na=!1;function ra(t){t.updateQueue={baseState:t.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ia(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,baseQueue:t.baseQueue,shared:t.shared,effects:t.effects})}function oa(t,e){return(t={expirationTime:t,suspenseConfig:e,tag:0,payload:null,callback:null,next:null}).next=t}function aa(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function sa(t,e){var n=t.alternate;null!==n&&ia(n,t),null===(n=(t=t.updateQueue).baseQueue)?(t.baseQueue=e.next=e,e.next=e):(e.next=n.next,n.next=e)}function la(t,e,n,r){var i=t.updateQueue;na=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,null!==(s=t.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=a))}if(null!==o){s=o.next;var l=i.baseState,u=0,c=null,h=null,f=null;if(null!==s)for(var d=s;;){if((a=d.expirationTime)<r){var p={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===f?(h=f=p,c=l):f=f.next=p,a>u&&(u=a)}else{null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),iu(a,d.suspenseConfig);t:{var g=t,y=d;switch(a=e,p=n,y.tag){case 1:if("function"==typeof(g=y.payload)){l=g.call(p,l,a);break t}l=g;break t;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(a="function"==typeof(g=y.payload)?g.call(p,l,a):g))break t;l=Z({},l,a);break t;case 2:na=!0}}null!==d.callback&&(t.effectTag|=32,null===(a=i.effects)?i.effects=[d]:a.push(d))}if(null===(d=d.next)||d===s){if(null===(a=i.shared.pending))break;d=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===f?c=l:f.next=h,i.baseState=c,i.baseQueue=f,ou(u),t.expirationTime=u,t.memoizedState=l}}function ua(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(et(191,r));r.call(i)}}}var ca=Ht.ReactCurrentBatchConfig,ha=(new J.Component).refs;function fa(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:Z({},e,n),t.memoizedState=n,0===t.expirationTime&&(t.updateQueue.baseState=n)}var da={isMounted:function(t){return!!(t=t._reactInternalFiber)&&qe(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=Hl(),i=ca.suspense;(i=oa(r=Kl(r,t,i),i)).payload=e,null!=n&&(i.callback=n),aa(t,i),Yl(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=Hl(),i=ca.suspense;(i=oa(r=Kl(r,t,i),i)).tag=1,i.payload=e,null!=n&&(i.callback=n),aa(t,i),Yl(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=Hl(),r=ca.suspense;(r=oa(n=Kl(n,t,r),r)).tag=2,null!=e&&(r.callback=e),aa(t,r),Yl(t,n)}};function pa(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Ii(n,r)||!Ii(i,o))}function ga(t,e,n){var r=!1,i=so,o=e.contextType;return"object"==typeof o&&null!==o?o=ea(o):(i=fo(e)?co:lo.current,o=(r=null!=(r=e.contextTypes))?ho(t,i):so),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=da,t.stateNode=e,e._reactInternalFiber=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ya(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&da.enqueueReplaceState(e,e.state,null)}function va(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ha,ra(t);var o=e.contextType;"object"==typeof o&&null!==o?i.context=ea(o):(o=fo(e)?co:lo.current,i.context=ho(t,o)),la(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(fa(t,e,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&da.enqueueReplaceState(i,i.state,null),la(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.effectTag|=4)}var ma=Array.isArray;function ba(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(et(309));var r=n.stateNode}if(!r)throw Error(et(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===ha&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(et(284));if(!n._owner)throw Error(et(290,t))}return t}function _a(t,e){if("textarea"!==t.type)throw Error(et(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""))}function xa(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=ku(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.effectTag=2,n):r:(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function s(t,e,n,r){return null===e||6!==e.tag?((e=Eu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=ba(t,e,n),r.return=t,r):((r=Tu(n.type,n.key,n.props,null,t.mode,r)).ref=ba(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Ou(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function c(t,e,n,r,o){return null===e||7!==e.tag?((e=Pu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function h(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Eu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case qt:return(n=Tu(e.type,e.key,e.props,null,t.mode,n)).ref=ba(t,null,e),n.return=t,n;case Qt:return(e=Ou(e,t.mode,n)).return=t,e}if(ma(e)||ce(e))return(e=Pu(e,t.mode,n,null)).return=t,e;_a(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case qt:return n.key===i?n.type===$t?c(t,e,n.props.children,r,i):l(t,e,n,r):null;case Qt:return n.key===i?u(t,e,n,r):null}if(ma(n)||ce(n))return null!==i?null:c(t,e,n,r,null);_a(t,n)}return null}function d(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return s(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case qt:return t=t.get(null===r.key?n:r.key)||null,r.type===$t?c(e,t,r.props.children,i,r.key):l(e,t,r,i);case Qt:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(ma(r)||ce(r))return c(e,t=t.get(n)||null,r,i,null);_a(e,r)}return null}return function(s,l,u,c){var p="object"==typeof u&&null!==u&&u.type===$t&&null===u.key;p&&(u=u.props.children);var g="object"==typeof u&&null!==u;if(g)switch(u.$$typeof){case qt:t:{for(g=u.key,p=l;null!==p;){if(p.key===g){switch(p.tag){case 7:if(u.type===$t){n(s,p.sibling),(l=i(p,u.props.children)).return=s,s=l;break t}break;default:if(p.elementType===u.type){n(s,p.sibling),(l=i(p,u.props)).ref=ba(s,p,u),l.return=s,s=l;break t}}n(s,p);break}e(s,p),p=p.sibling}u.type===$t?((l=Pu(u.props.children,s.mode,c,u.key)).return=s,s=l):((c=Tu(u.type,u.key,u.props,null,s.mode,c)).ref=ba(s,l,u),c.return=s,s=c)}return a(s);case Qt:t:{for(p=u.key;null!==l;){if(l.key===p){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){n(s,l.sibling),(l=i(l,u.children||[])).return=s,s=l;break t}n(s,l);break}e(s,l),l=l.sibling}(l=Ou(u,s.mode,c)).return=s,s=l}return a(s)}if("string"==typeof u||"number"==typeof u)return u=""+u,null!==l&&6===l.tag?(n(s,l.sibling),(l=i(l,u)).return=s,s=l):(n(s,l),(l=Eu(u,s.mode,c)).return=s,s=l),a(s);if(ma(u))return function(i,a,s,l){for(var u=null,c=null,p=a,g=a=0,y=null;null!==p&&g<s.length;g++){p.index>g?(y=p,p=null):y=p.sibling;var v=f(i,p,s[g],l);if(null===v){null===p&&(p=y);break}t&&p&&null===v.alternate&&e(i,p),a=o(v,a,g),null===c?u=v:c.sibling=v,c=v,p=y}if(g===s.length)return n(i,p),u;if(null===p){for(;g<s.length;g++)null!==(p=h(i,s[g],l))&&(a=o(p,a,g),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);g<s.length;g++)null!==(y=d(p,i,g,s[g],l))&&(t&&null!==y.alternate&&p.delete(null===y.key?g:y.key),a=o(y,a,g),null===c?u=y:c.sibling=y,c=y);return t&&p.forEach((function(t){return e(i,t)})),u}(s,l,u,c);if(ce(u))return function(i,a,s,l){var u=ce(s);if("function"!=typeof u)throw Error(et(150));if(null==(s=u.call(s)))throw Error(et(151));for(var c=u=null,p=a,g=a=0,y=null,v=s.next();null!==p&&!v.done;g++,v=s.next()){p.index>g?(y=p,p=null):y=p.sibling;var m=f(i,p,v.value,l);if(null===m){null===p&&(p=y);break}t&&p&&null===m.alternate&&e(i,p),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m,p=y}if(v.done)return n(i,p),u;if(null===p){for(;!v.done;g++,v=s.next())null!==(v=h(i,v.value,l))&&(a=o(v,a,g),null===c?u=v:c.sibling=v,c=v);return u}for(p=r(i,p);!v.done;g++,v=s.next())null!==(v=d(p,i,g,v.value,l))&&(t&&null!==v.alternate&&p.delete(null===v.key?g:v.key),a=o(v,a,g),null===c?u=v:c.sibling=v,c=v);return t&&p.forEach((function(t){return e(i,t)})),u}(s,l,u,c);if(g&&_a(s,u),void 0===u&&!p)switch(s.tag){case 1:case 0:throw s=s.type,Error(et(152,s.displayName||s.name||"Component"))}return n(s,l)}}var wa=xa(!0),Sa=xa(!1),Ca={},ka={current:Ca},Ta={current:Ca},Pa={current:Ca};function Ea(t){if(t===Ca)throw Error(et(174));return t}function Oa(t,e){switch(ao(Pa,e),ao(Ta,t),ao(ka,Ca),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ae(null,"");break;default:e=Ae(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}oo(ka),ao(ka,e)}function Ma(){oo(ka),oo(Ta),oo(Pa)}function Fa(t){Ea(Pa.current);var e=Ea(ka.current),n=Ae(e,t.type);e!==n&&(ao(Ta,t),ao(ka,n))}function Aa(t){Ta.current===t&&(oo(ka),oo(Ta))}var Na={current:0};function Da(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.effectTag))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Ra(t,e){return{responder:t,props:e}}var Ia=Ht.ReactCurrentDispatcher,La=Ht.ReactCurrentBatchConfig,Ga=0,Ua=null,za=null,ja=null,Ba=!1;function Va(){throw Error(et(321))}function Wa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Di(t[n],e[n]))return!1;return!0}function Ha(t,e,n,r,i,o){if(Ga=o,Ua=e,e.memoizedState=null,e.updateQueue=null,e.expirationTime=0,Ia.current=null===t||null===t.memoizedState?ps:gs,t=n(r,i),e.expirationTime===Ga){o=0;do{if(e.expirationTime=0,!(25>o))throw Error(et(301));o+=1,ja=za=null,e.updateQueue=null,Ia.current=ys,t=n(r,i)}while(e.expirationTime===Ga)}if(Ia.current=ds,e=null!==za&&null!==za.next,Ga=0,ja=za=Ua=null,Ba=!1,e)throw Error(et(300));return t}function Ka(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ja?Ua.memoizedState=ja=t:ja=ja.next=t,ja}function Ya(){if(null===za){var t=Ua.alternate;t=null!==t?t.memoizedState:null}else t=za.next;var e=null===ja?Ua.memoizedState:ja.next;if(null!==e)ja=e,za=t;else{if(null===t)throw Error(et(310));t={memoizedState:(za=t).memoizedState,baseState:za.baseState,baseQueue:za.baseQueue,queue:za.queue,next:null},null===ja?Ua.memoizedState=ja=t:ja=ja.next=t}return ja}function Xa(t,e){return"function"==typeof e?e(t):e}function qa(t){var e=Ya(),n=e.queue;if(null===n)throw Error(et(311));n.lastRenderedReducer=t;var r=za,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,l=i;do{var u=l.expirationTime;if(u<Ga){var c={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(a=s=c,o=r):s=s.next=c,u>Ua.expirationTime&&(Ua.expirationTime=u,ou(u))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),iu(u,l.suspenseConfig),r=l.eagerReducer===t?l.eagerState:t(r,l.action);l=l.next}while(null!==l&&l!==i);null===s?o=r:s.next=a,Di(r,e.memoizedState)||(Ps=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=s,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Qa(t){var e=Ya(),n=e.queue;if(null===n)throw Error(et(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);Di(o,e.memoizedState)||(Ps=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function $a(t){var e=Ka();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:t}).dispatch=fs.bind(null,Ua,t),[e.memoizedState,t]}function Ja(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Ua.updateQueue)?(e={lastEffect:null},Ua.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Za(){return Ya().memoizedState}function ts(t,e,n,r){var i=Ka();Ua.effectTag|=t,i.memoizedState=Ja(1|e,n,void 0,void 0===r?null:r)}function es(t,e,n,r){var i=Ya();r=void 0===r?null:r;var o=void 0;if(null!==za){var a=za.memoizedState;if(o=a.destroy,null!==r&&Wa(r,a.deps))return void Ja(e,n,o,r)}Ua.effectTag|=t,i.memoizedState=Ja(1|e,n,o,r)}function ns(t,e){return ts(516,4,t,e)}function rs(t,e){return es(516,4,t,e)}function is(t,e){return es(4,2,t,e)}function os(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function as(t,e,n){return n=null!=n?n.concat([t]):null,es(4,2,os.bind(null,e,t),n)}function ss(){}function ls(t,e){return Ka().memoizedState=[t,void 0===e?null:e],t}function us(t,e){var n=Ya();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Wa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cs(t,e){var n=Ya();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&Wa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hs(t,e,n){var r=Go();zo(98>r?98:r,(function(){t(!0)})),zo(97<r?97:r,(function(){var r=La.suspense;La.suspense=void 0===e?null:e;try{t(!1),n()}finally{La.suspense=r}}))}function fs(t,e,n){var r=Hl(),i=ca.suspense;i={expirationTime:r=Kl(r,t,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=e.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),e.pending=i,o=t.alternate,t===Ua||null!==o&&o===Ua)Ba=!0,i.expirationTime=Ga,Ua.expirationTime=Ga;else{if(0===t.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Di(s,a))return}catch(l){}Yl(t,r)}}var ds={readContext:ea,useCallback:Va,useContext:Va,useEffect:Va,useImperativeHandle:Va,useLayoutEffect:Va,useMemo:Va,useReducer:Va,useRef:Va,useState:Va,useDebugValue:Va,useResponder:Va,useDeferredValue:Va,useTransition:Va},ps={readContext:ea,useCallback:ls,useContext:ea,useEffect:ns,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,ts(4,2,os.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ts(4,2,t,e)},useMemo:function(t,e){var n=Ka();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ka();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=fs.bind(null,Ua,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},Ka().memoizedState=t},useState:$a,useDebugValue:ss,useResponder:Ra,useDeferredValue:function(t,e){var n=$a(t),r=n[0],i=n[1];return ns((function(){var n=La.suspense;La.suspense=void 0===e?null:e;try{i(t)}finally{La.suspense=n}}),[t,e]),r},useTransition:function(t){var e=$a(!1),n=e[0];return e=e[1],[ls(hs.bind(null,e,t),[e,t]),n]}},gs={readContext:ea,useCallback:us,useContext:ea,useEffect:rs,useImperativeHandle:as,useLayoutEffect:is,useMemo:cs,useReducer:qa,useRef:Za,useState:function(){return qa(Xa)},useDebugValue:ss,useResponder:Ra,useDeferredValue:function(t,e){var n=qa(Xa),r=n[0],i=n[1];return rs((function(){var n=La.suspense;La.suspense=void 0===e?null:e;try{i(t)}finally{La.suspense=n}}),[t,e]),r},useTransition:function(t){var e=qa(Xa),n=e[0];return e=e[1],[us(hs.bind(null,e,t),[e,t]),n]}},ys={readContext:ea,useCallback:us,useContext:ea,useEffect:rs,useImperativeHandle:as,useLayoutEffect:is,useMemo:cs,useReducer:Qa,useRef:Za,useState:function(){return Qa(Xa)},useDebugValue:ss,useResponder:Ra,useDeferredValue:function(t,e){var n=Qa(Xa),r=n[0],i=n[1];return rs((function(){var n=La.suspense;La.suspense=void 0===e?null:e;try{i(t)}finally{La.suspense=n}}),[t,e]),r},useTransition:function(t){var e=Qa(Xa),n=e[0];return e=e[1],[us(hs.bind(null,e,t),[e,t]),n]}},vs=null,ms=null,bs=!1;function _s(t,e){var n=Su(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function xs(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function ws(t){if(bs){var e=ms;if(e){var n=e;if(!xs(t,e)){if(!(e=mr(n.nextSibling))||!xs(t,e))return t.effectTag=-1025&t.effectTag|2,bs=!1,void(vs=t);_s(vs,n)}vs=t,ms=mr(e.firstChild)}else t.effectTag=-1025&t.effectTag|2,bs=!1,vs=t}}function Ss(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;vs=t}function Cs(t){if(t!==vs)return!1;if(!bs)return Ss(t),bs=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!gr(e,t.memoizedProps))for(e=ms;e;)_s(t,e),e=mr(e.nextSibling);if(Ss(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(et(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ms=mr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ms=null}}else ms=vs?mr(t.stateNode.nextSibling):null;return!0}function ks(){ms=vs=null,bs=!1}var Ts=Ht.ReactCurrentOwner,Ps=!1;function Es(t,e,n,r){e.child=null===t?Sa(e,null,n,r):wa(e,t.child,n,r)}function Os(t,e,n,r,i){n=n.render;var o=e.ref;return ta(e,i),r=Ha(t,e,n,r,o,i),null===t||Ps?(e.effectTag|=1,Es(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Hs(t,e,i))}function Ms(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!=typeof a||Cu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Tu(n.type,null,r,null,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Fs(t,e,a,r,i,o))}return a=t.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Ii)(i,r)&&t.ref===e.ref)?Hs(t,e,o):(e.effectTag|=1,(t=ku(a,r)).ref=e.ref,t.return=e,e.child=t)}function Fs(t,e,n,r,i,o){return null!==t&&Ii(t.memoizedProps,r)&&t.ref===e.ref&&(Ps=!1,i<o)?(e.expirationTime=t.expirationTime,Hs(t,e,o)):Ns(t,e,n,r,o)}function As(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function Ns(t,e,n,r,i){var o=fo(n)?co:lo.current;return o=ho(e,o),ta(e,i),n=Ha(t,e,n,r,o,i),null===t||Ps?(e.effectTag|=1,Es(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.effectTag&=-517,t.expirationTime<=i&&(t.expirationTime=0),Hs(t,e,i))}function Ds(t,e,n,r,i){if(fo(n)){var o=!0;vo(e)}else o=!1;if(ta(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),ga(e,n,r),va(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=ea(u):u=ho(e,u=fo(n)?co:lo.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ya(e,a,r,u),na=!1;var f=e.memoizedState;a.state=f,la(e,r,a,i),l=e.memoizedState,s!==r||f!==l||uo.current||na?("function"==typeof c&&(fa(e,n,c,r),l=e.memoizedState),(s=na||pa(e,n,s,r,f,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.effectTag|=4)):("function"==typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,ia(t,e),s=e.memoizedProps,a.props=e.type===e.elementType?s:Ko(e.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=ea(u):u=ho(e,u=fo(n)?co:lo.current),(h="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ya(e,a,r,u),na=!1,l=e.memoizedState,a.state=l,la(e,r,a,i),f=e.memoizedState,s!==r||l!==f||uo.current||na?("function"==typeof c&&(fa(e,n,c,r),f=e.memoizedState),(c=na||pa(e,n,s,r,l,f,u))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof a.componentDidUpdate&&(e.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=f),a.props=r,a.state=f,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&l===t.memoizedState||(e.effectTag|=256),r=!1);return Rs(t,e,n,r,o,i)}function Rs(t,e,n,r,i,o){As(t,e);var a=0!=(64&e.effectTag);if(!r&&!a)return i&&mo(e,n,!1),Hs(t,e,o);r=e.stateNode,Ts.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=wa(e,t.child,null,o),e.child=wa(e,null,s,o)):Es(t,e,s,o),e.memoizedState=r.state,i&&mo(e,n,!0),e.child}function Is(t){var e=t.stateNode;e.pendingContext?go(0,e.pendingContext,e.pendingContext!==e.context):e.context&&go(0,e.context,!1),Oa(t,e.containerInfo)}var Ls,Gs,Us,zs={dehydrated:null,retryTime:0};function js(t,e,n){var r,i=e.mode,o=e.pendingProps,a=Na.current,s=!1;if((r=0!=(64&e.effectTag))||(r=0!=(2&a)&&(null===t||null!==t.memoizedState)),r?(s=!0,e.effectTag&=-65):null!==t&&null===t.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ao(Na,1&a),null===t){if(void 0!==o.fallback&&ws(e),s){if(s=o.fallback,(o=Pu(null,i,0,null)).return=e,0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Pu(s,i,n,null)).return=e,o.sibling=n,e.memoizedState=zs,e.child=o,n}return i=o.children,e.memoizedState=null,e.child=Sa(e,null,i,n)}if(null!==t.memoizedState){if(i=(t=t.child).sibling,s){if(o=o.fallback,(n=ku(t,t.pendingProps)).return=e,0==(2&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==t.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=ku(i,o)).return=e,n.sibling=i,n.childExpirationTime=0,e.memoizedState=zs,e.child=n,i}return n=wa(e,t.child,o.children,n),e.memoizedState=null,e.child=n}if(t=t.child,s){if(s=o.fallback,(o=Pu(null,i,0,null)).return=e,o.child=t,null!==t&&(t.return=o),0==(2&e.mode))for(t=null!==e.memoizedState?e.child.child:e.child,o.child=t;null!==t;)t.return=o,t=t.sibling;return(n=Pu(s,i,n,null)).return=e,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,e.memoizedState=zs,e.child=o,n}return e.memoizedState=null,e.child=wa(e,t,o.children,n)}function Bs(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e),Zo(t.return,e)}function Vs(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ws(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Es(t,e,r.children,n),0!=(2&(r=Na.current)))r=1&r|2,e.effectTag|=64;else{if(null!==t&&0!=(64&t.effectTag))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Bs(t,n);else if(19===t.tag)Bs(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ao(Na,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Da(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Da(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vs(e,!0,n,null,o,e.lastEffect);break;case"together":Vs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Hs(t,e,n){null!==t&&(e.dependencies=t.dependencies);var r=e.expirationTime;if(0!==r&&ou(r),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child)throw Error(et(153));if(null!==e.child){for(n=ku(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=ku(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function Ks(t,e){switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ys(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fo(e.type)&&po(),null;case 3:return Ma(),oo(uo),oo(lo),(n=e.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||!Cs(e)||(e.effectTag|=4),null;case 5:Aa(e),n=Ea(Pa.current);var i=e.type;if(null!==t&&null!=e.stateNode)Gs(t,e,i,r,n),t.ref!==e.ref&&(e.effectTag|=128);else{if(!r){if(null===e.stateNode)throw Error(et(166));return null}if(t=Ea(ka.current),Cs(e)){r=e.stateNode,i=e.type;var o=e.memoizedProps;switch(r[xr]=e,r[wr]=o,i){case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(t=0;t<Ke.length;t++)Wn(Ke[t],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"form":Wn("reset",r),Wn("submit",r);break;case"details":Wn("toggle",r);break;case"input":me(r,o),Wn("invalid",r),ir(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Wn("invalid",r),ir(n,"onChange");break;case"textarea":Te(r,o),Wn("invalid",r),ir(n,"onChange")}for(var a in er(i,o),t=null,o)if(o.hasOwnProperty(a)){var s=o[a];"children"===a?"string"==typeof s?r.textContent!==s&&(t=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(t=["children",""+s]):bt.hasOwnProperty(a)&&null!=s&&ir(n,a)}switch(i){case"input":ge(r),xe(r,o,!0);break;case"textarea":ge(r),Ee(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=or)}n=t,e.updateQueue=n,null!==n&&(e.effectTag|=4)}else{switch(a=9===n.nodeType?n:n.ownerDocument,t===rr&&(t=Fe(i)),t===rr?"script"===i?((t=a.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=a.createElement(i,{is:r.is}):(t=a.createElement(i),"select"===i&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,i),t[xr]=e,t[wr]=r,Ls(t,e),e.stateNode=t,a=nr(i,r),i){case"iframe":case"object":case"embed":Wn("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ke.length;s++)Wn(Ke[s],t);s=r;break;case"source":Wn("error",t),s=r;break;case"img":case"image":case"link":Wn("error",t),Wn("load",t),s=r;break;case"form":Wn("reset",t),Wn("submit",t),s=r;break;case"details":Wn("toggle",t),s=r;break;case"input":me(t,r),s=ve(t,r),Wn("invalid",t),ir(n,"onChange");break;case"option":s=Se(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Z({},r,{value:void 0}),Wn("invalid",t),ir(n,"onChange");break;case"textarea":Te(t,r),s=ke(t,r),Wn("invalid",t),ir(n,"onChange");break;default:s=r}er(i,s);var l=s;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?Zn(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&Re(t,u):"children"===o?"string"==typeof u?("textarea"!==i||""!==u)&&Ie(t,u):"number"==typeof u&&Ie(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(bt.hasOwnProperty(o)?null!=u&&ir(n,o):null!=u&&Kt(t,o,u,a))}switch(i){case"input":ge(t),xe(t,r,!1);break;case"textarea":ge(t),Ee(t);break;case"option":null!=r.value&&t.setAttribute("value",""+de(r.value));break;case"select":t.multiple=!!r.multiple,null!=(n=r.value)?Ce(t,!!r.multiple,n,!1):null!=r.defaultValue&&Ce(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(t.onclick=or)}pr(i,r)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(t&&null!=e.stateNode)Us(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(et(166));n=Ea(Pa.current),Ea(ka.current),Cs(e)?(n=e.stateNode,r=e.memoizedProps,n[xr]=e,n.nodeValue!==r&&(e.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xr]=e,e.stateNode=n)}return null;case 13:return oo(Na),r=e.memoizedState,0!=(64&e.effectTag)?(e.expirationTime=n,e):(n=null!==r,r=!1,null===t?void 0!==e.memoizedProps.fallback&&Cs(e):(r=null!==(i=t.memoizedState),n||null===i||null!==(i=t.child.sibling)&&(null!==(o=e.firstEffect)?(e.firstEffect=i,i.nextEffect=o):(e.firstEffect=e.lastEffect=i,i.nextEffect=null),i.effectTag=8)),n&&!r&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Na.current)?Tl===bl&&(Tl=_l):(Tl!==bl&&Tl!==_l||(Tl=xl),0!==Fl&&null!==Sl&&(Au(Sl,kl),Nu(Sl,Fl)))),(n||r)&&(e.effectTag|=4),null);case 4:return Ma(),null;case 10:return Jo(e),null;case 17:return fo(e.type)&&po(),null;case 19:if(oo(Na),null===(r=e.memoizedState))return null;if(i=0!=(64&e.effectTag),null===(o=r.rendering)){if(i)Ks(r,!1);else if(Tl!==bl||null!==t&&0!=(64&t.effectTag))for(o=e.child;null!==o;){if(null!==(t=Da(o))){for(e.effectTag|=64,Ks(r,!1),null!==(i=t.updateQueue)&&(e.updateQueue=i,e.effectTag|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=e.child;null!==r;)o=n,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(t=i.alternate)?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=t.childExpirationTime,i.expirationTime=t.expirationTime,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,o=t.dependencies,i.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),r=r.sibling;return ao(Na,1&Na.current|2),e.child}o=o.sibling}}else{if(!i)if(null!==(t=Da(o))){if(e.effectTag|=64,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.effectTag|=4),Ks(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Lo()-r.renderingStartTime>r.tailExpiration&&1<n&&(e.effectTag|=64,i=!0,Ks(r,!1),e.expirationTime=e.childExpirationTime=n-1);r.isBackwards?(o.sibling=e.child,e.child=o):(null!==(n=r.last)?n.sibling=o:e.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Lo()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Lo(),n.sibling=null,e=Na.current,ao(Na,i?1&e|2:1&e),n):null}throw Error(et(156,e.tag))}function Xs(t){switch(t.tag){case 1:fo(t.type)&&po();var e=t.effectTag;return 4096&e?(t.effectTag=-4097&e|64,t):null;case 3:if(Ma(),oo(uo),oo(lo),0!=(64&(e=t.effectTag)))throw Error(et(285));return t.effectTag=-4097&e|64,t;case 5:return Aa(t),null;case 13:return oo(Na),4096&(e=t.effectTag)?(t.effectTag=-4097&e|64,t):null;case 19:return oo(Na),null;case 4:return Ma(),null;case 10:return Jo(t),null;default:return null}}function qs(t,e){return{value:t,source:e,stack:fe(e)}}Ls=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(t,e,n,r,i){var o=t.memoizedProps;if(o!==r){var a,s,l=e.stateNode;switch(Ea(ka.current),t=null,n){case"input":o=ve(l,o),r=ve(l,r),t=[];break;case"option":o=Se(l,o),r=Se(l,r),t=[];break;case"select":o=Z({},o,{value:void 0}),r=Z({},r,{value:void 0}),t=[];break;case"textarea":o=ke(l,o),r=ke(l,r),t=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(l.onclick=or)}for(a in er(n,r),n=null,o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(s in l=o[a])l.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(bt.hasOwnProperty(a)?t||(t=[]):(t=t||[]).push(a,null));for(a in r){var u=r[a];if(l=null!=o?o[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(null!=u||null!=l))if("style"===a)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(t||(t=[]),t.push(a,n)),n=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(t=t||[]).push(a,u)):"children"===a?l===u||"string"!=typeof u&&"number"!=typeof u||(t=t||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(bt.hasOwnProperty(a)?(null!=u&&ir(i,a),t||l===u||(t=[])):(t=t||[]).push(a,u))}n&&(t=t||[]).push("style",n),i=t,(e.updateQueue=i)&&(e.effectTag|=4)}},Us=function(t,e,n,r){n!==r&&(e.effectTag|=4)};var Qs="function"==typeof WeakSet?WeakSet:Set;function $s(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=fe(n)),null!==n&&he(n.type),e=e.value,null!==t&&1===t.tag&&he(t.type);try{console.error(e)}catch(i){setTimeout((function(){throw i}))}}function Js(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(n){vu(t,n)}else e.current=null}function Zs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.effectTag&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Ko(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(et(163))}function tl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==e)}}function el(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nl(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:return void el(3,n);case 1:if(t=n.stateNode,4&n.effectTag)if(null===e)t.componentDidMount();else{var r=n.elementType===n.type?e.memoizedProps:Ko(n.type,e.memoizedProps);t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}return void(null!==(e=n.updateQueue)&&ua(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}ua(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.effectTag&&pr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Nn(n)))));case 19:case 17:case 20:case 21:return}throw Error(et(163))}function rl(t,e,n){switch("function"==typeof xu&&xu(e),e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var r=t.next;zo(97<n?97:n,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(o){vu(i,o)}}t=t.next}while(t!==r)}))}break;case 1:Js(e),"function"==typeof(n=e.stateNode).componentWillUnmount&&function(t,e){try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(n){vu(t,n)}}(e,n);break;case 5:Js(e);break;case 4:ul(t,e,n)}}function il(t){var e=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,t.stateNode=null,null!==e&&il(e)}function ol(t){return 5===t.tag||3===t.tag||4===t.tag}function al(t){t:{for(var e=t.return;null!==e;){if(ol(e)){var n=e;break t}e=e.return}throw Error(et(160))}switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(et(161))}16&n.effectTag&&(Ie(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ol(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}r?sl(t,n,e):ll(t,n,e)}function sl(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=or));else if(4!==r&&null!==(t=t.child))for(sl(t,e,n),t=t.sibling;null!==t;)sl(t,e,n),t=t.sibling}function ll(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function ul(t,e,n){for(var r,i,o=e,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(et(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag){t:for(var s=t,l=o,u=n,c=l;;)if(rl(s,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break t;for(;null===c.sibling;){if(null===c.return||c.return===l)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(s=r,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(rl(t,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function cl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void tl(3,e);case 1:return;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[wr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&be(n,r),nr(t,i),e=nr(t,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?Zn(n,s):"dangerouslySetInnerHTML"===a?Re(n,s):"children"===a?Ie(n,s):Kt(n,a,s,e)}switch(t){case"input":_e(n,r);break;case"textarea":Pe(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(t=r.value)?Ce(n,!!r.multiple,t,!1):e!==!!r.multiple&&(null!=r.defaultValue?Ce(n,!!r.multiple,r.defaultValue,!0):Ce(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(et(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((e=e.stateNode).hydrate&&(e.hydrate=!1,Nn(e.containerInfo)));case 12:return;case 13:if(n=e,null===e.memoizedState?r=!1:(r=!0,n=e.child,Nl=Lo()),null!==n)t:for(t=n;;){if(5===t.tag)o=t.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=t.stateNode,i=null!=(i=t.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=Jn("display",i));else if(6===t.tag)t.stateNode.nodeValue=r?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(o=t.child.sibling).return=t,t=o;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}return void hl(e);case 19:return void hl(e);case 17:return}throw Error(et(163))}function hl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Qs),e.forEach((function(e){var r=bu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}var fl="function"==typeof WeakMap?WeakMap:Map;function dl(t,e,n){(n=oa(n,null)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rl||(Rl=!0,Il=r),$s(t,e)},n}function pl(t,e,n){(n=oa(n,null)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return $s(t,e),r(i)}}var o=t.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ll?Ll=new Set([this]):Ll.add(this),$s(t,e));var n=e.stack;this.componentDidCatch(e.value,{componentStack:null!==n?n:""})}),n}var gl,yl=Math.ceil,vl=Ht.ReactCurrentDispatcher,ml=Ht.ReactCurrentOwner,bl=0,_l=3,xl=4,wl=0,Sl=null,Cl=null,kl=0,Tl=bl,Pl=null,El=1073741823,Ol=1073741823,Ml=null,Fl=0,Al=!1,Nl=0,Dl=null,Rl=!1,Il=null,Ll=null,Gl=!1,Ul=null,zl=90,jl=null,Bl=0,Vl=null,Wl=0;function Hl(){return 0!=(48&wl)?1073741821-(Lo()/10|0):0!==Wl?Wl:Wl=1073741821-(Lo()/10|0)}function Kl(t,e,n){if(0==(2&(e=e.mode)))return 1073741823;var r=Go();if(0==(4&e))return 99===r?1073741823:1073741822;if(0!=(16&wl))return kl;if(null!==n)t=Ho(t,0|n.timeoutMs||5e3,250);else switch(r){case 99:t=1073741823;break;case 98:t=Ho(t,150,100);break;case 97:case 96:t=Ho(t,5e3,250);break;case 95:t=2;break;default:throw Error(et(326))}return null!==Sl&&t===kl&&--t,t}function Yl(t,e){if(50<Bl)throw Bl=0,Vl=null,Error(et(185));if(null!==(t=Xl(t,e))){var n=Go();1073741823===e?0!=(8&wl)&&0==(48&wl)?Jl(t):(Ql(t),0===wl&&Vo()):Ql(t),0==(4&wl)||98!==n&&99!==n||(null===jl?jl=new Map([[t,e]]):(void 0===(n=jl.get(t))||n>e)&&jl.set(t,e))}}function Xl(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<e&&(r.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Sl===i&&(ou(e),Tl===xl&&Au(i,kl)),Nu(i,e)),i}function ql(t){var e=t.lastExpiredTime;if(0!==e)return e;if(!Fu(t,e=t.firstPendingTime))return e;var n=t.lastPingedTime;return 2>=(t=n>(t=t.nextKnownPendingLevel)?n:t)&&e!==t?0:t}function Ql(t){if(0!==t.lastExpiredTime)t.callbackExpirationTime=1073741823,t.callbackPriority=99,t.callbackNode=Bo(Jl.bind(null,t));else{var e=ql(t),n=t.callbackNode;if(0===e)null!==n&&(t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90);else{var r=Hl();if(1073741823===e?r=99:1===e||2===e?r=95:r=0>=(r=10*(1073741821-e)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=t.callbackPriority;if(t.callbackExpirationTime===e&&i>=r)return;n!==Mo&&xo(n)}t.callbackExpirationTime=e,t.callbackPriority=r,e=1073741823===e?Bo(Jl.bind(null,t)):jo(r,$l.bind(null,t),{timeout:10*(1073741821-e)-Lo()}),t.callbackNode=e}}}function $l(t,e){if(Wl=0,e)return Du(t,e=Hl()),Ql(t),null;var n=ql(t);if(0!==n){if(e=t.callbackNode,0!=(48&wl))throw Error(et(327));if(pu(),t===Sl&&n===kl||eu(t,n),null!==Cl){var r=wl;wl|=16;for(var i=ru();;)try{su();break}catch(s){nu(t,s)}if($o(),wl=r,vl.current=i,1===Tl)throw e=Pl,eu(t,n),Au(t,n),Ql(t),e;if(null===Cl)switch(i=t.finishedWork=t.current.alternate,t.finishedExpirationTime=n,r=Tl,Sl=null,r){case bl:case 1:throw Error(et(345));case 2:Du(t,2<n?2:n);break;case _l:if(Au(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=cu(i)),1073741823===El&&10<(i=Nl+500-Lo())){if(Al){var o=t.lastPingedTime;if(0===o||o>=n){t.lastPingedTime=n,eu(t,n);break}}if(0!==(o=ql(t))&&o!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}t.timeoutHandle=yr(hu.bind(null,t),i);break}hu(t);break;case xl:if(Au(t,n),n===(r=t.lastSuspendedTime)&&(t.nextKnownPendingLevel=cu(i)),Al&&(0===(i=t.lastPingedTime)||i>=n)){t.lastPingedTime=n,eu(t,n);break}if(0!==(i=ql(t))&&i!==n)break;if(0!==r&&r!==n){t.lastPingedTime=r;break}if(1073741823!==Ol?r=10*(1073741821-Ol)-Lo():1073741823===El?r=0:(r=10*(1073741821-El)-5e3,0>(r=(i=Lo())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yl(r/1960))-r)&&(r=n)),10<r){t.timeoutHandle=yr(hu.bind(null,t),r);break}hu(t);break;case 5:if(1073741823!==El&&null!==Ml){o=El;var a=Ml;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=Lo()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Au(t,n),t.timeoutHandle=yr(hu.bind(null,t),r);break}}hu(t);break;default:throw Error(et(329))}if(Ql(t),t.callbackNode===e)return $l.bind(null,t)}}return null}function Jl(t){var e=t.lastExpiredTime;if(e=0!==e?e:1073741823,0!=(48&wl))throw Error(et(327));if(pu(),t===Sl&&e===kl||eu(t,e),null!==Cl){var n=wl;wl|=16;for(var r=ru();;)try{au();break}catch(i){nu(t,i)}if($o(),wl=n,vl.current=r,1===Tl)throw n=Pl,eu(t,e),Au(t,e),Ql(t),n;if(null!==Cl)throw Error(et(261));t.finishedWork=t.current.alternate,t.finishedExpirationTime=e,Sl=null,hu(t),Ql(t)}return null}function Zl(t,e){var n=wl;wl|=1;try{return t(e)}finally{0===(wl=n)&&Vo()}}function tu(t,e){var n=wl;wl&=-2,wl|=8;try{return t(e)}finally{0===(wl=n)&&Vo()}}function eu(t,e){t.finishedWork=null,t.finishedExpirationTime=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,vr(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&po();break;case 3:Ma(),oo(uo),oo(lo);break;case 5:Aa(r);break;case 4:Ma();break;case 13:case 19:oo(Na);break;case 10:Jo(r)}n=n.return}Sl=t,Cl=ku(t.current,null),kl=e,Tl=bl,Pl=null,Ol=El=1073741823,Ml=null,Fl=0,Al=!1}function nu(t,e){for(;;){try{if($o(),Ia.current=ds,Ba)for(var n=Ua.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ga=0,ja=za=Ua=null,Ba=!1,null===Cl||null===Cl.return)return Tl=1,Pl=e,Cl=null;t:{var i=t,o=Cl.return,a=Cl,s=e;if(e=kl,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&Na.current),h=o;do{var f;if(f=13===h.tag){var d=h.memoizedState;if(null!==d)f=null!==d.dehydrated;else{var p=h.memoizedProps;f=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(f){var g=h.updateQueue;if(null===g){var y=new Set;y.add(l),h.updateQueue=y}else g.add(l);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=oa(1073741823,null);v.tag=2,aa(a,v)}a.expirationTime=1073741823;break t}s=void 0,a=e;var m=i.pingCache;if(null===m?(m=i.pingCache=new fl,s=new Set,m.set(l,s)):void 0===(s=m.get(l))&&(s=new Set,m.set(l,s)),!s.has(a)){s.add(a);var b=mu.bind(null,i,l,a);l.then(b,b)}h.effectTag|=4096,h.expirationTime=e;break t}h=h.return}while(null!==h);s=Error((he(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+fe(a))}5!==Tl&&(Tl=2),s=qs(s,a),h=o;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=e,sa(h,dl(h,l,e));break t;case 1:l=s;var _=h.type,x=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof _.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ll||!Ll.has(x)))){h.effectTag|=4096,h.expirationTime=e,sa(h,pl(h,l,e));break t}}h=h.return}while(null!==h)}Cl=uu(Cl)}catch(w){e=w;continue}break}}function ru(){var t=vl.current;return vl.current=ds,null===t?ds:t}function iu(t,e){t<El&&2<t&&(El=t),null!==e&&t<Ol&&2<t&&(Ol=t,Ml=e)}function ou(t){t>Fl&&(Fl=t)}function au(){for(;null!==Cl;)Cl=lu(Cl)}function su(){for(;null!==Cl&&!Fo();)Cl=lu(Cl)}function lu(t){var e=gl(t.alternate,t,kl);return t.memoizedProps=t.pendingProps,null===e&&(e=uu(t)),ml.current=null,e}function uu(t){Cl=t;do{var e=Cl.alternate;if(t=Cl.return,0==(2048&Cl.effectTag)){if(e=Ys(e,Cl,kl),1===kl||1!==Cl.childExpirationTime){for(var n=0,r=Cl.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Cl.childExpirationTime=n}if(null!==e)return e;null!==t&&0==(2048&t.effectTag)&&(null===t.firstEffect&&(t.firstEffect=Cl.firstEffect),null!==Cl.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=Cl.firstEffect),t.lastEffect=Cl.lastEffect),1<Cl.effectTag&&(null!==t.lastEffect?t.lastEffect.nextEffect=Cl:t.firstEffect=Cl,t.lastEffect=Cl))}else{if(null!==(e=Xs(Cl)))return e.effectTag&=2047,e;null!==t&&(t.firstEffect=t.lastEffect=null,t.effectTag|=2048)}if(null!==(e=Cl.sibling))return e;Cl=t}while(null!==Cl);return Tl===bl&&(Tl=5),null}function cu(t){var e=t.expirationTime;return e>(t=t.childExpirationTime)?e:t}function hu(t){var e=Go();return zo(99,fu.bind(null,t,e)),null}function fu(t,e){do{pu()}while(null!==Ul);if(0!=(48&wl))throw Error(et(327));var n=t.finishedWork,r=t.finishedExpirationTime;if(null===n)return null;if(t.finishedWork=null,t.finishedExpirationTime=0,n===t.current)throw Error(et(177));t.callbackNode=null,t.callbackExpirationTime=0,t.callbackPriority=90,t.nextKnownPendingLevel=0;var i=cu(n);if(t.firstPendingTime=i,r<=t.lastSuspendedTime?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:r<=t.firstSuspendedTime&&(t.firstSuspendedTime=r-1),r<=t.lastPingedTime&&(t.lastPingedTime=0),r<=t.lastExpiredTime&&(t.lastExpiredTime=0),t===Sl&&(Cl=Sl=null,kl=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=wl;wl|=32,ml.current=null,fr=Vn;var a=cr();if(hr(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else t:{var l=(s=(s=a.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(l&&0!==l.rangeCount){s=l.anchorNode;var u=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{s.nodeType,c.nodeType}catch(k){s=null;break t}var h=0,f=-1,d=-1,p=0,g=0,y=a,v=null;e:for(;;){for(var m;y!==s||0!==u&&3!==y.nodeType||(f=h+u),y!==c||0!==l&&3!==y.nodeType||(d=h+l),3===y.nodeType&&(h+=y.nodeValue.length),null!==(m=y.firstChild);)v=y,y=m;for(;;){if(y===a)break e;if(v===s&&++p===u&&(f=h),v===c&&++g===l&&(d=h),null!==(m=y.nextSibling))break;v=(y=v).parentNode}y=m}s=-1===f||-1===d?null:{start:f,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;dr={activeElementDetached:null,focusedElem:a,selectionRange:s},Vn=!1,Dl=i;do{try{du()}catch(k){if(null===Dl)throw Error(et(330));vu(Dl,k),Dl=Dl.nextEffect}}while(null!==Dl);Dl=i;do{try{for(a=t,s=e;null!==Dl;){var b=Dl.effectTag;if(16&b&&Ie(Dl.stateNode,""),128&b){var _=Dl.alternate;if(null!==_){var x=_.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&b){case 2:al(Dl),Dl.effectTag&=-3;break;case 6:al(Dl),Dl.effectTag&=-3,cl(Dl.alternate,Dl);break;case 1024:Dl.effectTag&=-1025;break;case 1028:Dl.effectTag&=-1025,cl(Dl.alternate,Dl);break;case 4:cl(Dl.alternate,Dl);break;case 8:ul(a,u=Dl,s),il(u)}Dl=Dl.nextEffect}}catch(k){if(null===Dl)throw Error(et(330));vu(Dl,k),Dl=Dl.nextEffect}}while(null!==Dl);if(x=dr,_=cr(),b=x.focusedElem,s=x.selectionRange,_!==b&&b&&b.ownerDocument&&ur(b.ownerDocument.documentElement,b)){null!==s&&hr(b)&&(_=s.start,void 0===(x=s.end)&&(x=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(x,b.value.length)):(x=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(x=x.getSelection(),u=b.textContent.length,a=Math.min(s.start,u),s=void 0===s.end?a:Math.min(s.end,u),!x.extend&&a>s&&(u=s,s=a,a=u),u=lr(b,a),c=lr(b,s),u&&c&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==c.node||x.focusOffset!==c.offset)&&((_=_.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),a>s?(x.addRange(_),x.extend(c.node,c.offset)):(_.setEnd(c.node,c.offset),x.addRange(_))))),_=[];for(x=b;x=x.parentNode;)1===x.nodeType&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<_.length;b++)(x=_[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Vn=!!fr,dr=fr=null,t.current=n,Dl=i;do{try{for(b=t;null!==Dl;){var w=Dl.effectTag;if(36&w&&nl(b,Dl.alternate,Dl),128&w){_=void 0;var S=Dl.ref;if(null!==S){var C=Dl.stateNode;switch(Dl.tag){case 5:_=C;break;default:_=C}"function"==typeof S?S(_):S.current=_}}Dl=Dl.nextEffect}}catch(k){if(null===Dl)throw Error(et(330));vu(Dl,k),Dl=Dl.nextEffect}}while(null!==Dl);Dl=null,Ao(),wl=o}else t.current=n;if(Gl)Gl=!1,Ul=t,zl=e;else for(Dl=i;null!==Dl;)e=Dl.nextEffect,Dl.nextEffect=null,Dl=e;if(0===(e=t.firstPendingTime)&&(Ll=null),1073741823===e?t===Vl?Bl++:(Bl=0,Vl=t):Bl=0,"function"==typeof _u&&_u(n.stateNode,r),Ql(t),Rl)throw Rl=!1,t=Il,Il=null,t;return 0!=(8&wl)||Vo(),null}function du(){for(;null!==Dl;){var t=Dl.effectTag;0!=(256&t)&&Zs(Dl.alternate,Dl),0==(512&t)||Gl||(Gl=!0,jo(97,(function(){return pu(),null}))),Dl=Dl.nextEffect}}function pu(){if(90!==zl){var t=97<zl?97:zl;return zl=90,zo(t,gu)}}function gu(){if(null===Ul)return!1;var t=Ul;if(Ul=null,0!=(48&wl))throw Error(et(331));var e=wl;for(wl|=32,t=t.current.firstEffect;null!==t;){try{var n=t;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:tl(5,n),el(5,n)}}catch(r){if(null===t)throw Error(et(330));vu(t,r)}n=t.nextEffect,t.nextEffect=null,t=n}return wl=e,Vo(),!0}function yu(t,e,n){aa(t,e=dl(t,e=qs(n,e),1073741823)),null!==(t=Xl(t,1073741823))&&Ql(t)}function vu(t,e){if(3===t.tag)yu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){yu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ll||!Ll.has(r))){aa(n,t=pl(n,t=qs(e,t),1073741823)),null!==(n=Xl(n,1073741823))&&Ql(n);break}}n=n.return}}function mu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),Sl===t&&kl===n?Tl===xl||Tl===_l&&1073741823===El&&Lo()-Nl<500?eu(t,kl):Al=!0:Fu(t,n)&&(0!==(e=t.lastPingedTime)&&e<n||(t.lastPingedTime=n,Ql(t)))}function bu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(e=Kl(e=Hl(),t,null)),null!==(t=Xl(t,e))&&Ql(t)}gl=function(t,e,n){var r=e.expirationTime;if(null!==t){var i=e.pendingProps;if(t.memoizedProps!==i||uo.current)Ps=!0;else{if(r<n){switch(Ps=!1,e.tag){case 3:Is(e),ks();break;case 5:if(Fa(e),4&e.mode&&1!==n&&i.hidden)return e.expirationTime=e.childExpirationTime=1,null;break;case 1:fo(e.type)&&vo(e);break;case 4:Oa(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value,i=e.type._context,ao(Yo,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(r=e.child.childExpirationTime)&&r>=n?js(t,e,n):(ao(Na,1&Na.current),null!==(e=Hs(t,e,n))?e.sibling:null);ao(Na,1&Na.current);break;case 19:if(r=e.childExpirationTime>=n,0!=(64&t.effectTag)){if(r)return Ws(t,e,n);e.effectTag|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null),ao(Na,Na.current),!r)return null}return Hs(t,e,n)}Ps=!1}}else Ps=!1;switch(e.expirationTime=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,i=ho(e,lo.current),ta(e,n),i=Ha(null,e,r,t,i,n),e.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,fo(r)){var o=!0;vo(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ra(e);var a=r.getDerivedStateFromProps;"function"==typeof a&&fa(e,r,a,t),i.updater=da,e.stateNode=i,i._reactInternalFiber=e,va(e,r,t,n),e=Rs(null,e,r,!0,o,n)}else e.tag=0,Es(null,e,i,n),e=e.child;return e;case 16:t:{if(i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps,function(t){if(-1===t._status){t._status=0;var e=t._ctor;e=e(),t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,e.type=i,o=e.tag=function(t){if("function"==typeof t)return Cu(t)?1:0;if(null!=t){if((t=t.$$typeof)===re)return 11;if(t===ae)return 14}return 2}(i),t=Ko(i,t),o){case 0:e=Ns(null,e,i,t,n);break t;case 1:e=Ds(null,e,i,t,n);break t;case 11:e=Os(null,e,i,t,n);break t;case 14:e=Ms(null,e,i,Ko(i.type,t),r,n);break t}throw Error(et(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ns(t,e,r,i=e.elementType===r?i:Ko(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ds(t,e,r,i=e.elementType===r?i:Ko(r,i),n);case 3:if(Is(e),r=e.updateQueue,null===t||null===r)throw Error(et(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ia(t,e),la(e,r,null,n),(r=e.memoizedState.element)===i)ks(),e=Hs(t,e,n);else{if((i=e.stateNode.hydrate)&&(ms=mr(e.stateNode.containerInfo.firstChild),vs=e,i=bs=!0),i)for(n=Sa(e,null,r,n),e.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Es(t,e,r,n),ks();e=e.child}return e;case 5:return Fa(e),null===t&&ws(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,gr(r,i)?a=null:null!==o&&gr(r,o)&&(e.effectTag|=16),As(t,e),4&e.mode&&1!==n&&i.hidden?(e.expirationTime=e.childExpirationTime=1,e=null):(Es(t,e,a,n),e=e.child),e;case 6:return null===t&&ws(e),null;case 13:return js(t,e,n);case 4:return Oa(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=wa(e,null,r,n):Es(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Os(t,e,r,i=e.elementType===r?i:Ko(r,i),n);case 7:return Es(t,e,e.pendingProps,n),e.child;case 8:case 12:return Es(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value;var s=e.type._context;if(ao(Yo,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=Di(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!uo.current){e=Hs(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===s.tag&&((u=oa(n,null)).tag=2,aa(s,u)),s.expirationTime<n&&(s.expirationTime=n),null!==(u=s.alternate)&&u.expirationTime<n&&(u.expirationTime=n),Zo(s.return,n),l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else a=10===s.tag&&s.type===e.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Es(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,ta(e,n),r=r(i=ea(i,o.unstable_observedBits)),e.effectTag|=1,Es(t,e,r,n),e.child;case 14:return o=Ko(i=e.type,e.pendingProps),Ms(t,e,i,o=Ko(i.type,o),r,n);case 15:return Fs(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ko(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,fo(r)?(t=!0,vo(e)):t=!1,ta(e,n),ga(e,r,i),va(e,r,i,n),Rs(null,e,r,!0,t,n);case 19:return Ws(t,e,n)}throw Error(et(156,e.tag))};var _u=null,xu=null;function wu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Su(t,e,n,r){return new wu(t,e,n,r)}function Cu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function ku(t,e){var n=t.alternate;return null===n?((n=Su(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tu(t,e,n,r,i,o){var a=2;if(r=t,"function"==typeof t)Cu(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case $t:return Pu(n.children,i,o,e);case ne:a=8,i|=7;break;case Jt:a=8,i|=1;break;case Zt:return(t=Su(12,n,e,8|i)).elementType=Zt,t.type=Zt,t.expirationTime=o,t;case ie:return(t=Su(13,n,e,i)).type=ie,t.elementType=ie,t.expirationTime=o,t;case oe:return(t=Su(19,n,e,i)).elementType=oe,t.expirationTime=o,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case te:a=10;break t;case ee:a=9;break t;case re:a=11;break t;case ae:a=14;break t;case se:a=16,r=null;break t;case le:a=22;break t}throw Error(et(130,null==t?t:typeof t,""))}return(e=Su(a,n,e,i)).elementType=t,e.type=r,e.expirationTime=o,e}function Pu(t,e,n,r){return(t=Su(7,t,r,e)).expirationTime=n,t}function Eu(t,e,n){return(t=Su(6,t,null,e)).expirationTime=n,t}function Ou(t,e,n){return(e=Su(4,null!==t.children?t.children:[],t.key,e)).expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mu(t,e,n){this.tag=e,this.current=null,this.containerInfo=t,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Fu(t,e){var n=t.firstSuspendedTime;return t=t.lastSuspendedTime,0!==n&&n>=e&&t<=e}function Au(t,e){var n=t.firstSuspendedTime,r=t.lastSuspendedTime;n<e&&(t.firstSuspendedTime=e),(r>e||0===n)&&(t.lastSuspendedTime=e),e<=t.lastPingedTime&&(t.lastPingedTime=0),e<=t.lastExpiredTime&&(t.lastExpiredTime=0)}function Nu(t,e){e>t.firstPendingTime&&(t.firstPendingTime=e);var n=t.firstSuspendedTime;0!==n&&(e>=n?t.firstSuspendedTime=t.lastSuspendedTime=t.nextKnownPendingLevel=0:e>=t.lastSuspendedTime&&(t.lastSuspendedTime=e+1),e>t.nextKnownPendingLevel&&(t.nextKnownPendingLevel=e))}function Du(t,e){var n=t.lastExpiredTime;(0===n||n>e)&&(t.lastExpiredTime=e)}function Ru(t,e,n,r){var i=e.current,o=Hl(),a=ca.suspense;o=Kl(o,i,a);t:if(n){e:{if(qe(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(et(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(fo(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);throw Error(et(171))}if(1===n.tag){var l=n.type;if(fo(l)){n=yo(n,l,s);break t}}n=s}else n=so;return null===e.context?e.context=n:e.pendingContext=n,(e=oa(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),aa(i,e),Yl(i,o),o}function Iu(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Lu(t,e){null!==(t=t.memoizedState)&&null!==t.dehydrated&&t.retryTime<e&&(t.retryTime=e)}function Gu(t,e){Lu(t,e),(t=t.alternate)&&Lu(t,e)}function Uu(t,e,n){var r=new Mu(t,e,n=null!=n&&!0===n.hydrate),i=Su(3,null,null,2===e?7:1===e?3:0);r.current=i,i.stateNode=r,ra(i),t[Sr]=r.current,n&&0!==e&&function(t,e){var n=Xe(e);Sn.forEach((function(t){hn(t,e,n)})),Cn.forEach((function(t){hn(t,e,n)}))}(0,9===t.nodeType?t:t.ownerDocument),this._internalRoot=r}function zu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ju(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var t=Iu(a);s.call(t)}}Ru(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Uu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var t=Iu(a);l.call(t)}}tu((function(){Ru(e,a,t,i)}))}return Iu(a)}function Bu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Qt,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Vu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zu(e))throw Error(et(200));return Bu(t,e,null,n)}Uu.prototype.render=function(t){Ru(t,this._internalRoot,null,null)},Uu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Ru(null,t,null,(function(){e[Sr]=null}))},fn=function(t){if(13===t.tag){var e=Ho(Hl(),150,100);Yl(t,e),Gu(t,e)}},dn=function(t){13===t.tag&&(Yl(t,3),Gu(t,3))},pn=function(t){if(13===t.tag){var e=Hl();Yl(t,e=Kl(e,t,null)),Gu(t,e)}},St=function(t,e,n){switch(e){case"input":if(_e(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Pr(r);if(!i)throw Error(et(90));ye(r),_e(r,i)}}}break;case"textarea":Pe(t,n);break;case"select":null!=(e=n.value)&&Ce(t,!!n.multiple,e,!1)}},Ot=Zl,Mt=function(t,e,n,r,i){var o=wl;wl|=4;try{return zo(98,t.bind(null,e,n,r,i))}finally{0===(wl=o)&&Vo()}},Ft=function(){0==(49&wl)&&(function(){if(null!==jl){var t=jl;jl=null,t.forEach((function(t,e){Du(e,t),Ql(e)})),Vo()}}(),pu())},At=function(t,e){var n=wl;wl|=2;try{return t(e)}finally{0===(wl=n)&&Vo()}};var Wu={Events:[kr,Tr,Pr,xt,mt,Dr,function(t){tn(t,Nr)},Pt,Et,Xn,rn,pu,{current:!1}]};!function(t){var e=t.findFiberByHostInstance;(function(t){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);_u=function(t){try{e.onCommitFiberRoot(n,t,void 0,64==(64&t.current.effectTag))}catch(r){}},xu=function(t){try{e.onCommitFiberUnmount(n,t)}catch(r){}}}catch(r){}})(Z({},t,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Je(t))?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Cr,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wu,q.createPortal=Vu,q.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;if(void 0===e){if("function"==typeof t.render)throw Error(et(188));throw Error(et(268,Object.keys(t)))}return t=null===(t=Je(e))?null:t.stateNode},q.flushSync=function(t,e){if(0!=(48&wl))throw Error(et(187));var n=wl;wl|=1;try{return zo(99,t.bind(null,e))}finally{wl=n,Vo()}},q.hydrate=function(t,e,n){if(!zu(e))throw Error(et(200));return ju(null,t,e,!0,n)},q.render=function(t,e,n){if(!zu(e))throw Error(et(200));return ju(null,t,e,!1,n)},q.unmountComponentAtNode=function(t){if(!zu(t))throw Error(et(40));return!!t._reactRootContainer&&(tu((function(){ju(null,null,t,!1,(function(){t._reactRootContainer=null,t[Sr]=null}))})),!0)},q.unstable_batchedUpdates=Zl,q.unstable_createPortal=function(t,e){return Vu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},q.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zu(n))throw Error(et(200));if(null==t||void 0===t._reactInternalFiber)throw Error(et(38));return ju(t,e,n,!1,r)},q.version="16.14.0",function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),X.exports=q;var Hu=X.exports;const Ku="undefined"==typeof window?e.exports.useEffect:e.exports.useLayoutEffect;function Yu(t){let n,r=new Set;const i=t=>{const e="function"==typeof t?t(n):t;e!==n&&(n=Object.assign({},n,e),r.forEach((t=>t())))},o=()=>n,a=(t,e=o,r=Object.is)=>({currentSlice:e(n),equalityFn:r,errored:!1,listener:t,selector:e,unsubscribe:()=>{}}),s=t=>{function e(){try{const e=t.selector(n);t.equalityFn(t.currentSlice,e)||t.listener(t.currentSlice=e)}catch(e){t.errored=!0,t.listener(null,e)}}return r.add(e),()=>{r.delete(e)}},l={setState:i,getState:o,subscribe:(t,e,n)=>s(a(t,e,n)),destroy:()=>r.clear()};return n=t(i,o,l),[(t=o,r=Object.is)=>{const i=e.exports.useReducer((t=>t+1),0)[1],l=e.exports.useRef();l.current||(l.current=a(i,t,r),l.current.unsubscribe=s(l.current));const u=l.current;let c,h=!1;return(u.selector!==t||u.equalityFn!==r||u.errored)&&(c=t(n),h=!r(u.currentSlice,c)),Ku((()=>{h&&(u.currentSlice=c),u.selector=t,u.equalityFn=r,u.errored=!1})),Ku((()=>u.unsubscribe),[]),h?c:u.currentSlice},l]}var Xu,qu=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},Qu=qu,$u="object"==typeof window?window:self,Ju=Object.keys($u).length,Zu=Qu(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+Ju.toString(36),4),tc="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(tc){var ec=Math.pow(2,32)-1;Xu=function(){return Math.abs(tc.getRandomValues(new Uint32Array(1))[0]/ec)}}else Xu=Math.random;var nc=function(){return Zu},rc=qu,ic=Xu,oc=0,ac=Math.pow(36,4);function sc(){return rc((ic()*ac<<0).toString(36),4)}function lc(){return oc=oc<ac?oc:0,++oc-1}function uc(){return"c"+(new Date).getTime().toString(36)+rc(lc().toString(36),4)+nc()+(sc()+sc())}uc.slug=function(){var t=(new Date).getTime().toString(36),e=lc().toString(36).slice(-4),n=nc().slice(0,1)+nc().slice(-1),r=sc().slice(-2);return t.slice(-2)+e+n+r},uc.isCuid=function(t){return"string"==typeof t&&!!t.startsWith("c")},uc.isSlug=function(t){if("string"!=typeof t)return!1;var e=t.length;return e>=7&&e<=10},uc.fingerprint=nc;var cc=uc,hc={exports:{}},fc={},dc={},pc={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e._NODES_REGISTRY=e.Konva=e.glob=e._parseUA=void 0;var n=Math.PI/180;var r=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)};e._parseUA=function(t){var e=t.toLowerCase(),n=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),o=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:r(e),mobile:i,ieMobile:o}},e.glob=void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"7.2.5",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*n:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={};e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}}(pc);var gc={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=t.Collection=void 0;var e=pc,n=function(){function t(){}return t.toCollection=function(e){var n,r=new t,i=e.length;for(n=0;n<i;n++)r.push(e[n]);return r},t._mapMethod=function(e){t.prototype[e]=function(){var t,n=this.length,r=[].slice.call(arguments);for(t=0;t<n;t++)this[t][e].apply(this[t],r);return this}},t.mapMethods=function(e){var n=e.prototype;for(var r in n)t._mapMethod(r)},t}();t.Collection=n,n.prototype=[],n.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},n.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e};var r=function(){function e(t){void 0===t&&(t=[1,0,0,1,0,0]),this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}return e.prototype.reset=function(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0},e.prototype.copy=function(){return new e(this.m)},e.prototype.copyInto=function(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]},e.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},e.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},e.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},e.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,o=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=a,this},e.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},e.prototype.skew=function(t,e){var n=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,o=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this},e.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this},e.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,r=-this.m[2]*t,i=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this},e.prototype.getMatrix=function(){return this.m},e.prototype.setAbsolutePosition=function(t,e){var n=this.m[0],r=this.m[1],i=this.m[2],o=this.m[3],a=this.m[4],s=(n*(e-this.m[5])-r*(t-a))/(n*o-r*i),l=(t-a-i*s)/n;return this.translate(l,s)},e.prototype.decompose=function(){var e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],o=e*i-n*r,a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=n){var s=Math.sqrt(e*e+n*n);a.rotation=n>0?Math.acos(e/s):-Math.acos(e/s),a.scaleX=s,a.scaleY=o/s,a.skewX=(e*r+n*i)/o,a.skewY=0}else if(0!=r||0!=i){var l=Math.sqrt(r*r+i*i);a.rotation=Math.PI/2-(i>0?Math.acos(-r/l):-Math.acos(r/l)),a.scaleX=o/l,a.scaleY=l,a.skewX=0,a.skewY=(e*r+n*i)/o}return a.rotation=t.Util._getRotation(a.rotation),a},e}();t.Transform=r;var i=Math.PI/180,o=180/Math.PI,a="Konva error: ",s={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},l=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,u=[];t.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t||t>0?1:-1},requestAnimFrame:function(t){u.push(t),1===u.length&&requestAnimationFrame((function(){var t=u;u=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(e){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(e){var n,r,i=[],o=e.length,a=t.Util;for(n=0;n<o;n++)r=e[n],a._isNumber(r)?r=Math.round(1e3*r)/1e3:a._isString(r)||(r=r.toString()),i.push(r);return i},_urlToImage:function(t,n){var r=new e.glob.Image;r.onload=function(){n(r)},r.src=t},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in s?{r:(e=s[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=l.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(e){return e=e||"black",t.Util._namedColorToRBA(e)||t.Util._hex3ColorToRGBA(e)||t.Util._hex6ColorToRGBA(e)||t.Util._rgbColorToRGBA(e)||t.Util._rgbaColorToRGBA(e)||t.Util._hslColorToRGBA(e)},_namedColorToRBA:function(t){var e=s[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t);e[0];var n=e.slice(1),r=Number(n[0])/360,i=Number(n[1])/100,o=Number(n[2])/100,a=void 0,s=void 0,l=void 0;if(0===i)return l=255*o,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};for(var u=2*o-(a=o<.5?o*(1+i):o+i-o*i),c=[0,0,0],h=0;h<3;h++)(s=r+1/3*-(h-1))<0&&s++,s>1&&s--,l=6*s<1?u+6*(a-u)*s:2*s<1?a:3*s<2?u+(a-u)*(2/3-s)*6:u,c[h]=255*l;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*i},_radToDeg:function(t){return t*o},_getRotation:function(n){return e.Konva.angleDeg?t.Util._radToDeg(n):n},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(a+t)},error:function(t){console.error(a+t)},warn:function(t){e.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var r=t.prototype;for(var i in t.prototype=new n,r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,n,r,i,o,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),u=a*s/(s+l),c=a*l/(s+l);return[n-u*(i-t),r-u*(o-e),n+c*(i-t),r+c*(o-e)]},_expandPoints:function(e,n){var r,i,o=e.length,a=[];for(r=2;r<o-2;r+=2)i=t.Util._getControlPoints(e[r-2],e[r-1],e[r],e[r+1],e[r+2],e[r+3],n),isNaN(i[0])||(a.push(i[0]),a.push(i[1]),a.push(e[r]),a.push(e[r+1]),a.push(i[2]),a.push(i[3]));return a},each:function(t,e){for(var n in t)e(n,t[n])},_inRange:function(t,e,n){return e<=t&&t<n},_getProjectionToSegment:function(t,e,n,r,i,o){var a,s,l,u=(t-n)*(t-n)+(e-r)*(e-r);if(0==u)a=t,s=e,l=(i-n)*(i-n)+(o-r)*(o-r);else{var c=((i-t)*(n-t)+(o-e)*(r-e))/u;c<0?(a=t,s=e,l=(t-i)*(t-i)+(e-o)*(e-o)):c>1?(a=n,s=r,l=(n-i)*(n-i)+(r-o)*(r-o)):l=((a=t+c*(n-t))-i)*(a-i)+((s=e+c*(r-e))-o)*(s-o)}return[a,s,l]},_getProjectionToLine:function(e,n,r){var i=t.Util.cloneObject(e),o=Number.MAX_VALUE;return n.forEach((function(a,s){if(r||s!==n.length-1){var l=n[(s+1)%n.length],u=t.Util._getProjectionToSegment(a.x,a.y,l.x,l.y,e.x,e.y),c=u[0],h=u[1],f=u[2];f<o&&(i.x=c,i.y=h,o=f)}})),i},_prepareArrayForTween:function(e,n,r){var i,o=[],a=[];if(e.length>n.length){var s=n;n=e,e=s}for(i=0;i<e.length;i+=2)o.push({x:e[i],y:e[i+1]});for(i=0;i<n.length;i+=2)a.push({x:n[i],y:n[i+1]});var l=[];return a.forEach((function(e){var n=t.Util._getProjectionToLine(e,o,r);l.push(n.x),l.push(n.y)})),l},_prepareToStringify:function(e){var n;for(var r in e.visitedByCircularReferenceRemoval=!0,e)if(e.hasOwnProperty(r)&&e[r]&&"object"==typeof e[r])if(n=Object.getOwnPropertyDescriptor(e,r),e[r].visitedByCircularReferenceRemoval||t.Util._isElement(e[r])){if(!n.configurable)return null;delete e[r]}else if(null===t.Util._prepareToStringify(e[r])){if(!n.configurable)return null;delete e[r]}return delete e.visitedByCircularReferenceRemoval,e},_assign:function(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}}(gc);var yc={},vc={},mc={};Object.defineProperty(mc,"__esModule",{value:!0}),mc.getComponentValidator=mc.getBooleanValidator=mc.getNumberArrayValidator=mc.getFunctionValidator=mc.getStringOrGradientValidator=mc.getStringValidator=mc.getNumberOrAutoValidator=mc.getNumberOrArrayOfNumbersValidator=mc.getNumberValidator=mc.alphaComponent=mc.RGBComponent=void 0;var bc=pc,_c=gc;function xc(t){return _c.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||_c.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}mc.RGBComponent=function(t){return t>255?255:t<0?0:Math.round(t)},mc.alphaComponent=function(t){return t>1?1:t<1e-4?1e-4:t},mc.getNumberValidator=function(){if(bc.Konva.isUnminified)return function(t,e){return _c.Util._isNumber(t)||_c.Util.warn(xc(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},mc.getNumberOrArrayOfNumbersValidator=function(t){if(bc.Konva.isUnminified)return function(e,n){var r=_c.Util._isNumber(e),i=_c.Util._isArray(e)&&e.length==t;return r||i||_c.Util.warn(xc(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}},mc.getNumberOrAutoValidator=function(){if(bc.Konva.isUnminified)return function(t,e){return _c.Util._isNumber(t)||"auto"===t||_c.Util.warn(xc(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},mc.getStringValidator=function(){if(bc.Konva.isUnminified)return function(t,e){return _c.Util._isString(t)||_c.Util.warn(xc(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},mc.getStringOrGradientValidator=function(){if(bc.Konva.isUnminified)return function(t,e){var n=_c.Util._isString(t),r="[object CanvasGradient]"===Object.prototype.toString.call(t);return n||r||_c.Util.warn(xc(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}},mc.getFunctionValidator=function(){if(bc.Konva.isUnminified)return function(t,e){return _c.Util._isFunction(t)||_c.Util.warn(xc(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},mc.getNumberArrayValidator=function(){if(bc.Konva.isUnminified)return function(t,e){return _c.Util._isArray(t)?t.forEach((function(t){_c.Util._isNumber(t)||_c.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):_c.Util.warn(xc(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},mc.getBooleanValidator=function(){if(bc.Konva.isUnminified)return function(t,e){return!0===t||!1===t||_c.Util.warn(xc(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},mc.getComponentValidator=function(t){if(bc.Konva.isUnminified)return function(e,n){return _c.Util.isObject(e)||_c.Util.warn(xc(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;var e=gc,n=mc,r="get",i="set";t.Factory={addGetterSetter:function(e,n,r,i,o){t.Factory.addGetter(e,n,r),t.Factory.addSetter(e,n,i,o),t.Factory.addOverloadedGetterSetter(e,n)},addGetter:function(t,n,i){var o=r+e.Util._capitalize(n);t.prototype[o]=t.prototype[o]||function(){var t=this.attrs[n];return void 0===t?i:t}},addSetter:function(n,r,o,a){var s=i+e.Util._capitalize(r);n.prototype[s]||t.Factory.overWriteSetter(n,r,o,a)},overWriteSetter:function(t,n,r,o){var a=i+e.Util._capitalize(n);t.prototype[a]=function(t){return r&&null!=t&&(t=r.call(this,t,n)),this._setAttr(n,t),o&&o.call(this),this}},addComponentsGetterSetter:function(o,a,s,l,u){var c,h,f=s.length,d=e.Util._capitalize,p=r+d(a),g=i+d(a);o.prototype[p]=function(){var t={};for(c=0;c<f;c++)t[h=s[c]]=this.getAttr(a+d(h));return t};var y=n.getComponentValidator(s);o.prototype[g]=function(t){var e,n=this.attrs[a];for(e in l&&(t=l.call(this,t)),y&&y.call(this,t,a),t)t.hasOwnProperty(e)&&this._setAttr(a+d(e),t[e]);return this._fireChangeEvent(a,n,t),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(o,a)},addOverloadedGetterSetter:function(t,n){var o=e.Util._capitalize(n),a=i+o,s=r+o;t.prototype[n]=function(){return arguments.length?(this[a](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter:function(n,i,o,a){e.Util.error("Adding deprecated "+i);var s=r+e.Util._capitalize(i),l=i+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[s]=function(){e.Util.error(l);var t=this.attrs[i];return void 0===t?o:t},t.Factory.addSetter(n,i,a,(function(){e.Util.error(l)})),t.Factory.addOverloadedGetterSetter(n,i)},backCompat:function(t,n){e.Util.each(n,(function(n,o){var a=t.prototype[o],s=r+e.Util._capitalize(n),l=i+e.Util._capitalize(n);function u(){a.apply(this,arguments),e.Util.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+o+'" instead.')}t.prototype[n]=u,t.prototype[s]=u,t.prototype[l]=u}))},afterSetFilter:function(){this._filterUpToDate=!1}}}(vc);var wc,Sc={},Cc={},kc=t&&t.__extends||(wc=function(t,e){return(wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}wc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.HitContext=Cc.SceneContext=Cc.Context=void 0;var Tc=gc,Pc=pc,Ec=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Oc=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),Pc.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.fillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.hasStroke()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))},t.prototype.getTrace=function(t){var e,n,r,i,o=this.traceArr,a=o.length,s="";for(e=0;e<a;e++)(r=(n=o[e]).method)?(i=n.args,s+=r,t?s+="()":Tc.Util._isArray(i[0])?s+="(["+i.join(",")+"])":s+="("+i.join(",")+")"):(s+=n.property,t||(s+="="+n.val)),s+=";";return s},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=100&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,n,r,i,o){this._context.arc(t,e,n,r,i,o)},t.prototype.arcTo=function(t,e,n,r,i){this._context.arcTo(t,e,n,r,i)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){this._context.bezierCurveTo(t,e,n,r,i,o)},t.prototype.clearRect=function(t,e,n,r){this._context.clearRect(t,e,n,r)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,n,r){return this._context.createLinearGradient(t,e,n,r)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,n,r,i,o){return this._context.createRadialGradient(t,e,n,r,i,o)},t.prototype.drawImage=function(t,e,n,r,i,o,a,s,l){var u=arguments,c=this._context;3===u.length?c.drawImage(t,e,n):5===u.length?c.drawImage(t,e,n,r,i):9===u.length&&c.drawImage(t,e,n,r,i,o,a,s,l)},t.prototype.ellipse=function(t,e,n,r,i,o,a,s){this._context.ellipse(t,e,n,r,i,o,a,s)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,n,r){this._context.fillRect(t,e,n,r)},t.prototype.strokeRect=function(t,e,n,r){this._context.strokeRect(t,e,n,r)},t.prototype.fillText=function(t,e,n){this._context.fillText(t,e,n)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,n,r){return this._context.getImageData(t,e,n,r)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,n,r){this._context.rect(t,e,n,r)},t.prototype.putImageData=function(t,e,n){this._context.putImageData(t,e,n)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._context.quadraticCurveTo(t,e,n,r)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,n,r,i,o){this._context.setTransform(t,e,n,r,i,o)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,n,r){this._context.strokeText(t,e,n,r)},t.prototype.transform=function(t,e,n,r,i,o){this._context.transform(t,e,n,r,i,o)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,n=this,r=Ec.length,i=Tc.Util._simplifyArray,o=this.setAttr,a=function(t){var r,o=n[t];n[t]=function(){return e=i(Array.prototype.slice.call(arguments,0)),r=o.apply(n,arguments),n._trace({method:t,args:e}),r}};for(t=0;t<r;t++)a(Ec[t]);n.setAttr=function(){o.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();Cc.Context=Oc,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach((function(t){Object.defineProperty(Oc.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var Mc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kc(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),r=Pc.Konva.getAngle(t.getFillPatternRotation()),i=t.getFillPatternOffsetX(),o=t.getFillPatternOffsetY();t.getFillPatternScaleX(),t.getFillPatternScaleY(),(e||n)&&this.translate(e||0,n||0),r&&this.rotate(r),(i||o)&&this.translate(-1*i,-1*o),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)this._fillColor(t);else{var r=t.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(t);else{var i=t.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)this._fillLinearGradient(t);else{var o=t.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):r?this._fillPattern(t):i?this._fillLinearGradient(t):o&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",i)}},e.prototype._stroke=function(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}},e.prototype._applyShadow=function(t){var e=Tc.Util,n=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),i=e.get(t.getShadowOffset(),{x:0,y:0}),o=t.getAbsoluteScale(),a=this.canvas.getPixelRatio(),s=o.x*a,l=o.y*a;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*Math.min(Math.abs(s),Math.abs(l))),this.setAttr("shadowOffsetX",i.x*s),this.setAttr("shadowOffsetY",i.y*l)},e}(Oc);Cc.SceneContext=Mc;var Fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return kc(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype.strokeShape=function(t){t.hasHitStroke()&&this._stroke(t)},e.prototype._stroke=function(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),i="auto"===r?t.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(Oc);Cc.HitContext=Fc;var Ac=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.HitCanvas=Sc.SceneCanvas=Sc.Canvas=void 0;var Nc,Dc=gc,Rc=Cc,Ic=pc,Lc=vc,Gc=mc;var Uc=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||Ic.Konva.pixelRatio||function(){if(Nc)return Nc;var t=Dc.Util.createCanvasElement().getContext("2d");return Nc=(Ic.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=e,this._canvas=Dc.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t||0),this.setHeight(e||0)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(n){try{return this._canvas.toDataURL()}catch(r){return Dc.Util.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}},t}();Sc.Canvas=Uc,Lc.Factory.addGetterSetter(Uc,"pixelRatio",void 0,Gc.getNumberValidator());var zc=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.context=new Rc.SceneContext(n),n.setSize(e.width,e.height),n}return Ac(e,t),e}(Uc);Sc.SceneCanvas=zc;var jc=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.hitCanvas=!0,n.context=new Rc.HitContext(n),n.setSize(e.width,e.height),n}return Ac(e,t),e}(Uc);Sc.HitCanvas=jc;var Bc={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;var e=pc,n=gc;t.DD={get isDragging(){var e=!1;return t.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&(e=!0)})),e},justDragged:!1,get node(){var e;return t.DD._dragElements.forEach((function(t){e=t.node})),e},_dragElements:new Map,_drag:function(e){var r=[];t.DD._dragElements.forEach((function(t,i){var o=t.node,a=o.getStage();a.setPointersPositions(e),void 0===t.pointerId&&(t.pointerId=n.Util._getFirstPointerId(e));var s=a._changedPointerPositions.find((function(e){return e.id===t.pointerId}));if(s){if("dragging"!==t.dragStatus){var l=o.dragDistance();if(Math.max(Math.abs(s.x-t.startPointerPos.x),Math.abs(s.y-t.startPointerPos.y))<l)return;if(o.startDrag({evt:e}),!o.isDragging())return}o._setDragPosition(e,t),r.push(o)}})),r.forEach((function(t){t.fire("dragmove",{type:"dragmove",target:t,evt:e},!0)}))},_endDragBefore:function(n){t.DD._dragElements.forEach((function(r,i){var o=r.node.getStage();if(n&&o.setPointersPositions(n),o._changedPointerPositions.find((function(t){return t.id===r.pointerId}))){"dragging"!==r.dragStatus&&"stopped"!==r.dragStatus||(t.DD.justDragged=!0,e.Konva.listenClickTap=!1,r.dragStatus="stopped");var a=r.node.getLayer()||r.node instanceof e.Konva.Stage&&r.node;a&&a.batchDraw()}}))},_endDragAfter:function(e){t.DD._dragElements.forEach((function(n,r){"stopped"===n.dragStatus&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:e},!0),"dragging"!==n.dragStatus&&t.DD._dragElements.delete(r)}))}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))}(Bc),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Node=t._removeName=t._addName=t._removeId=t.names=t.ids=void 0;var e=gc,n=vc,r=Sc,i=pc,o=Bc,a=mc;t.ids={},t.names={};t._removeId=function(e,n){e&&t.ids[e]===n&&delete t.ids[e]};t._addName=function(e,n){n&&(t.names[n]||(t.names[n]=[]),t.names[n].push(e))};t._removeName=function(e,n){if(e){var r=t.names[e];if(r){for(var i=0;i<r.length;i++){r[i]._id===n&&r.splice(i,1)}0===r.length&&delete t.names[e]}}};var s="absoluteOpacity",l="allEventListeners",u="absoluteTransform",c="absoluteScale",h="canvas",f="listening",d="mouseenter",p="mouseleave",g="Shape",y=" ",v="stage",m="transform",b="visible",_=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(y),x=new e.Collection,w=1,S=function(){function n(t){this._id=w++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=x,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}return n.prototype.hasChildren=function(){return!1},n.prototype.getChildren=function(){return x},n.prototype._clearCache=function(t){t!==m&&t!==u||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0},n.prototype._getCache=function(t,e){var n=this._cache.get(t);return(void 0===n||(t===m||t===u)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n},n.prototype._calculate=function(t,e,n){var r=this;if(!this._attachedDepsListeners.get(t)){var i=e.map((function(t){return t+"Change.konva"})).join(y);this.on(i,(function(){r._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)},n.prototype._getCanvasCache=function(){return this._cache.get(h)},n.prototype._clearSelfAndDescendantCache=function(t,e){this._clearCache(t),e&&t===u&&this.fire("_clearTransformCache"),this.isCached()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t,!0)}))},n.prototype.clearCache=function(){return this._cache.delete(h),this._clearSelfAndDescendantCache(),this},n.prototype.cache=function(t){var n=t||{},i={};void 0!==n.x&&void 0!==n.y&&void 0!==n.width&&void 0!==n.height||(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var o=Math.ceil(n.width||i.width),a=Math.ceil(n.height||i.height),l=n.pixelRatio,u=void 0===n.x?i.x:n.x,f=void 0===n.y?i.y:n.y,d=n.offset||0,p=n.drawBorder||!1;if(o&&a){o+=2*d,a+=2*d,u-=d,f-=d;var g=new r.SceneCanvas({pixelRatio:l,width:o,height:a}),y=new r.SceneCanvas({pixelRatio:l,width:0,height:0}),v=new r.HitCanvas({pixelRatio:1,width:o,height:a}),m=g.getContext(),b=v.getContext();return v.isCache=!0,g.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===n.imageSmoothingEnabled&&(g.getContext()._context.imageSmoothingEnabled=!1,y.getContext()._context.imageSmoothingEnabled=!1),m.save(),b.save(),m.translate(-u,-f),b.translate(-u,-f),this._isUnderCache=!0,this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(c),this.drawScene(g,this),this.drawHit(v,this),this._isUnderCache=!1,m.restore(),b.restore(),p&&(m.save(),m.beginPath(),m.rect(0,0,o,a),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(h,{scene:g,filter:y,hit:v,x:u,y:f}),this}e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},n.prototype.isCached=function(){return this._cache.has("canvas")},n.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},n.prototype._transformedRect=function(t,e){var n,r,i,o,a=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return a.forEach((function(t){var e=s.point(t);void 0===n&&(n=i=e.x,r=o=e.y),n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y)})),{x:n,y:r,width:i-n,height:o-r}},n.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/r,n.height/r),t.restore()},n.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0),t.restore()},n.prototype._getCachedSceneCanvas=function(){var t,n,r,i,o=this.filters(),a=this._getCanvasCache(),s=a.scene,l=a.filter,u=l.getContext();if(o){if(!this._filterUpToDate){var c=s.pixelRatio;l.setSize(s.width/s.pixelRatio,s.height/s.pixelRatio);try{for(t=o.length,u.clear(),u.drawImage(s._canvas,0,0,s.getWidth()/c,s.getHeight()/c),n=u.getImageData(0,0,l.getWidth(),l.getHeight()),r=0;r<t;r++)"function"==typeof(i=o[r])?(i.call(this,n),u.putImageData(n,0,0)):e.Util.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(h){e.Util.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return s},n.prototype.on=function(t,e){if(this._cache&&this._cache.delete(l),3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,o,a=t.split(y),s=a.length;for(n=0;n<s;n++)i=(r=a[n].split("."))[0],o=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:e});return this},n.prototype.off=function(t,e){var n,r,i,o,a,s=(t||"").split(y),u=s.length;if(this._cache&&this._cache.delete(l),!t)for(r in this.eventListeners)this._off(r);for(n=0;n<u;n++)if(o=(i=s[n].split("."))[0],a=i[1],o)this.eventListeners[o]&&this._off(o,a,e);else for(r in this.eventListeners)this._off(r,a,e);return this},n.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},n.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},n.prototype.removeEventListener=function(t){return this.off(t),this},n.prototype._delegate=function(t,n,r){var i=this;this.on(t,(function(t){for(var o=t.target.findAncestors(n,!0,i),a=0;a<o.length;a++)(t=e.Util.cloneObject(t)).currentTarget=o[a],r.call(o[a],t)}))},n.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),o.DD._dragElements.delete(this._id),this._remove(),this},n.prototype._clearCaches=function(){this._clearSelfAndDescendantCache(u),this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(v),this._clearSelfAndDescendantCache(b),this._clearSelfAndDescendantCache(f)},n.prototype._remove=function(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},n.prototype.destroy=function(){t._removeId(this.id(),this);for(var e=(this.name()||"").split(/\s/g),n=0;n<e.length;n++){var r=e[n];t._removeName(r,this._id)}return this.remove(),this},n.prototype.getAttr=function(t){var n="get"+e.Util._capitalize(t);return e.Util._isFunction(this[n])?this[n]():this.attrs[t]},n.prototype.getAncestors=function(){for(var t=this.getParent(),n=new e.Collection;t;)n.push(t),t=t.getParent();return n},n.prototype.getAttrs=function(){return this.attrs||{}},n.prototype.setAttrs=function(t){var n=this;return this._batchTransformChanges((function(){var r,i;if(!t)return n;for(r in t)"children"!==r&&(i="set"+e.Util._capitalize(r),e.Util._isFunction(n[i])?n[i](t[r]):n._setAttr(r,t[r]))})),this},n.prototype.isListening=function(){return this._getCache(f,this._isListening)},n.prototype._isListening=function(t){if(!this.listening())return!1;var e=this.getParent();return!e||e===t||this===t||e._isListening(t)},n.prototype.isVisible=function(){return this._getCache(b,this._isVisible)},n.prototype._isVisible=function(t){if(!this.visible())return!1;var e=this.getParent();return!e||e===t||this===t||e._isVisible(t)},n.prototype.shouldDrawHit=function(t,e){if(void 0===e&&(e=!1),t)return this._isVisible(t)&&this._isListening(t);var n=this.getLayer(),r=!1;o.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===n)&&(r=!0)}));var a=!e&&!i.Konva.hitOnDragEnabled&&r;return this.isListening()&&this.isVisible()&&!a},n.prototype.show=function(){return this.visible(!0),this},n.prototype.hide=function(){return this.visible(!1),this},n.prototype.getZIndex=function(){return this.index||0},n.prototype.getAbsoluteZIndex=function(){var t,e,n,r,i=this.getDepth(),o=this,a=0;return"Stage"!==o.nodeType&&function s(l){for(t=[],e=l.length,n=0;n<e;n++)r=l[n],a++,r.nodeType!==g&&(t=t.concat(r.getChildren().toArray())),r._id===o._id&&(n=e);t.length>0&&t[0].getDepth()<=i&&s(t)}(o.getStage().getChildren()),a},n.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},n.prototype._batchTransformChanges=function(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(m),this._clearSelfAndDescendantCache(u,!0)),this._needClearTransformCache=!1},n.prototype.setPosition=function(t){var e=this;return this._batchTransformChanges((function(){e.x(t.x),e.y(t.y)})),this},n.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},n.prototype.getAbsolutePosition=function(t){for(var n=!1,r=this.parent;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),o=new e.Transform,a=this.offset();return o.m=i.slice(),o.translate(a.x,a.y),o.getTranslation()},n.prototype.setAbsolutePosition=function(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(m);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(t.x,t.y),t={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(m),this._clearSelfAndDescendantCache(u),this},n.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e]},n.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t},n.prototype.move=function(t){var e=t.x,n=t.y,r=this.x(),i=this.y();return void 0!==e&&(r+=e),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this},n.prototype._eachAncestorReverse=function(t,e){var n,r,i=[],o=this.getParent();if(!e||e._id!==this._id){for(i.unshift(this);o&&(!e||o._id!==e._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)t(i[r])}},n.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},n.prototype.moveToTop=function(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},n.prototype.moveUp=function(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},n.prototype.moveDown=function(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},n.prototype.moveToBottom=function(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},n.prototype.setZIndex=function(t){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&e.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},n.prototype.getAbsoluteOpacity=function(){return this._getCache(s,this._getAbsoluteOpacity)},n.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},n.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},n.prototype.toObject=function(){var t,n,r,i,o={},a=this.getAttrs();for(t in o.attrs={},a)n=a[t],e.Util.isObject(n)&&!e.Util._isPlainObject(n)&&!e.Util._isArray(n)||(r="function"==typeof this[t]&&this[t],delete a[t],i=r?r.call(this):null,a[t]=n,i!==n&&(o.attrs[t]=n));return o.className=this.getClassName(),e.Util._prepareToStringify(o)},n.prototype.toJSON=function(){return JSON.stringify(this.toObject())},n.prototype.getParent=function(){return this.parent},n.prototype.findAncestors=function(t,e,n){var r=[];e&&this._isMatch(t)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(t)&&r.push(i),i=i.parent}return r},n.prototype.isAncestorOf=function(t){return!1},n.prototype.findAncestor=function(t,e,n){return this.findAncestors(t,e,n)[0]},n.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);var n,r,i=t.replace(/ /g,"").split(","),o=i.length;for(n=0;n<o;n++)if(r=i[n],e.Util.isValidSelector(r)||(e.Util.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),"#"===r.charAt(0)){if(this.id()===r.slice(1))return!0}else if("."===r.charAt(0)){if(this.hasName(r.slice(1)))return!0}else if(this.className===r||this.nodeType===r)return!0;return!1},n.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},n.prototype.getStage=function(){return this._getCache(v,this._getStage)},n.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},n.prototype.fire=function(t,e,n){return void 0===e&&(e={}),e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},n.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(u,this._getAbsoluteTransform)},n.prototype._getAbsoluteTransform=function(t){var n;if(t)return n=new e.Transform,this._eachAncestorReverse((function(t){var e=t.transformsEnabled();"all"===e?n.multiply(t.getTransform()):"position"===e&&n.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),n;n=this._cache.get(u)||new e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var r=this.transformsEnabled();if("all"===r)n.multiply(this.getTransform());else if("position"===r){var i=this.attrs.x||0,o=this.attrs.y||0,a=this.attrs.offsetX||0,s=this.attrs.offsetY||0;n.translate(i-a,o-s)}return n.dirty=!1,n},n.prototype.getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}},n.prototype.getAbsoluteRotation=function(){return this.getAbsoluteTransform().decompose().rotation},n.prototype.getTransform=function(){return this._getCache(m,this._getTransform)},n.prototype._getTransform=function(){var t,n,r=this._cache.get(m)||new e.Transform;r.reset();var o=this.x(),a=this.y(),s=i.Konva.getAngle(this.rotation()),l=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,u=null!==(n=this.attrs.scaleY)&&void 0!==n?n:1,c=this.attrs.skewX||0,h=this.attrs.skewY||0,f=this.attrs.offsetX||0,d=this.attrs.offsetY||0;return 0===o&&0===a||r.translate(o,a),0!==s&&r.rotate(s),0===c&&0===h||r.skew(c,h),1===l&&1===u||r.scale(l,u),0===f&&0===d||r.translate(-1*f,-1*d),r.dirty=!1,r},n.prototype.clone=function(t){var n,r,i,o,a,s=e.Util.cloneObject(this.attrs);for(n in t)s[n]=t[n];var l=new this.constructor(s);for(n in this.eventListeners)for(i=(r=this.eventListeners[n]).length,o=0;o<i;o++)(a=r[o]).name.indexOf("konva")<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(a));return l},n.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),i=void 0!==t.x?t.x:e.x,o=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,s=new r.SceneCanvas({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:a}),l=s.getContext();return l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(s),l.restore(),s},n.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},n.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(r),r},n.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var n=t.callback;delete t.callback,e.Util._urlToImage(this.toDataURL(t),(function(t){n(t)}))},n.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},n.prototype.getSize=function(){return{width:this.width(),height:this.height()}},n.prototype.getClassName=function(){return this.className||this.nodeType},n.prototype.getType=function(){return this.nodeType},n.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance},n.prototype._off=function(t,e,n){var r,i,o,a=this.eventListeners[t];for(r=0;r<a.length;r++)if(i=a[r].name,o=a[r].handler,!("konva"===i&&"konva"!==e||e&&i!==e||n&&n!==o)){if(a.splice(r,1),0===a.length){delete this.eventListeners[t];break}r--}},n.prototype._fireChangeEvent=function(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})},n.prototype.setId=function(e){var n=this.id();return t._removeId(n,this),function(e,n){n&&(t.ids[n]=e)}(this,e),this._setAttr("id",e),this},n.prototype.setName=function(e){var n,r,i=(this.name()||"").split(/\s/g),o=(e||"").split(/\s/g);for(r=0;r<i.length;r++)n=i[r],-1===o.indexOf(n)&&n&&t._removeName(n,this._id);for(r=0;r<o.length;r++)n=o[r],-1===i.indexOf(n)&&n&&t._addName(this,n);return this._setAttr("name",e),this},n.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},n.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},n.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.setName(e.join(" "))),this},n.prototype.setAttr=function(t,n){var r=this["set"+e.Util._capitalize(t)];return e.Util._isFunction(r)?r.call(this,n):this._setAttr(t,n),this},n.prototype._setAttr=function(t,n,r){var i=this.attrs[t];(i!==n||e.Util.isObject(n))&&(null==n?delete this.attrs[t]:this.attrs[t]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,n))},n.prototype._setComponentAttr=function(t,e,n){var r;void 0!==n&&((r=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,r,n))},n.prototype._fireAndBubble=function(t,e,n){if(e&&this.nodeType===g&&(e.target=this),!((t===d||t===p)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n))){this._fire(t,e);var r=(t===d||t===p)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e))}},n.prototype._getProtoListeners=function(t){var e=this._cache.get(l);if(!e){e={};for(var n=Object.getPrototypeOf(this);n;)if(n.eventListeners){for(var r in n.eventListeners){var i=n.eventListeners[r],o=e[r]||[];e[r]=i.concat(o)}n=Object.getPrototypeOf(n)}else n=Object.getPrototypeOf(n);this._cache.set(l,e)}return e[t]},n.prototype._fire=function(t,e){(e=e||{}).currentTarget=this,e.type=t;var n=this._getProtoListeners(t);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,e);var i=this.eventListeners[t];if(i)for(r=0;r<i.length;r++)i[r].handler.call(this,e)},n.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},n.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(e)||n._changedPointerPositions[0]||r;o.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:e})},n.prototype.startDrag=function(t,e){void 0===e&&(e=!0),o.DD._dragElements.has(this._id)||this._createDragElement(t),o.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)},n.prototype._setDragPosition=function(t,n){var r=this.getStage()._getPointerById(n.pointerId);if(r){var i={x:r.x-n.offset.x,y:r.y-n.offset.y},o=this.dragBoundFunc();if(void 0!==o){var a=o.call(this,i,t);a?i=a:e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=i}},n.prototype.stopDrag=function(t){var e=o.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),o.DD._endDragBefore(t),o.DD._endDragAfter(t)},n.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},n.prototype.isDragging=function(){var t=o.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},n.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((!(void 0!==t.evt.button)||i.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var n=!1;o.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(n=!0)})),n||this._createDragElement(t)}}))},n.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;var t=o.DD._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,n=t&&"ready"===t.dragStatus;e?this.stopDrag():n&&o.DD._dragElements.delete(this._id)}},n.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},n.create=function(t,n){return e.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,n)},n._createNode=function(t,r){var o,a,s,l=n.prototype.getClassName.call(t),u=t.children;if(r&&(t.attrs.container=r),i._NODES_REGISTRY[l]||(e.Util.warn('Can not find a node with class name "'+l+'". Fallback to "Shape".'),l="Shape"),o=new(0,i._NODES_REGISTRY[l])(t.attrs),u)for(a=u.length,s=0;s<a;s++)o.add(n._createNode(u[s]));return o},n}();t.Node=S,S.prototype.nodeType="Node",S.prototype._attrsAffectingSize=[],S.prototype.eventListeners={},S.prototype.on.call(S.prototype,_,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(m),this._clearSelfAndDescendantCache(u))})),S.prototype.on.call(S.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(b)})),S.prototype.on.call(S.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(f)})),S.prototype.on.call(S.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(s)}));var C=n.Factory.addGetterSetter;C(S,"zIndex"),C(S,"absolutePosition"),C(S,"position"),C(S,"x",0,a.getNumberValidator()),C(S,"y",0,a.getNumberValidator()),C(S,"globalCompositeOperation","source-over",a.getStringValidator()),C(S,"opacity",1,a.getNumberValidator()),C(S,"name","",a.getStringValidator()),C(S,"id","",a.getStringValidator()),C(S,"rotation",0,a.getNumberValidator()),n.Factory.addComponentsGetterSetter(S,"scale",["x","y"]),C(S,"scaleX",1,a.getNumberValidator()),C(S,"scaleY",1,a.getNumberValidator()),n.Factory.addComponentsGetterSetter(S,"skew",["x","y"]),C(S,"skewX",0,a.getNumberValidator()),C(S,"skewY",0,a.getNumberValidator()),n.Factory.addComponentsGetterSetter(S,"offset",["x","y"]),C(S,"offsetX",0,a.getNumberValidator()),C(S,"offsetY",0,a.getNumberValidator()),C(S,"dragDistance",null,a.getNumberValidator()),C(S,"width",0,a.getNumberValidator()),C(S,"height",0,a.getNumberValidator()),C(S,"listening",!0,a.getBooleanValidator()),C(S,"preventDefault",!0,a.getBooleanValidator()),C(S,"filters",null,(function(t){return this._filterUpToDate=!1,t})),C(S,"visible",!0,a.getBooleanValidator()),C(S,"transformsEnabled","all",a.getStringValidator()),C(S,"size"),C(S,"dragBoundFunc"),C(S,"draggable",!1,a.getBooleanValidator()),n.Factory.backCompat(S,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),e.Collection.mapMethods(S)}(yc);var Vc={},Wc=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.Container=void 0;var Hc=gc,Kc=vc,Yc=yc,Xc=mc,qc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new Hc.Collection,e}return Wc(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new Hc.Collection;return this.children.each((function(n){t(n)&&e.push(n)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new Hc.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new Hc.Collection,this},e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}var r=t[0];if(r.getParent())return r.moveTo(this),this;var i=this.children;return this._validateAdd(r),r._clearCaches(),r.index=i.length,r.parent=this,i.push(r),this._fire("add",{child:r}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return Hc.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var n=[];return this._descendants((function(r){var i=r._isMatch(t);return i&&n.push(r),!(!i||!e)})),Hc.Collection.toCollection(n)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];if(t(n))return!0;if(n.hasChildren()&&n._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=Yc.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,r=0;r<n;r++){var i=e[r];t.children.push(i.toObject())}return t},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=Yc.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas(),i=r&&r.getContext(),o=this._getCanvasCache(),a=o&&o.scene,s=r&&r.isCache;if(!this.isVisible()&&!s)return this;if(a){i.save();var l=this.getAbsoluteTransform(e).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",r,e);return this},e.prototype.drawHit=function(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),r=t||n&&n.hitCanvas,i=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();var a=this.getAbsoluteTransform(e).getMatrix();i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,e);return this},e.prototype._drawChildren=function(t,e,n){var r=e&&e.getContext(),i=this.clipWidth(),o=this.clipHeight(),a=this.clipFunc(),s=i&&o||a,l=n===this;if(s){r.save();var u=this.getAbsoluteTransform(n),c=u.getMatrix();if(r.transform(c[0],c[1],c[2],c[3],c[4],c[5]),r.beginPath(),a)a.call(this,r,this);else{var h=this.clipX(),f=this.clipY();r.rect(h,f,i,o)}r.clip(),c=u.copy().invert().getMatrix(),r.transform(c[0],c[1],c[2],c[3],c[4],c[5])}var d=!l&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;d&&(r.save(),r._applyGlobalCompositeOperation(this)),this.children.each((function(r){r[t](e,n)})),d&&r.restore(),s&&r.restore()},e.prototype.getClientRect=function(t){var e,n,r,i,o=(t=t||{}).skipTransform,a=t.relativeTo,s={x:1/0,y:1/0,width:0,height:0},l=this;this.children.each((function(o){if(o.visible()){var a=o.getClientRect({relativeTo:l,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===a.width&&0===a.height||(void 0===e?(e=a.x,n=a.y,r=a.x+a.width,i=a.y+a.height):(e=Math.min(e,a.x),n=Math.min(n,a.y),r=Math.max(r,a.x+a.width),i=Math.max(i,a.y+a.height)))}}));for(var u=this.find("Shape"),c=!1,h=0;h<u.length;h++){if(u[h]._isVisible(this)){c=!0;break}}return s=c&&void 0!==e?{x:e,y:n,width:r-e,height:i-n}:{x:0,y:0,width:0,height:0},o?s:this._transformedRect(s,a)},e}(Yc.Node);Vc.Container=qc,Kc.Factory.addComponentsGetterSetter(qc,"clip",["x","y","width","height"]),Kc.Factory.addGetterSetter(qc,"clipX",void 0,Xc.getNumberValidator()),Kc.Factory.addGetterSetter(qc,"clipY",void 0,Xc.getNumberValidator()),Kc.Factory.addGetterSetter(qc,"clipWidth",void 0,Xc.getNumberValidator()),Kc.Factory.addGetterSetter(qc,"clipHeight",void 0,Xc.getNumberValidator()),Kc.Factory.addGetterSetter(qc,"clipFunc"),Hc.Collection.mapMethods(qc);var Qc={},$c={};Object.defineProperty($c,"__esModule",{value:!0}),$c.releaseCapture=$c.setPointerCapture=$c.hasPointerCapture=$c.createEvent=$c.getCapturedShape=void 0;var Jc=pc,Zc=new Map,th=void 0!==Jc.Konva._global.PointerEvent;function eh(t){return{evt:t,pointerId:t.pointerId}}function nh(t,e){var n=Zc.get(t);if(n){var r=n.getStage();r&&r.content,Zc.delete(t),th&&n._fire("lostpointercapture",eh(new PointerEvent("lostpointercapture")))}}$c.getCapturedShape=function(t){return Zc.get(t)},$c.createEvent=eh,$c.hasPointerCapture=function(t,e){return Zc.get(t)===e},$c.setPointerCapture=function(t,e){nh(t),e.getStage()&&(Zc.set(t,e),th&&e._fire("gotpointercapture",eh(new PointerEvent("gotpointercapture"))))},$c.releaseCapture=nh,function(e){var n=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;var r=gc,i=vc,o=Vc,a=pc,s=Sc,l=Bc,u=pc,c=$c,h="mouseout",f="mouseleave",d="mouseover",p="mouseenter",g="mousemove",y="mousedown",v="mouseup",m="pointermove",b="pointerdown",_="pointerup",x="contextmenu",w="click",S="dblclick",C="touchstart",k="touchend",T="dbltap",P="touchmove",E="wheel",O=[p,y,g,v,f,C,P,k,d,E,x,b,m,_,"pointercancel","lostpointercapture"],M=O.length;function F(t,e){t.content.addEventListener(e,(function(n){t["_"+e](n)}),!1)}function A(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&r.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}e.stages=[];var N=function(t){function i(n){var r=t.call(this,A(n))||this;return r._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),e.stages.push(r),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){A(r.attrs)})),r._checkVisibility(),r}return n(i,t),i.prototype._validateAdd=function(t){var e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||r.Util.throw("You may only add layers to the stage.")},i.prototype._checkVisibility=function(){if(this.content){var t=this.visible()?"":"none";this.content.style.display=t}},i.prototype.setContainer=function(t){if("string"==typeof t){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},i.prototype.shouldDrawHit=function(){return!0},i.prototype.clear=function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},i.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),o.Container.prototype.clone.call(this,t)},i.prototype.destroy=function(){t.prototype.destroy.call(this);var n=this.content;n&&r.Util._isInDocument(n)&&this.container().removeChild(n);var i=e.stages.indexOf(this);return i>-1&&e.stages.splice(i,1),this},i.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(r.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)},i.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},i.prototype.getPointersPositions=function(){return this._pointerPositions},i.prototype.getStage=function(){return this},i.prototype.getContent=function(){return this.content},i.prototype._toKonvaCanvas=function(t){(t=t||{}).x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new s.SceneCanvas({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),n=e.getContext()._context,r=this.children;return(t.x||t.y)&&n.translate(-1*t.x,-1*t.y),r.each((function(e){if(e.isVisible()){var r=e._toKonvaCanvas(t);n.drawImage(r._canvas,t.x,t.y,r.getWidth()/r.getPixelRatio(),r.getHeight()/r.getPixelRatio())}})),e},i.prototype.getIntersection=function(t,e){if(!t)return null;var n,r,i=this.children;for(n=i.length-1;n>=0;n--)if(r=i[n].getIntersection(t,e))return r;return null},i.prototype._resizeDOM=function(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+"px",this.content.style.height=e+"px"),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.each((function(n){n.setSize({width:t,height:e}),n.draw()}))},i.prototype.add=function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}t.prototype.add.call(this,e);var i=this.children.length;return i>5&&r.Util.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),a.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},i.prototype.getParent=function(){return null},i.prototype.getLayer=function(){return null},i.prototype.hasPointerCapture=function(t){return c.hasPointerCapture(t,this)},i.prototype.setPointerCapture=function(t){c.setPointerCapture(t,this)},i.prototype.releaseCapture=function(t){c.releaseCapture(t,this)},i.prototype.getLayers=function(){return this.getChildren()},i.prototype._bindContentEvents=function(){if(a.Konva.isBrowser)for(var t=0;t<M;t++)F(this,O[t])},i.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire(p,{evt:t,target:this,currentTarget:this})},i.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire(d,{evt:t,target:this,currentTarget:this})},i.prototype._mouseleave=function(t){var e;this.setPointersPositions(t);var n=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,r=!l.DD.isDragging||a.Konva.hitOnDragEnabled;n&&r?(n._fireAndBubble(h,{evt:t}),n._fireAndBubble(f,{evt:t}),this._fire(f,{evt:t,target:this,currentTarget:this}),this.targetShape=null):r&&(this._fire(f,{evt:t,target:this,currentTarget:this}),this._fire(h,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},i.prototype._mousemove=function(t){var e;if(a.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var n,i=r.Util._getFirstPointerId(t),o=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,s=!l.DD.isDragging||a.Konva.hitOnDragEnabled;if(s){if((n=this.getIntersection(this.getPointerPosition()))&&n.isListening())s&&o!==n?(o&&(o._fireAndBubble(h,{evt:t,pointerId:i},n),o._fireAndBubble(f,{evt:t,pointerId:i},n)),n._fireAndBubble(d,{evt:t,pointerId:i},o),n._fireAndBubble(p,{evt:t,pointerId:i},o),n._fireAndBubble(g,{evt:t,pointerId:i}),this.targetShape=n):n._fireAndBubble(g,{evt:t,pointerId:i});else o&&s&&(o._fireAndBubble(h,{evt:t,pointerId:i}),o._fireAndBubble(f,{evt:t,pointerId:i}),this._fire(d,{evt:t,target:this,currentTarget:this,pointerId:i}),this.targetShape=null),this._fire(g,{evt:t,target:this,currentTarget:this,pointerId:i});this._fire("contentMousemove",{evt:t})}t.cancelable&&t.preventDefault()},i.prototype._mousedown=function(t){if(a.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=r.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition());l.DD.justDragged=!1,a.Konva.listenClickTap=!0,n&&n.isListening()?(this.clickStartShape=n,n._fireAndBubble(y,{evt:t,pointerId:e})):this._fire(y,{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},i.prototype._mouseup=function(t){if(a.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=r.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition()),i=this.clickStartShape,o=this.clickEndShape,s=!1;a.Konva.inDblClickWindow?(s=!0,clearTimeout(this.dblTimeout)):l.DD.justDragged||(a.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){a.Konva.inDblClickWindow=!1}),a.Konva.dblClickWindow),n&&n.isListening()?(this.clickEndShape=n,n._fireAndBubble(v,{evt:t,pointerId:e}),a.Konva.listenClickTap&&i&&i._id===n._id&&(n._fireAndBubble(w,{evt:t,pointerId:e}),s&&o&&o===n&&n._fireAndBubble(S,{evt:t,pointerId:e}))):(this.clickEndShape=null,this._fire(v,{evt:t,target:this,currentTarget:this,pointerId:e}),a.Konva.listenClickTap&&this._fire(w,{evt:t,target:this,currentTarget:this,pointerId:e}),s&&this._fire(S,{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),a.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),s&&this._fire("contentDblclick",{evt:t})),a.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},i.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(x,{evt:t}):this._fire(x,{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},i.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var n=!1;this._changedPointerPositions.forEach((function(r){var i=e.getIntersection(r);a.Konva.listenClickTap=!0,l.DD.justDragged=!1,i&&i.isListening()&&(a.Konva.captureTouchEventsEnabled&&i.setPointerCapture(r.id),e.tapStartShape=i,i._fireAndBubble(C,{evt:t,pointerId:r.id},e),n=!0,i.isListening()&&i.preventDefault()&&t.cancelable&&t.preventDefault())})),n||this._fire(C,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:t})},i.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!l.DD.isDragging||a.Konva.hitOnDragEnabled){var n=!1,r={};this._changedPointerPositions.forEach((function(i){var o=c.getCapturedShape(i.id)||e.getIntersection(i);o&&o.isListening()&&(r[o._id]||(r[o._id]=!0,o._fireAndBubble(P,{evt:t,pointerId:i.id}),n=!0,o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),n||this._fire(P,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:t})}l.DD.isDragging&&l.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},i.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var n=this.tapEndShape,r=!1;a.Konva.inDblClickWindow?(r=!0,clearTimeout(this.dblTimeout)):l.DD.justDragged||(a.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){a.Konva.inDblClickWindow=!1}),a.Konva.dblClickWindow);var i=!1,o={},s=!1,u=!1;this._changedPointerPositions.forEach((function(l){var h=c.getCapturedShape(l.id)||e.getIntersection(l);h&&h.releaseCapture(l.id),h&&h.isListening()&&(o[h._id]||(o[h._id]=!0,e.tapEndShape=h,h._fireAndBubble(k,{evt:t,pointerId:l.id}),i=!0,a.Konva.listenClickTap&&h===e.tapStartShape&&(s=!0,h._fireAndBubble("tap",{evt:t,pointerId:l.id}),r&&n&&n===h&&(u=!0,h._fireAndBubble(T,{evt:t,pointerId:l.id}))),h.isListening()&&h.preventDefault()&&t.cancelable&&t.preventDefault()))})),i||this._fire(k,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a.Konva.listenClickTap&&!s&&(this.tapEndShape=null,this._fire("tap",{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})),r&&!u&&this._fire(T,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:t}),a.Konva.listenClickTap&&(this._fire("contentTap",{evt:t}),r&&this._fire("contentDbltap",{evt:t})),this.preventDefault()&&t.cancelable&&t.preventDefault(),a.Konva.listenClickTap=!1},i.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(E,{evt:t}):this._fire(E,{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},i.prototype._pointerdown=function(t){if(a.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=c.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(b,c.createEvent(t))}},i.prototype._pointermove=function(t){if(a.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=c.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(m,c.createEvent(t))}},i.prototype._pointerup=function(t){if(a.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=c.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(_,c.createEvent(t)),c.releaseCapture(t.pointerId)}},i.prototype._pointercancel=function(t){if(a.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=c.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(_,c.createEvent(t)),c.releaseCapture(t.pointerId)}},i.prototype._lostpointercapture=function(t){c.releaseCapture(t.pointerId)},i.prototype.setPointersPositions=function(t){var e=this,n=this._getContentPosition(),i=null,o=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],r.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})})),r.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})}))):(i=(t.clientX-n.left)/n.scaleX,o=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:i,y:o},this._pointerPositions=[{x:i,y:o,id:r.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:i,y:o,id:r.Util._getFirstPointerId(t)}])},i.prototype._setPointerPosition=function(t){r.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},i.prototype._getContentPosition=function(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},i.prototype._buildDOM=function(){if(this.bufferCanvas=new s.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new s.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),a.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},i.prototype.cache=function(){return r.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},i.prototype.clearCache=function(){return this},i.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},i}(o.Container);e.Stage=N,N.prototype.nodeType="Stage",u._registerNode(N),i.Factory.addGetterSetter(N,"container")}(Qc);var rh={},ih={};!function(e){var n=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;var r,i=gc,o=vc,a=yc,s=mc,l=pc,u=$c,c="hasShadow",h="shadowRGBA",f="patternImage",d="linearGradient",p="radialGradient";function g(){return r||(r=i.Util.createCanvasElement().getContext("2d"))}e.shapes={};var y=function(t){function r(n){for(var r,o=t.call(this,n)||this;!(r=i.Util.getRandomColor())||r in e.shapes;);return o.colorKey=r,e.shapes[r]=o,o}return n(r,t),r.prototype.getContext=function(){return this.getLayer().getContext()},r.prototype.getCanvas=function(){return this.getLayer().getCanvas()},r.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},r.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},r.prototype.hasShadow=function(){return this._getCache(c,this._hasShadow)},r.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},r.prototype._getFillPattern=function(){return this._getCache(f,this.__getFillPattern)},r.prototype.__getFillPattern=function(){if(this.fillPatternImage()){var t=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");return t&&t.setTransform&&t.setTransform({a:this.fillPatternScaleX(),b:0,c:0,d:this.fillPatternScaleY(),e:0,f:0}),t}},r.prototype._getLinearGradient=function(){return this._getCache(d,this.__getLinearGradient)},r.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=g(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=e.createLinearGradient(n.x,n.y,r.x,r.y),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},r.prototype._getRadialGradient=function(){return this._getCache(p,this.__getRadialGradient)},r.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=g(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},r.prototype.getShadowRGBA=function(){return this._getCache(h,this._getShadowRGBA)},r.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=i.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},r.prototype.hasFill=function(){var t=this;return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(function(){return t.fillEnabled()&&!!(t.fill()||t.fillPatternImage()||t.fillLinearGradientColorStops()||t.fillRadialGradientColorStops())}))},r.prototype.hasStroke=function(){var t=this;return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(function(){return t.strokeEnabled()&&t.strokeWidth()&&!(!t.stroke()&&!t.strokeLinearGradientColorStops())}))},r.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t},r.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e,null,!0),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},r.prototype.destroy=function(){return a.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this},r.prototype._useBufferCanvas=function(t){var e;if(!this.getStage())return!1;if(!(null===(e=this.attrs.perfectDrawEnabled)||void 0===e||e))return!1;var n=t||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;var o=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(n&&r&&o&&a)},r.prototype.setStrokeHitEnabled=function(t){i.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},r.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},r.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}},r.prototype.getClientRect=function(t){void 0===t&&(t={});var e=t.skipTransform,n=t.relativeTo,r=this.getSelfRect(),i=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=r.width+i,a=r.height+i,s=!t.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,u=s?this.shadowOffsetY():0,c=o+Math.abs(l),h=a+Math.abs(u),f=s&&this.shadowBlur()||0,d=c+2*f,p=h+2*f,g=0;Math.round(i/2)!==i/2&&(g=1);var y={width:d+g,height:p+g,x:-Math.round(i/2+f)+Math.min(l,0)+r.x,y:-Math.round(i/2+f)+Math.min(u,0)+r.y};return e?y:this._transformedRect(y,n)},r.prototype.drawScene=function(t,e){var n,r,i=this.getLayer(),o=t||i.getCanvas(),a=o.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),u=this.hasShadow(),c=o.isCache,h=o.isCache,f=e===this;if(!this.isVisible()&&!c)return this;if(s){a.save();var d=this.getAbsoluteTransform(e).getMatrix();return a.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!l)return this;if(a.save(),this._useBufferCanvas()&&!h){(r=(n=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this);var p=this.getAbsoluteTransform(e).getMatrix();r.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,r,this),r.restore();var g=n.pixelRatio;u&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(n._canvas,0,0,n.width/g,n.height/g)}else{if(a._applyLineJoin(this),!f){p=this.getAbsoluteTransform(e).getMatrix();a.transform(p[0],p[1],p[2],p[3],p[4],p[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}u&&a._applyShadow(this),l.call(this,a,this)}return a.restore(),this},r.prototype.drawHit=function(t,e,n){if(void 0===n&&(n=!1),!this.shouldDrawHit(e,n))return this;var r=this.getLayer(),o=t||r.hitCanvas,a=o&&o.getContext(),s=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),u=l&&l.hit;if(this.colorKey||(console.log(this),i.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),u){a.save();var c=this.getAbsoluteTransform(e).getMatrix();return a.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(a),a.restore(),this}if(!s)return this;if(a.save(),a._applyLineJoin(this),!(this===e)){var h=this.getAbsoluteTransform(e).getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return s.call(this,a,this),a.restore(),this},r.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,n,r,o,a,s=this._getCanvasCache(),l=this._getCachedSceneCanvas(),u=s.hit,c=u.getContext(),h=u.getWidth(),f=u.getHeight();c.clear(),c.drawImage(l._canvas,0,0,h,f);try{for(r=(n=(e=c.getImageData(0,0,h,f)).data).length,o=i.Util._hexToRgb(this.colorKey),a=0;a<r;a+=4)n[a+3]>t?(n[a]=o.r,n[a+1]=o.g,n[a+2]=o.b,n[a+3]=255):n[a+3]=0;c.putImageData(e,0,0)}catch(d){i.Util.error("Unable to draw hit graph from cached scene canvas. "+d.message)}return this},r.prototype.hasPointerCapture=function(t){return u.hasPointerCapture(t,this)},r.prototype.setPointerCapture=function(t){u.setPointerCapture(t,this)},r.prototype.releaseCapture=function(t){u.releaseCapture(t,this)},r}(a.Node);e.Shape=y,y.prototype._fillFunc=function(t){t.fill()},y.prototype._strokeFunc=function(t){t.stroke()},y.prototype._fillFuncHit=function(t){t.fill()},y.prototype._strokeFuncHit=function(t){t.stroke()},y.prototype._centroid=!1,y.prototype.nodeType="Shape",l._registerNode(y),y.prototype.eventListeners={},y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(c)})),y.prototype.on.call(y.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",(function(){this._clearCache(h)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",(function(){this._clearCache(f)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",(function(){this._clearCache(d)})),y.prototype.on.call(y.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",(function(){this._clearCache(p)})),o.Factory.addGetterSetter(y,"stroke",void 0,s.getStringOrGradientValidator()),o.Factory.addGetterSetter(y,"strokeWidth",2,s.getNumberValidator()),o.Factory.addGetterSetter(y,"fillAfterStrokeEnabled",!1),o.Factory.addGetterSetter(y,"hitStrokeWidth","auto",s.getNumberOrAutoValidator()),o.Factory.addGetterSetter(y,"strokeHitEnabled",!0,s.getBooleanValidator()),o.Factory.addGetterSetter(y,"perfectDrawEnabled",!0,s.getBooleanValidator()),o.Factory.addGetterSetter(y,"shadowForStrokeEnabled",!0,s.getBooleanValidator()),o.Factory.addGetterSetter(y,"lineJoin"),o.Factory.addGetterSetter(y,"lineCap"),o.Factory.addGetterSetter(y,"sceneFunc"),o.Factory.addGetterSetter(y,"hitFunc"),o.Factory.addGetterSetter(y,"dash"),o.Factory.addGetterSetter(y,"dashOffset",0,s.getNumberValidator()),o.Factory.addGetterSetter(y,"shadowColor",void 0,s.getStringValidator()),o.Factory.addGetterSetter(y,"shadowBlur",0,s.getNumberValidator()),o.Factory.addGetterSetter(y,"shadowOpacity",1,s.getNumberValidator()),o.Factory.addComponentsGetterSetter(y,"shadowOffset",["x","y"]),o.Factory.addGetterSetter(y,"shadowOffsetX",0,s.getNumberValidator()),o.Factory.addGetterSetter(y,"shadowOffsetY",0,s.getNumberValidator()),o.Factory.addGetterSetter(y,"fillPatternImage"),o.Factory.addGetterSetter(y,"fill",void 0,s.getStringOrGradientValidator()),o.Factory.addGetterSetter(y,"fillPatternX",0,s.getNumberValidator()),o.Factory.addGetterSetter(y,"fillPatternY",0,s.getNumberValidator()),o.Factory.addGetterSetter(y,"fillLinearGradientColorStops"),o.Factory.addGetterSetter(y,"strokeLinearGradientColorStops"),o.Factory.addGetterSetter(y,"fillRadialGradientStartRadius",0),o.Factory.addGetterSetter(y,"fillRadialGradientEndRadius",0),o.Factory.addGetterSetter(y,"fillRadialGradientColorStops"),o.Factory.addGetterSetter(y,"fillPatternRepeat","repeat"),o.Factory.addGetterSetter(y,"fillEnabled",!0),o.Factory.addGetterSetter(y,"strokeEnabled",!0),o.Factory.addGetterSetter(y,"shadowEnabled",!0),o.Factory.addGetterSetter(y,"dashEnabled",!0),o.Factory.addGetterSetter(y,"strokeScaleEnabled",!0),o.Factory.addGetterSetter(y,"fillPriority","color"),o.Factory.addComponentsGetterSetter(y,"fillPatternOffset",["x","y"]),o.Factory.addGetterSetter(y,"fillPatternOffsetX",0,s.getNumberValidator()),o.Factory.addGetterSetter(y,"fillPatternOffsetY",0,s.getNumberValidator()),o.Factory.addComponentsGetterSetter(y,"fillPatternScale",["x","y"]),o.Factory.addGetterSetter(y,"fillPatternScaleX",1,s.getNumberValidator()),o.Factory.addGetterSetter(y,"fillPatternScaleY",1,s.getNumberValidator()),o.Factory.addComponentsGetterSetter(y,"fillLinearGradientStartPoint",["x","y"]),o.Factory.addComponentsGetterSetter(y,"strokeLinearGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(y,"fillLinearGradientStartPointX",0),o.Factory.addGetterSetter(y,"strokeLinearGradientStartPointX",0),o.Factory.addGetterSetter(y,"fillLinearGradientStartPointY",0),o.Factory.addGetterSetter(y,"strokeLinearGradientStartPointY",0),o.Factory.addComponentsGetterSetter(y,"fillLinearGradientEndPoint",["x","y"]),o.Factory.addComponentsGetterSetter(y,"strokeLinearGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(y,"fillLinearGradientEndPointX",0),o.Factory.addGetterSetter(y,"strokeLinearGradientEndPointX",0),o.Factory.addGetterSetter(y,"fillLinearGradientEndPointY",0),o.Factory.addGetterSetter(y,"strokeLinearGradientEndPointY",0),o.Factory.addComponentsGetterSetter(y,"fillRadialGradientStartPoint",["x","y"]),o.Factory.addGetterSetter(y,"fillRadialGradientStartPointX",0),o.Factory.addGetterSetter(y,"fillRadialGradientStartPointY",0),o.Factory.addComponentsGetterSetter(y,"fillRadialGradientEndPoint",["x","y"]),o.Factory.addGetterSetter(y,"fillRadialGradientEndPointX",0),o.Factory.addGetterSetter(y,"fillRadialGradientEndPointY",0),o.Factory.addGetterSetter(y,"fillPatternRotation",0),o.Factory.backCompat(y,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),i.Collection.mapMethods(y)}(ih);var oh=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(rh,"__esModule",{value:!0}),rh.Layer=void 0;var ah=gc,sh=Vc,lh=yc,uh=vc,ch=Sc,hh=mc,fh=ih,dh=pc,ph=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],gh=ph.length,yh=function(t){function e(e){var n=t.call(this,e)||this;return n.canvas=new ch.SceneCanvas,n.hitCanvas=new ch.HitCanvas({pixelRatio:1}),n._waitingForDraw=!1,n.on("visibleChange.konva",n._checkVisibility),n._checkVisibility(),n.on("imageSmoothingEnabledChange.konva",n._setSmoothEnabled),n._setSmoothEnabled(),n}return oh(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var n=this.getStage();return n&&(n.content.removeChild(this.getCanvas()._canvas),e<n.children.length-1?n.content.insertBefore(this.getCanvas()._canvas,n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){lh.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!lh.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.children.length-1?t.content.insertBefore(this.getCanvas()._canvas,t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(lh.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(lh.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return lh.Node.prototype.remove.call(this),t&&t.parentNode&&ah.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,n=t.height;return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&ah.Util.throw("You may only add groups and shapes to a layer.")},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),lh.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._setSmoothEnabled=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){ah.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){ah.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,ah.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype.getIntersection=function(t,e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(var i=0;i<gh;i++){var o=ph[i],a=this._getIntersection({x:t.x+o.x*n,y:t.y+o.y*n}),s=a.shape;if(s&&e)return s.findAncestor(e,!0);if(s)return s;if(r=!!a.antialiased,!a.antialiased)break}if(!r)return null;n+=1}},e.prototype._getIntersection=function(t){var e=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,r=n[3];if(255===r){var i=ah.Util._rgbToHex(n[0],n[1],n[2]),o=fh.shapes["#"+i];return o?{shape:o}:{antialiased:!0}}return r>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),sh.Container.prototype.drawScene.call(this,r,e),this._fire("draw",{node:this}),this},e.prototype.drawHit=function(t,e){var n=this.getLayer(),r=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),sh.Container.prototype.drawHit.call(this,r,e),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.setHitGraphEnabled=function(t){ah.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)},e.prototype.getHitGraphEnabled=function(t){return ah.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e}(sh.Container);rh.Layer=yh,yh.prototype.nodeType="Layer",dh._registerNode(yh),uh.Factory.addGetterSetter(yh,"imageSmoothingEnabled",!0),uh.Factory.addGetterSetter(yh,"clearBeforeDraw",!0),uh.Factory.addGetterSetter(yh,"hitGraphEnabled",!0,hh.getBooleanValidator()),ah.Collection.mapMethods(yh);var vh={},mh=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(vh,"__esModule",{value:!0}),vh.FastLayer=void 0;var bh=gc,_h=pc,xh=function(t){function e(e){var n=t.call(this,e)||this;return n.listening(!1),bh.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.'),n}return mh(e,t),e}(rh.Layer);vh.FastLayer=xh,xh.prototype.nodeType="FastLayer",_h._registerNode(xh),bh.Collection.mapMethods(xh);var wh={},Sh=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(wh,"__esModule",{value:!0}),wh.Group=void 0;var Ch=gc,kh=pc,Th=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Sh(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Ch.Util.throw("You may only add groups and shapes to groups.")},e}(Vc.Container);wh.Group=Th,Th.prototype.nodeType="Group",kh._registerNode(Th),Ch.Collection.mapMethods(Th);var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0}),Ph.Animation=void 0;var Eh=pc,Oh=Eh.glob.performance&&Eh.glob.performance.now?function(){return Eh.glob.performance.now()}:function(){return(new Date).getTime()},Mh=function(){function t(e,n){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Oh(),frameRate:0},this.func=e,this.setLayers(n)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,n=this.layers,r=n.length;for(e=0;e<r;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,n=t.animations,r=n.length;for(e=0;e<r;e++)if(n[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Oh(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,n=t.id,r=this.animations,i=r.length;for(e=0;e<i;e++)if(r[e].id===n){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,n,r,i,o,a,s,l={},u=this.animations;for(r=0;r<u.length;r++)if(e=(t=u[r]).layers,n=t.func,t._updateFrameObject(Oh()),o=e.length,!n||!1!==n.call(t,t.frame))for(i=0;i<o;i++)void 0!==(a=e[i])._id&&(l[a._id]=a);for(s in l)l.hasOwnProperty(s)&&l[s].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();Ph.Animation=Mh;var Fh={};!function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;var e=gc,n=Ph,r=yc,i=pc,o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=0,s=["fill","stroke","shadowColor"],l=function(){function t(t,e,n,r,i,o,a){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=1,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),u=function(){function r(s){var u,c,h=this,f=s.node,d=f._id,p=s.easing||t.Easings.Linear,g=!!s.yoyo;u=void 0===s.duration?.3:0===s.duration?.001:s.duration,this.node=f,this._id=a++;var y=f.getLayer()||(f instanceof i.Konva.Stage?f.getLayers():null);for(c in y||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation((function(){h.tween.onEnterFrame()}),y),this.tween=new l(c,(function(t){h._tweenFunc(t)}),p,0,1,1e3*u,g),this._addListeners(),r.attrs[d]||(r.attrs[d]={}),r.attrs[d][this._id]||(r.attrs[d][this._id]={}),r.tweens[d]||(r.tweens[d]={}),s)void 0===o[c]&&this._addAttr(c,s[c]);this.reset(),this.onFinish=s.onFinish,this.onReset=s.onReset,this.onUpdate=s.onUpdate}return r.prototype._addAttr=function(t,n){var i,o,a,l,u,c,h,f,d=this.node,p=d._id;if((a=r.tweens[p][t])&&delete r.attrs[p][a][t],i=d.getAttr(t),e.Util._isArray(n))if(o=[],u=Math.max(n.length,i.length),"points"===t&&n.length!==i.length&&(n.length>i.length?(h=i,i=e.Util._prepareArrayForTween(i,n,d.closed())):(c=n,n=e.Util._prepareArrayForTween(n,i,d.closed()))),0===t.indexOf("fill"))for(l=0;l<u;l++)if(l%2==0)o.push(n[l]-i[l]);else{var g=e.Util.colorToRGBA(i[l]);f=e.Util.colorToRGBA(n[l]),i[l]=g,o.push({r:f.r-g.r,g:f.g-g.g,b:f.b-g.b,a:f.a-g.a})}else for(l=0;l<u;l++)o.push(n[l]-i[l]);else-1!==s.indexOf(t)?(i=e.Util.colorToRGBA(i),o={r:(f=e.Util.colorToRGBA(n)).r-i.r,g:f.g-i.g,b:f.b-i.b,a:f.a-i.a}):o=n-i;r.attrs[p][this._id][t]={start:i,diff:o,end:n,trueEnd:c,trueStart:h},r.tweens[p][t]=this._id},r.prototype._tweenFunc=function(t){var n,i,o,a,l,u,c,h,f=this.node,d=r.attrs[f._id][this._id];for(n in d){if(o=(i=d[n]).start,a=i.diff,h=i.end,e.Util._isArray(o))if(l=[],c=Math.max(o.length,h.length),0===n.indexOf("fill"))for(u=0;u<c;u++)u%2==0?l.push((o[u]||0)+a[u]*t):l.push("rgba("+Math.round(o[u].r+a[u].r*t)+","+Math.round(o[u].g+a[u].g*t)+","+Math.round(o[u].b+a[u].b*t)+","+(o[u].a+a[u].a*t)+")");else for(u=0;u<c;u++)l.push((o[u]||0)+a[u]*t);else l=-1!==s.indexOf(n)?"rgba("+Math.round(o.r+a.r*t)+","+Math.round(o.g+a.g*t)+","+Math.round(o.b+a.b*t)+","+(o.a+a.a*t)+")":o+a*t;f.setAttr(n,l)}},r.prototype._addListeners=function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){var e=t.node,n=r.attrs[e._id][t._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),t.onFinish&&t.onFinish.call(t)},this.tween.onReset=function(){var e=t.node,n=r.attrs[e._id][t._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),t.onReset&&t.onReset()},this.tween.onUpdate=function(){t.onUpdate&&t.onUpdate.call(t)}},r.prototype.play=function(){return this.tween.play(),this},r.prototype.reverse=function(){return this.tween.reverse(),this},r.prototype.reset=function(){return this.tween.reset(),this},r.prototype.seek=function(t){return this.tween.seek(1e3*t),this},r.prototype.pause=function(){return this.tween.pause(),this},r.prototype.finish=function(){return this.tween.finish(),this},r.prototype.destroy=function(){var t,e=this.node._id,n=this._id,i=r.tweens[e];for(t in this.pause(),i)delete r.tweens[e][t];delete r.attrs[e][n]},r.attrs={},r.tweens={},r}();t.Tween=u,r.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new u(t).play()},t.Easings={BackEaseIn:function(t,e,n,r){var i=1.70158;return n*(t/=r)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,n,r){var i=1.70158;return n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn:function(t,e,n,r,i,o){var a=0;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)+e)},ElasticEaseOut:function(t,e,n,r,i,o){var a=0;return 0===t?e:1==(t/=r)?e+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+n+e)},ElasticEaseInOut:function(t,e,n,r,i,o){var a=0;return 0===t?e:2==(t/=r/2)?e+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+n+e)},BounceEaseOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(e,n,r,i){return r-t.Easings.BounceEaseOut(i-e,0,r,i)+n},BounceEaseInOut:function(e,n,r,i){return e<i/2?.5*t.Easings.BounceEaseIn(2*e,0,r,i)+n:.5*t.Easings.BounceEaseOut(2*e-i,0,r,i)+.5*r+n},EaseIn:function(t,e,n,r){return n*(t/=r)*t+e},EaseOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,r){return n*t/r+e}}}(Fh),Object.defineProperty(dc,"__esModule",{value:!0}),dc.Konva=void 0;var Ah=pc,Nh=gc,Dh=yc,Rh=Vc,Ih=Qc,Lh=rh,Gh=vh,Uh=wh,zh=Bc,jh=ih,Bh=Ph,Vh=Fh,Wh=Cc,Hh=Sc;dc.Konva=Nh.Util._assign(Ah.Konva,{Collection:Nh.Collection,Util:Nh.Util,Transform:Nh.Transform,Node:Dh.Node,ids:Dh.ids,names:Dh.names,Container:Rh.Container,Stage:Ih.Stage,stages:Ih.stages,Layer:Lh.Layer,FastLayer:Gh.FastLayer,Group:Uh.Group,DD:zh.DD,Shape:jh.Shape,shapes:jh.shapes,Animation:Bh.Animation,Tween:Vh.Tween,Easings:Vh.Easings,Context:Wh.Context,Canvas:Hh.Canvas});var Kh={},Yh=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.Arc=void 0;var Xh=gc,qh=vc,Qh=pc,$h=mc,Jh=pc,Zh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yh(e,t),e.prototype._sceneFunc=function(t){var e=Qh.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(ih.Shape);Kh.Arc=Zh,Zh.prototype._centroid=!0,Zh.prototype.className="Arc",Zh.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Jh._registerNode(Zh),qh.Factory.addGetterSetter(Zh,"innerRadius",0,$h.getNumberValidator()),qh.Factory.addGetterSetter(Zh,"outerRadius",0,$h.getNumberValidator()),qh.Factory.addGetterSetter(Zh,"angle",0,$h.getNumberValidator()),qh.Factory.addGetterSetter(Zh,"clockwise",!1,$h.getBooleanValidator()),Xh.Collection.mapMethods(Zh);var tf={},ef={},nf=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rf=t&&t.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(ef,"__esModule",{value:!0}),ef.Line=void 0;var of=gc,af=vc,sf=mc,lf=pc,uf=function(t){function e(e){var n=t.call(this,e)||this;return n.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),n}return nf(e,t),e.prototype._sceneFunc=function(t){var e,n,r,i=this.points(),o=i.length,a=this.tension(),s=this.closed(),l=this.bezier();if(o){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&o>4){for(n=(e=this.getTensionPoints()).length,r=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<n-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);s||t.quadraticCurveTo(e[n-2],e[n-1],i[o-2],i[o-1])}else if(l)for(r=2;r<o;)t.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)t.lineTo(i[r],i[r+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():of.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,n=this.tension(),r=of.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),i=of.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),o=of.Util._expandPoints(t,n);return[r[2],r[3]].concat(o).concat([i[0],i[1],t[e-2],t[e-1],i[2],i[3],r[0],r[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,r=(t=0!==this.tension()?rf([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points())[0],i=t[0],o=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],r=Math.min(r,e),i=Math.max(i,e),o=Math.min(o,n),a=Math.max(a,n);return{x:r,y:o,width:i-r,height:a-o}},e}(ih.Shape);ef.Line=uf,uf.prototype.className="Line",uf.prototype._attrsAffectingSize=["points","bezier","tension"],lf._registerNode(uf),af.Factory.addGetterSetter(uf,"closed",!1),af.Factory.addGetterSetter(uf,"bezier",!1),af.Factory.addGetterSetter(uf,"tension",0,sf.getNumberValidator()),af.Factory.addGetterSetter(uf,"points",[],sf.getNumberArrayValidator()),of.Collection.mapMethods(uf);var cf=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(tf,"__esModule",{value:!0}),tf.Arrow=void 0;var hf=gc,ff=vc,df=mc,pf=pc,gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return cf(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var n=2*Math.PI,r=this.points(),i=r,o=0!==this.tension()&&r.length>4;o&&(i=this.getTensionPoints());var a,s,l=r.length;o?(a=r[l-2]-(i[i.length-2]+i[i.length-4])/2,s=r[l-1]-(i[i.length-1]+i[i.length-3])/2):(a=r[l-2]-r[l-4],s=r[l-1]-r[l-3]);var u=(Math.atan2(s,a)+n)%n,c=this.pointerLength(),h=this.pointerWidth();e.save(),e.beginPath(),e.translate(r[l-2],r[l-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-c,h/2),e.lineTo(-c,-h/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(r[0],r[1]),o?(a=(i[0]+i[2])/2-r[0],s=(i[1]+i[3])/2-r[1]):(a=r[2]-r[0],s=r[3]-r[1]),e.rotate((Math.atan2(-s,-a)+n)%n),e.moveTo(0,0),e.lineTo(-c,h/2),e.lineTo(-c,-h/2),e.closePath(),e.restore());var f=this.dashEnabled();f&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),f&&(this.attrs.dashEnabled=!0)},e.prototype.getSelfRect=function(){var e=t.prototype.getSelfRect.call(this),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+2*n,height:e.height+2*n}},e}(ef.Line);tf.Arrow=gf,gf.prototype.className="Arrow",pf._registerNode(gf),ff.Factory.addGetterSetter(gf,"pointerLength",10,df.getNumberValidator()),ff.Factory.addGetterSetter(gf,"pointerWidth",10,df.getNumberValidator()),ff.Factory.addGetterSetter(gf,"pointerAtBeginning",!1),hf.Collection.mapMethods(gf);var yf={},vf=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(yf,"__esModule",{value:!0}),yf.Circle=void 0;var mf=gc,bf=vc,_f=mc,xf=pc,wf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return vf(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(ih.Shape);yf.Circle=wf,wf.prototype._centroid=!0,wf.prototype.className="Circle",wf.prototype._attrsAffectingSize=["radius"],xf._registerNode(wf),bf.Factory.addGetterSetter(wf,"radius",0,_f.getNumberValidator()),mf.Collection.mapMethods(wf);var Sf={},Cf=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.Ellipse=void 0;var kf=gc,Tf=vc,Pf=mc,Ef=pc,Of=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Cf(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(ih.Shape);Sf.Ellipse=Of,Of.prototype.className="Ellipse",Of.prototype._centroid=!0,Of.prototype._attrsAffectingSize=["radiusX","radiusY"],Ef._registerNode(Of),Tf.Factory.addComponentsGetterSetter(Of,"radius",["x","y"]),Tf.Factory.addGetterSetter(Of,"radiusX",0,Pf.getNumberValidator()),Tf.Factory.addGetterSetter(Of,"radiusY",0,Pf.getNumberValidator()),kf.Collection.mapMethods(Of);var Mf={},Ff=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.Image=void 0;var Af=gc,Nf=vc,Df=mc,Rf=pc,If=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ff(e,t),e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._sceneFunc=function(t){var e,n=this.getWidth(),r=this.getHeight(),i=this.attrs.image;if(i){var o=this.attrs.cropWidth,a=this.attrs.cropHeight;e=o&&a?[i,this.cropX(),this.cropY(),o,a,0,0,n,r]:[i,0,0,n,r]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)),i&&t.drawImage.apply(t,e)},e.prototype._hitFunc=function(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.width)||0},e.prototype.getHeight=function(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.height)||0},e.fromURL=function(t,n){var r=Af.Util.createImageElement();r.onload=function(){var t=new e({image:r});n(t)},r.crossOrigin="Anonymous",r.src=t},e}(ih.Shape);Mf.Image=If,If.prototype.className="Image",Rf._registerNode(If),Nf.Factory.addGetterSetter(If,"image"),Nf.Factory.addComponentsGetterSetter(If,"crop",["x","y","width","height"]),Nf.Factory.addGetterSetter(If,"cropX",0,Df.getNumberValidator()),Nf.Factory.addGetterSetter(If,"cropY",0,Df.getNumberValidator()),Nf.Factory.addGetterSetter(If,"cropWidth",0,Df.getNumberValidator()),Nf.Factory.addGetterSetter(If,"cropHeight",0,Df.getNumberValidator()),Af.Collection.mapMethods(If);var Lf={},Gf=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.Tag=Lf.Label=void 0;var Uf=gc,zf=vc,jf=ih,Bf=mc,Vf=pc,Wf=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height"],Hf=Wf.length,Kf=function(t){function e(e){var n=t.call(this,e)||this;return n.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),n}return Gf(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,n=this,r=function(){n._sync()};for(e=0;e<Hf;e++)t.on(Wf[e]+"Change.konva",r)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,n,r,i,o,a,s=this.getText(),l=this.getTag();if(s&&l){switch(t=s.width(),e=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),i=0,o=0,n){case"up":i=t/2,o=-1*a;break;case"right":i=t+r,o=e/2;break;case"down":i=t/2,o=e+a;break;case"left":i=-1*r,o=e/2}l.setAttrs({x:-1*i,y:-1*o,width:t,height:e}),s.setAttrs({x:-1*i,y:-1*o})}},e}(wh.Group);Lf.Label=Kf,Kf.prototype.className="Label",Vf._registerNode(Kf),Uf.Collection.mapMethods(Kf);var Yf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gf(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius(),s=0,l=0,u=0,c=0;"number"==typeof a?s=l=u=c=Math.min(a,e/2,n/2):(s=Math.min(a[0]||0,e/2,n/2),l=Math.min(a[1]||0,e/2,n/2),c=Math.min(a[2]||0,e/2,n/2),u=Math.min(a[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(s,0),"up"===r&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+i)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),"right"===r&&(t.lineTo(e,(n-o)/2),t.lineTo(e+i,n/2),t.lineTo(e,(n+o)/2)),t.lineTo(e,n-c),t.arc(e-c,n-c,c,0,Math.PI/2,!1),"down"===r&&(t.lineTo((e+i)/2,n),t.lineTo(e/2,n+o),t.lineTo((e-i)/2,n)),t.lineTo(u,n),t.arc(u,n-u,u,Math.PI/2,Math.PI,!1),"left"===r&&(t.lineTo(0,(n+o)/2),t.lineTo(-1*i,n/2),t.lineTo(0,(n-o)/2)),t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return"up"===i?(e-=r,a+=r):"down"===i?a+=r:"left"===i?(t-=1.5*n,o+=n):"right"===i&&(o+=1.5*n),{x:t,y:e,width:o,height:a}},e}(jf.Shape);Lf.Tag=Yf,Yf.prototype.className="Tag",Vf._registerNode(Yf),zf.Factory.addGetterSetter(Yf,"pointerDirection","none"),zf.Factory.addGetterSetter(Yf,"pointerWidth",0,Bf.getNumberValidator()),zf.Factory.addGetterSetter(Yf,"pointerHeight",0,Bf.getNumberValidator()),zf.Factory.addGetterSetter(Yf,"cornerRadius",0,Bf.getNumberOrArrayOfNumbersValidator(4)),Uf.Collection.mapMethods(Yf);var Xf={},qf=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.Path=void 0;var Qf=gc,$f=vc,Jf=pc,Zf=function(t){function e(n){var r=t.call(this,n)||this;r.dataArray=[],r.pathLength=0,r.dataArray=e.parsePathData(r.data()),r.pathLength=0;for(var i=0;i<r.dataArray.length;++i)r.pathLength+=r.dataArray[i].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),r}return qf(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var n=!1,r=0;r<e.length;r++){var i=e[r].command,o=e[r].points;switch(i){case"L":t.lineTo(o[0],o[1]);break;case"M":t.moveTo(o[0],o[1]);break;case"C":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],h=o[5],f=o[6],d=o[7],p=l>u?l:u,g=l>u?1:l/u,y=l>u?u/l:1;t.translate(a,s),t.rotate(f),t.scale(g,y),t.arc(0,0,p,c,c+h,1-d),t.scale(1/g,1/y),t.rotate(-f),t.translate(-a,-s);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(n){if("A"===n.command){var r=n.points[4],i=n.points[5],o=n.points[4]+i,a=Math.PI/180;if(Math.abs(r-o)<a&&(a=Math.abs(r-o)),i<0)for(var s=r-a;s>o;s-=a){var l=e.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],s,0);t.push(l.x,l.y)}else for(s=r+a;s<o;s+=a){l=e.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],s,0);t.push(l.x,l.y)}}else if("C"===n.command)for(s=0;s<=1;s+=.01){l=e.getPointOnCubicBezier(s,n.start.x,n.start.y,n.points[0],n.points[1],n.points[2],n.points[3],n.points[4],n.points[5]);t.push(l.x,l.y)}else t=t.concat(n.points)}));for(var n,r,i=t[0],o=t[0],a=t[1],s=t[1],l=0;l<t.length/2;l++)n=t[2*l],r=t[2*l+1],isNaN(n)||(i=Math.min(i,n),o=Math.max(o,n)),isNaN(r)||(a=Math.min(a,r),s=Math.max(s,r));return{x:Math.round(i),y:Math.round(a),width:Math.round(o-i),height:Math.round(s-a)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===i)return{x:(n=this.dataArray[r-1].points.slice(-2))[0],y:n[1]};if(t<.01)return{x:(n=this.dataArray[r].points.slice(0,2))[0],y:n[1]};var o=this.dataArray[r],a=o.points;switch(o.command){case"L":return e.getPointOnLine(t,o.start.x,o.start.y,a[0],a[1]);case"C":return e.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return e.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var s=a[0],l=a[1],u=a[2],c=a[3],h=a[4],f=a[5],d=a[6];return h+=f*t/o.pathLength,e.getPointOnEllipticalArc(s,l,u,c,h,d)}return null},e.getLineLength=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},e.getPointOnLine=function(t,e,n,r,i,o,a){void 0===o&&(o=e),void 0===a&&(a=n);var s=(i-n)/(r-e+1e-8),l=Math.sqrt(t*t/(1+s*s));r<e&&(l*=-1);var u,c=s*l;if(r===e)u={x:o,y:a+c};else if((a-n)/(o-e+1e-8)===s)u={x:o+l,y:a+c};else{var h,f,d=this.getLineLength(e,n,r,i),p=(o-e)*(r-e)+(a-n)*(i-n);h=e+(p/=d*d)*(r-e),f=n+p*(i-n);var g=this.getLineLength(o,a,h,f),y=Math.sqrt(t*t-g*g);l=Math.sqrt(y*y/(1+s*s)),r<e&&(l*=-1),u={x:h+l,y:f+(c=s*l)}}return u},e.getPointOnCubicBezier=function(t,e,n,r,i,o,a,s,l){function u(t){return t*t*t}function c(t){return 3*t*t*(1-t)}function h(t){return 3*t*(1-t)*(1-t)}function f(t){return(1-t)*(1-t)*(1-t)}return{x:s*u(t)+o*c(t)+r*h(t)+e*f(t),y:l*u(t)+a*c(t)+i*h(t)+n*f(t)}},e.getPointOnQuadraticBezier=function(t,e,n,r,i,o,a){function s(t){return t*t}function l(t){return 2*t*(1-t)}function u(t){return(1-t)*(1-t)}return{x:o*s(t)+r*l(t)+e*u(t),y:a*s(t)+i*l(t)+n*u(t)}},e.getPointOnEllipticalArc=function(t,e,n,r,i,o){var a=Math.cos(o),s=Math.sin(o),l=n*Math.cos(i),u=r*Math.sin(i);return{x:t+(l*a-u*s),y:e+(l*s+u*a)}},e.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)e=e.replace(new RegExp(n[r],"g"),"|"+n[r]);var i,o=e.split("|"),a=[],s=[],l=0,u=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<o.length;r++){var h=o[r],f=h.charAt(0);for(h=h.slice(1),s.length=0;i=c.exec(h);)s.push(i[0]);for(var d=[],p=0,g=s.length;p<g;p++){var y=parseFloat(s[p]);isNaN(y)?d.push(0):d.push(y)}for(;d.length>0&&!isNaN(d[0]);){var v,m,b,_,x,w,S,C,k,T,P=null,E=[],O=l,M=u;switch(f){case"l":l+=d.shift(),u+=d.shift(),P="L",E.push(l,u);break;case"L":l=d.shift(),u=d.shift(),E.push(l,u);break;case"m":var F=d.shift(),A=d.shift();if(l+=F,u+=A,P="M",a.length>2&&"z"===a[a.length-1].command)for(var N=a.length-2;N>=0;N--)if("M"===a[N].command){l=a[N].points[0]+F,u=a[N].points[1]+A;break}E.push(l,u),f="l";break;case"M":l=d.shift(),u=d.shift(),P="M",E.push(l,u),f="L";break;case"h":l+=d.shift(),P="L",E.push(l,u);break;case"H":l=d.shift(),P="L",E.push(l,u);break;case"v":u+=d.shift(),P="L",E.push(l,u);break;case"V":u=d.shift(),P="L",E.push(l,u);break;case"C":E.push(d.shift(),d.shift(),d.shift(),d.shift()),l=d.shift(),u=d.shift(),E.push(l,u);break;case"c":E.push(l+d.shift(),u+d.shift(),l+d.shift(),u+d.shift()),l+=d.shift(),u+=d.shift(),P="C",E.push(l,u);break;case"S":m=l,b=u,"C"===(v=a[a.length-1]).command&&(m=l+(l-v.points[2]),b=u+(u-v.points[3])),E.push(m,b,d.shift(),d.shift()),l=d.shift(),u=d.shift(),P="C",E.push(l,u);break;case"s":m=l,b=u,"C"===(v=a[a.length-1]).command&&(m=l+(l-v.points[2]),b=u+(u-v.points[3])),E.push(m,b,l+d.shift(),u+d.shift()),l+=d.shift(),u+=d.shift(),P="C",E.push(l,u);break;case"Q":E.push(d.shift(),d.shift()),l=d.shift(),u=d.shift(),E.push(l,u);break;case"q":E.push(l+d.shift(),u+d.shift()),l+=d.shift(),u+=d.shift(),P="Q",E.push(l,u);break;case"T":m=l,b=u,"Q"===(v=a[a.length-1]).command&&(m=l+(l-v.points[0]),b=u+(u-v.points[1])),l=d.shift(),u=d.shift(),P="Q",E.push(m,b,l,u);break;case"t":m=l,b=u,"Q"===(v=a[a.length-1]).command&&(m=l+(l-v.points[0]),b=u+(u-v.points[1])),l+=d.shift(),u+=d.shift(),P="Q",E.push(m,b,l,u);break;case"A":_=d.shift(),x=d.shift(),w=d.shift(),S=d.shift(),C=d.shift(),k=l,T=u,l=d.shift(),u=d.shift(),P="A",E=this.convertEndpointToCenterParameterization(k,T,l,u,S,C,_,x,w);break;case"a":_=d.shift(),x=d.shift(),w=d.shift(),S=d.shift(),C=d.shift(),k=l,T=u,l+=d.shift(),u+=d.shift(),P="A",E=this.convertEndpointToCenterParameterization(k,T,l,u,S,C,_,x,w)}a.push({command:P||f,points:E,start:{x:O,y:M},pathLength:this.calcLength(O,M,P||f,E)})}"z"!==f&&"Z"!==f||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a},e.calcLength=function(t,n,r,i){var o,a,s,l,u=e;switch(r){case"L":return u.getLineLength(t,n,i[0],i[1]);case"C":for(o=0,a=u.getPointOnCubicBezier(0,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)s=u.getPointOnCubicBezier(l,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"Q":for(o=0,a=u.getPointOnQuadraticBezier(0,t,n,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)s=u.getPointOnQuadraticBezier(l,t,n,i[0],i[1],i[2],i[3]),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"A":o=0;var c=i[4],h=i[5],f=i[4]+h,d=Math.PI/180;if(Math.abs(c-f)<d&&(d=Math.abs(c-f)),a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),h<0)for(l=c-d;l>f;l-=d)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(l=c+d;l<f;l+=d)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),o+=u.getLineLength(a.x,a.y,s.x,s.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,n,r,i,o,a,s,l){var u=l*(Math.PI/180),c=Math.cos(u)*(t-n)/2+Math.sin(u)*(e-r)/2,h=-1*Math.sin(u)*(t-n)/2+Math.cos(u)*(e-r)/2,f=c*c/(a*a)+h*h/(s*s);f>1&&(a*=Math.sqrt(f),s*=Math.sqrt(f));var d=Math.sqrt((a*a*(s*s)-a*a*(h*h)-s*s*(c*c))/(a*a*(h*h)+s*s*(c*c)));i===o&&(d*=-1),isNaN(d)&&(d=0);var p=d*a*h/s,g=d*-s*c/a,y=(t+n)/2+Math.cos(u)*p-Math.sin(u)*g,v=(e+r)/2+Math.sin(u)*p+Math.cos(u)*g,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},x=_([1,0],[(c-p)/a,(h-g)/s]),w=[(c-p)/a,(h-g)/s],S=[(-1*c-p)/a,(-1*h-g)/s],C=_(w,S);return b(w,S)<=-1&&(C=Math.PI),b(w,S)>=1&&(C=0),0===o&&C>0&&(C-=2*Math.PI),1===o&&C<0&&(C+=2*Math.PI),[y,v,a,s,x,C,u,o]},e}(ih.Shape);Xf.Path=Zf,Zf.prototype.className="Path",Zf.prototype._attrsAffectingSize=["data"],Jf._registerNode(Zf),$f.Factory.addGetterSetter(Zf,"data"),Qf.Collection.mapMethods(Zf);var td={},ed=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(td,"__esModule",{value:!0}),td.Rect=void 0;var nd=gc,rd=vc,id=pc,od=mc,ad=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ed(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),n=this.width(),r=this.height();if(t.beginPath(),e){var i=0,o=0,a=0,s=0;"number"==typeof e?i=o=a=s=Math.min(e,n/2,r/2):(i=Math.min(e[0]||0,n/2,r/2),o=Math.min(e[1]||0,n/2,r/2),s=Math.min(e[2]||0,n/2,r/2),a=Math.min(e[3]||0,n/2,r/2)),t.moveTo(i,0),t.lineTo(n-o,0),t.arc(n-o,o,o,3*Math.PI/2,0,!1),t.lineTo(n,r-s),t.arc(n-s,r-s,s,0,Math.PI/2,!1),t.lineTo(a,r),t.arc(a,r-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,n,r);t.closePath(),t.fillStrokeShape(this)},e}(ih.Shape);td.Rect=ad,ad.prototype.className="Rect",id._registerNode(ad),rd.Factory.addGetterSetter(ad,"cornerRadius",0,od.getNumberOrArrayOfNumbersValidator(4)),nd.Collection.mapMethods(ad);var sd={},ld=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(sd,"__esModule",{value:!0}),sd.RegularPolygon=void 0;var ud=gc,cd=vc,hd=mc,fd=pc,dd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ld(e,t),e.prototype._sceneFunc=function(t){var e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var n=1;n<e.length;n++)t.lineTo(e[n].x,e[n].y);t.closePath(),t.fillStrokeShape(this)},e.prototype._getPoints=function(){for(var t=this.attrs.sides,e=this.attrs.radius||0,n=[],r=0;r<t;r++)n.push({x:e*Math.sin(2*r*Math.PI/t),y:-1*e*Math.cos(2*r*Math.PI/t)});return n},e.prototype.getSelfRect=function(){var t=this._getPoints(),e=t[0].x,n=t[0].y,r=t[0].x,i=t[0].y;return t.forEach((function(t){e=Math.min(e,t.x),n=Math.max(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.y)})),{x:e,y:r,width:n-e,height:i-r}},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(ih.Shape);sd.RegularPolygon=dd,dd.prototype.className="RegularPolygon",dd.prototype._centroid=!0,dd.prototype._attrsAffectingSize=["radius"],fd._registerNode(dd),cd.Factory.addGetterSetter(dd,"radius",0,hd.getNumberValidator()),cd.Factory.addGetterSetter(dd,"sides",0,hd.getNumberValidator()),ud.Collection.mapMethods(dd);var pd={},gd=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(pd,"__esModule",{value:!0}),pd.Ring=void 0;var yd=gc,vd=vc,md=ih,bd=mc,_d=pc,xd=2*Math.PI,wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gd(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,xd,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),xd,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(md.Shape);pd.Ring=wd,wd.prototype.className="Ring",wd.prototype._centroid=!0,wd.prototype._attrsAffectingSize=["innerRadius","outerRadius"],_d._registerNode(wd),vd.Factory.addGetterSetter(wd,"innerRadius",0,bd.getNumberValidator()),vd.Factory.addGetterSetter(wd,"outerRadius",0,bd.getNumberValidator()),yd.Collection.mapMethods(wd);var Sd={},Cd=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.Sprite=void 0;var kd=gc,Td=vc,Pd=Ph,Ed=mc,Od=pc,Md=function(t){function e(e){var n=t.call(this,e)||this;return n._updated=!0,n.anim=new Pd.Animation((function(){var t=n._updated;return n._updated=!1,t})),n.on("animationChange.konva",(function(){this.frameIndex(0)})),n.on("frameIndexChange.konva",(function(){this._updated=!0})),n.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),n}return Cd(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[r+0],s=i[r+1],l=i[r+2],u=i[r+3],c=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,u),t.closePath(),t.fillStrokeShape(this)),c)if(o){var h=o[e],f=2*n;t.drawImage(c,a,s,l,u,h[f+0],h[f+1],l,u)}else t.drawImage(c,a,s,l,u,0,0,l,u)},e.prototype._hitFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[r+2],s=i[r+3];if(t.beginPath(),o){var l=o[e],u=2*n;t.rect(l[u+0],l[u+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(ih.Shape);Sd.Sprite=Md,Md.prototype.className="Sprite",Od._registerNode(Md),Td.Factory.addGetterSetter(Md,"animation"),Td.Factory.addGetterSetter(Md,"animations"),Td.Factory.addGetterSetter(Md,"frameOffsets"),Td.Factory.addGetterSetter(Md,"image"),Td.Factory.addGetterSetter(Md,"frameIndex",0,Ed.getNumberValidator()),Td.Factory.addGetterSetter(Md,"frameRate",17,Ed.getNumberValidator()),Td.Factory.backCompat(Md,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),kd.Collection.mapMethods(Md);var Fd={},Ad=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.Star=void 0;var Nd=gc,Dd=vc,Rd=mc,Id=pc,Ld=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ad(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*r;i++){var o=i%2==0?n:e,a=o*Math.sin(i*Math.PI/r),s=-1*o*Math.cos(i*Math.PI/r);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(ih.Shape);Fd.Star=Ld,Ld.prototype.className="Star",Ld.prototype._centroid=!0,Ld.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Id._registerNode(Ld),Dd.Factory.addGetterSetter(Ld,"numPoints",5,Rd.getNumberValidator()),Dd.Factory.addGetterSetter(Ld,"innerRadius",0,Rd.getNumberValidator()),Dd.Factory.addGetterSetter(Ld,"outerRadius",0,Rd.getNumberValidator()),Nd.Collection.mapMethods(Ld);var Gd={},Ud=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.Text=Gd.stringToArray=void 0;var zd=gc,jd=vc,Bd=ih,Vd=pc,Wd=mc,Hd=pc;function Kd(t){return Array.from(t)}Gd.stringToArray=Kd;var Yd,Xd=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],qd=Xd.length;function Qd(){return Yd||(Yd=zd.Util.createCanvasElement().getContext("2d"))}var $d=function(t){function e(e){var n=t.call(this,function(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}(e))||this;n._partialTextX=0,n._partialTextY=0;for(var r=0;r<qd;r++)n.on(Xd[r]+"Change.konva",n._setTextData);return n._setTextData(),n}return Ud(e,t),e.prototype._sceneFunc=function(t){var e=this.textArr,n=e.length;if(this.text()){var r,i=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,s=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),h=this.letterSpacing(),f=this.fill(),d=this.textDecoration(),p=-1!==d.indexOf("underline"),g=-1!==d.indexOf("line-through"),y=0,v=(y=a/2,0),m=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),"middle"===s?l=(this.getHeight()-n*a-2*i)/2:"bottom"===s&&(l=this.getHeight()-n*a-2*i),t.translate(i,l+i),r=0;r<n;r++){v=0,m=0;var b,_,x,w=e[r],S=w.text,C=w.width,k=r!==n-1;if(t.save(),"right"===u?v+=c-C-2*i:"center"===u&&(v+=(c-C-2*i)/2),p&&(t.save(),t.beginPath(),t.moveTo(v,y+m+Math.round(o/2)),_=0===(b=S.split(" ").length-1),x="justify"===u&&k&&!_?c-2*i:C,t.lineTo(v+Math.round(x),y+m+Math.round(o/2)),t.lineWidth=o/15,t.strokeStyle=f,t.stroke(),t.restore()),g&&(t.save(),t.beginPath(),t.moveTo(v,y+m),_=0===(b=S.split(" ").length-1),x="justify"===u&&k&&!_?c-2*i:C,t.lineTo(v+Math.round(x),y+m),t.lineWidth=o/15,t.strokeStyle=f,t.stroke(),t.restore()),0!==h||"justify"===u){b=S.split(" ").length-1;for(var T=Kd(S),P=0;P<T.length;P++){var E=T[P];" "===E&&r!==n-1&&"justify"===u&&(v+=(c-2*i-C)/b),this._partialTextX=v,this._partialTextY=y+m,this._partialText=E,t.fillStrokeShape(this),v+=this.measureSize(E).width+h}}else this._partialTextX=v,this._partialTextY=y+m,this._partialText=S,t.fillStrokeShape(this);t.restore(),n>1&&(y+=a)}}},e.prototype._hitFunc=function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=zd.Util._isString(t)?t:null==t?"":t+"";return this._setAttr("text",e),this},e.prototype.getWidth=function(){return"auto"===this.attrs.width||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return"auto"===this.attrs.height||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return zd.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,n=Qd(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:r}},e.prototype._getContextFont=function(){return Vd.Konva.UA.isIE?this.fontStyle()+" "+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily().split(",").map((function(t){var e=(t=t.trim()).indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!n&&(t='"'+t+'"'),t})).join(", ")},e.prototype._addTextLine=function(t){"justify"===this.align()&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),n=t.length;return Qd().measureText(t).width+(n?e*(n-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,r=this.lineHeight()*e,i=this.attrs.width,o=this.attrs.height,a="auto"!==i&&void 0!==i,s="auto"!==o&&void 0!==o,l=this.padding(),u=i-2*l,c=o-2*l,h=0,f=this.wrap(),d="none"!==f,p="char"!==f&&d,g=this.ellipsis();this.textArr=[],Qd().font=this._getContextFont();for(var y=g?this._getTextWidth("…"):0,v=0,m=t.length;v<m;++v){var b=t[v],_=this._getTextWidth(b);if(a&&_>u)for(;b.length>0;){for(var x=0,w=b.length,S="",C=0;x<w;){var k=x+w>>>1,T=b.slice(0,k+1),P=this._getTextWidth(T)+y;P<=u?(x=k+1,S=T,C=P):w=k}if(!S)break;if(p){var E,O=b[S.length];(E=(" "===O||"-"===O)&&C<=u?S.length:Math.max(S.lastIndexOf(" "),S.lastIndexOf("-"))+1)>0&&(x=E,S=S.slice(0,x),C=this._getTextWidth(S))}if(S=S.trimRight(),this._addTextLine(S),n=Math.max(n,C),h+=r,!d||s&&h+r>c){var M=this.textArr[this.textArr.length-1];if(M)if(g)this._getTextWidth(M.text+"…")<u||(M.text=M.text.slice(0,M.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(M.text+"…");break}if((b=(b=b.slice(x)).trimLeft()).length>0&&(_=this._getTextWidth(b))<=u){this._addTextLine(b),h+=r,n=Math.max(n,_);break}}else this._addTextLine(b),h+=r,n=Math.max(n,_);if(s&&h+r>c)break}this.textHeight=e,this.textWidth=n},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(Bd.Shape);Gd.Text=$d,$d.prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},$d.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},$d.prototype.className="Text",$d.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],Hd._registerNode($d),jd.Factory.overWriteSetter($d,"width",Wd.getNumberOrAutoValidator()),jd.Factory.overWriteSetter($d,"height",Wd.getNumberOrAutoValidator()),jd.Factory.addGetterSetter($d,"fontFamily","Arial"),jd.Factory.addGetterSetter($d,"fontSize",12,Wd.getNumberValidator()),jd.Factory.addGetterSetter($d,"fontStyle","normal"),jd.Factory.addGetterSetter($d,"fontVariant","normal"),jd.Factory.addGetterSetter($d,"padding",0,Wd.getNumberValidator()),jd.Factory.addGetterSetter($d,"align","left"),jd.Factory.addGetterSetter($d,"verticalAlign","top"),jd.Factory.addGetterSetter($d,"lineHeight",1,Wd.getNumberValidator()),jd.Factory.addGetterSetter($d,"wrap","word"),jd.Factory.addGetterSetter($d,"ellipsis",!1,Wd.getBooleanValidator()),jd.Factory.addGetterSetter($d,"letterSpacing",0,Wd.getNumberValidator()),jd.Factory.addGetterSetter($d,"text","",Wd.getStringValidator()),jd.Factory.addGetterSetter($d,"textDecoration",""),zd.Collection.mapMethods($d);var Jd={},Zd=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.TextPath=void 0;var tp=gc,ep=vc,np=Xf,rp=Gd,ip=mc,op=pc;function ap(t){t.fillText(this.partialText,0,0)}function sp(t){t.strokeText(this.partialText,0,0)}var lp=function(t){function e(e){var n=t.call(this,e)||this;return n.dummyCanvas=tp.Util.createCanvasElement(),n.dataArray=[],n.dataArray=np.Path.parsePathData(n.attrs.data),n.on("dataChange.konva",(function(){this.dataArray=np.Path.parsePathData(this.attrs.data),this._setTextData()})),n.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",n._setTextData),e&&e.getKerning&&(tp.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),n.kerningFunc(e.getKerning)),n._setTextData(),n}return Zd(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var o=0;o<i.length;o++){t.save();var a=i[o].p0;t.translate(a.x,a.y),t.rotate(i[o].rotation),this.partialText=i[o].text,t.fillStrokeShape(this),"underline"===e&&(0===o&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=r/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var r=0;r<e.length;r++){var i=e[r].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return tp.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return rp.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return rp.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.letterSpacing(),r=this.align(),i=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var a=0,s=0;s<t.dataArray.length;s++)t.dataArray[s].pathLength>0&&(a+=t.dataArray[s].pathLength);var l=0;"center"===r&&(l=Math.max(0,a/2-o/2)),"right"===r&&(l=Math.max(0,a-o));for(var u,c,h,f=rp.stringToArray(this.text()),d=this.text().split(" ").length-1,p=-1,g=0,y=function(){g=0;for(var e=t.dataArray,n=p+1;n<e.length;n++){if(e[n].pathLength>0)return p=n,e[n];"M"===e[n].command&&(u={x:e[n].points[0],y:e[n].points[1]})}return{}},v=function(e){var i=t._getTextSize(e).width+n;" "===e&&"justify"===r&&(i+=(a-o)/d);var s=0,l=0;for(c=void 0;Math.abs(i-s)/i>.01&&l<20;){l++;for(var f=s;void 0===h;)(h=y())&&f+h.pathLength<i&&(f+=h.pathLength,h=void 0);if(h==={}||void 0===u)return;var p=!1;switch(h.command){case"L":np.Path.getLineLength(u.x,u.y,h.points[0],h.points[1])>i?c=np.Path.getPointOnLine(i,u.x,u.y,h.points[0],h.points[1],u.x,u.y):h=void 0;break;case"A":var v=h.points[4],m=h.points[5],b=h.points[4]+m;0===g?g=v+1e-8:i>s?g+=Math.PI/180*m/Math.abs(m):g-=Math.PI/360*m/Math.abs(m),(m<0&&g<b||m>=0&&g>b)&&(g=b,p=!0),c=np.Path.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],g,h.points[6]);break;case"C":0===g?g=i>h.pathLength?1e-8:i/h.pathLength:i>s?g+=(i-s)/h.pathLength/2:g=Math.max(g-(s-i)/h.pathLength/2,0),g>1&&(g=1,p=!0),c=np.Path.getPointOnCubicBezier(g,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);break;case"Q":0===g?g=i/h.pathLength:i>s?g+=(i-s)/h.pathLength:g-=(s-i)/h.pathLength,g>1&&(g=1,p=!0),c=np.Path.getPointOnQuadraticBezier(g,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3])}void 0!==c&&(s=np.Path.getLineLength(u.x,u.y,c.x,c.y)),p&&(p=!1,h=void 0)}},m=l/(t._getTextSize("C").width+n)-1,b=0;b<m&&(v("C"),void 0!==u&&void 0!==c);b++)u=c;for(var _=0;_<f.length&&(v(f[_]),void 0!==u&&void 0!==c);_++){var x=np.Path.getLineLength(u.x,u.y,c.x,c.y),w=0;if(i)try{w=i(f[_-1],f[_])*this.fontSize()}catch(k){w=0}u.x+=w,c.x+=w,this.textWidth+=w;var S=np.Path.getPointOnLine(w+x/2,u.x,u.y,c.x,c.y),C=Math.atan2(c.y-u.y,c.x-u.x);this.glyphInfo.push({transposeX:S.x,transposeY:S.y,text:f[_],rotation:C,p0:u,p1:c}),u=c}},e.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,r=t[0]||0,i=t[0]||0,o=t[1]||0,a=t[1]||0,s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],r=Math.min(r,e),i=Math.max(i,e),o=Math.min(o,n),a=Math.max(a,n);var l=this.fontSize();return{x:r-l/2,y:o-l/2,width:i-r+l,height:a-o+l}},e}(ih.Shape);Jd.TextPath=lp,lp.prototype._fillFunc=ap,lp.prototype._strokeFunc=sp,lp.prototype._fillFuncHit=ap,lp.prototype._strokeFuncHit=sp,lp.prototype.className="TextPath",lp.prototype._attrsAffectingSize=["text","fontSize","data"],op._registerNode(lp),ep.Factory.addGetterSetter(lp,"data"),ep.Factory.addGetterSetter(lp,"fontFamily","Arial"),ep.Factory.addGetterSetter(lp,"fontSize",12,ip.getNumberValidator()),ep.Factory.addGetterSetter(lp,"fontStyle","normal"),ep.Factory.addGetterSetter(lp,"align","left"),ep.Factory.addGetterSetter(lp,"letterSpacing",0,ip.getNumberValidator()),ep.Factory.addGetterSetter(lp,"textBaseline","middle"),ep.Factory.addGetterSetter(lp,"fontVariant","normal"),ep.Factory.addGetterSetter(lp,"text",""),ep.Factory.addGetterSetter(lp,"textDecoration",null),ep.Factory.addGetterSetter(lp,"kerningFunc",null),tp.Collection.mapMethods(lp);var up={},cp=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hp=t&&t.__assign||function(){return(hp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(up,"__esModule",{value:!0}),up.Transformer=void 0;var fp=gc,dp=vc,pp=yc,gp=ih,yp=td,vp=wh,mp=pc,bp=mc,_p=pc,xp=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+".tr-konva"})).join(" "),wp=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+".tr-konva"})).join(" "),Sp={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},Cp="ontouchstart"in mp.Konva._global;var kp=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function Tp(t,e,n){var r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return hp(hp({},t),{rotation:t.rotation+e,x:r,y:i})}function Pp(t,e){return Tp(t,e,function(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t))}var Ep=function(t){function e(e){var n=t.call(this,e)||this;return n._transforming=!1,n._createElements(),n._handleMouseMove=n._handleMouseMove.bind(n),n._handleMouseUp=n._handleMouseUp.bind(n),n.update=n.update.bind(n),n.on(xp,n.update),n.getNode()&&n.update(),n}return cp(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){return fp.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])},e.prototype.getNode=function(){return this._nodes&&this._nodes[0]},e.prototype.setNodes=function(t){var e=this;return void 0===t&&(t=[]),this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach((function(t){var n=t._attrsAffectingSize.map((function(t){return t+"Change.tr-konva"})).join(" "),r=function(){1===e.nodes().length&&e.rotation(e.nodes()[0].getAbsoluteRotation()),e._resetTransformCache(),e._transforming||e.isDragging()||e.update()};t.on(n,r),t.on(wp,r),t.on("_clearTransformCache.tr-konva",r),t.on("xChange.tr-konva yChange.tr-konva",r),e._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this},e.prototype._proxyDrag=function(t){var e,n=this;t.on("dragstart.tr-konva",(function(r){e=t.getAbsolutePosition(),n.isDragging()||t===n.findOne(".back")||n.startDrag(r,!1)})),t.on("dragmove.tr-konva",(function(r){if(e){var i=t.getAbsolutePosition(),o=i.x-e.x,a=i.y-e.y;n.nodes().forEach((function(e){if(e!==t&&!e.isDragging()){var n=e.getAbsolutePosition();e.setAbsolutePosition({x:n.x+o,y:n.y+a}),e.startDrag(r)}})),e=null}}))},e.prototype.getNodes=function(){return this._nodes||[]},e.prototype.getActiveAnchor=function(){return this._movingAnchorName},e.prototype.detach=function(){this._nodes&&this._nodes.forEach((function(t){t.off(".tr-konva")})),this._nodes=[],this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache("nodesRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache("nodesRect",this.__getNodeRect)},e.prototype.__getNodeShape=function(t,e,n){void 0===e&&(e=this.rotation());var r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=t.getAbsoluteScale(n),o=t.getAbsolutePosition(n),a=r.x*i.x-t.offsetX()*i.x,s=r.y*i.y-t.offsetY()*i.y,l=(mp.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return Tp({x:o.x+a*Math.cos(l)+s*Math.sin(-l),y:o.y+s*Math.cos(l)+a*Math.sin(l),width:r.width*i.x,height:r.height*i.y,rotation:l},-mp.Konva.getAngle(e),{x:0,y:0})},e.prototype.__getNodeRect=function(){var t=this;if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};var e=[];this.nodes().map((function(n){var r=n.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:t.ignoreStroke()}),i=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],o=n.getAbsoluteTransform();i.forEach((function(t){var n=o.point(t);e.push(n)}))}));var n,r,i,o,a=new fp.Transform;a.rotate(-mp.Konva.getAngle(this.rotation())),e.forEach((function(t){var e=a.point(t);void 0===n&&(n=i=e.x,r=o=e.y),n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y)})),a.invert();var s=a.point({x:n,y:r});return{x:s.x,y:s.y,width:i-n,height:o-r,rotation:mp.Konva.getAngle(this.rotation())}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),kp.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,n=new yp.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Cp?10:"auto"}),r=this;n.on("mousedown touchstart",(function(t){r._handleMouseDown(t)})),n.on("dragstart",(function(t){n.stopDrag(),t.cancelBubble=!0})),n.on("dragend",(function(t){t.cancelBubble=!0})),n.on("mouseenter",(function(){var r=mp.Konva.getAngle(e.rotation()),i=function(t,e){if("rotater"===t)return"crosshair";e+=fp.Util._degToRad(Sp[t]||0);var n=(fp.Util._radToDeg(e)%360+360)%360;return fp.Util._inRange(n,337.5,360)||fp.Util._inRange(n,0,22.5)?"ns-resize":fp.Util._inRange(n,22.5,67.5)?"nesw-resize":fp.Util._inRange(n,67.5,112.5)?"ew-resize":fp.Util._inRange(n,112.5,157.5)?"nwse-resize":fp.Util._inRange(n,157.5,202.5)?"ns-resize":fp.Util._inRange(n,202.5,247.5)?"nesw-resize":fp.Util._inRange(n,247.5,292.5)?"ew-resize":fp.Util._inRange(n,292.5,337.5)?"nwse-resize":(fp.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(t,r);n.getStage().content.style.cursor=i,e._cursorChange=!0})),n.on("mouseout",(function(){n.getStage().content.style.cursor="",e._cursorChange=!1})),this.add(n)},e.prototype._createBack=function(){var t=this,e=new gp.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc:function(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*fp.Util._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:function(e,n){if(t.shouldOverdrawWholeArea()){var r=t.padding();e.beginPath(),e.rect(-r,-r,n.width()+2*r,n.height()+2*r),e.fillStrokeShape(n)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",(function(t){t.cancelBubble=!0})),e.on("dragmove",(function(t){t.cancelBubble=!0})),e.on("dragend",(function(t){t.cancelBubble=!0}))},e.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,r=e.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0;var o=t.target.getAbsolutePosition(),a=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this._nodes.forEach((function(e){e._fire("transformstart",{evt:t,target:e})}))},e.prototype._handleMouseMove=function(t){var e,n,r,i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(t);var a=o.getPointerPosition(),s={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},l=i.getAbsolutePosition();i.setAbsolutePosition(s);var u=i.getAbsolutePosition();if(l.x!==u.x||l.y!==u.y)if("rotater"!==this._movingAnchorName){var c=this.keepRatio()||t.shiftKey,h=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(c){var f=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(f.x-i.x(),2)+Math.pow(f.y-i.y(),2));var d=this.findOne(".top-left").x()>f.x?-1:1,p=this.findOne(".top-left").y()>f.y?-1:1;e=r*this.cos*d,n=r*this.sin*p,this.findOne(".top-left").x(f.x-e),this.findOne(".top-left").y(f.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){if(c){f=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(i.x()-f.x,2)+Math.pow(f.y-i.y(),2));d=this.findOne(".top-right").x()<f.x?-1:1,p=this.findOne(".top-right").y()>f.y?-1:1;e=r*this.cos*d,n=r*this.sin*p,this.findOne(".top-right").x(f.x+e),this.findOne(".top-right").y(f.y-n)}var g=i.position();this.findOne(".top-left").y(g.y),this.findOne(".bottom-right").x(g.x)}else if("middle-left"===this._movingAnchorName)this.findOne(".top-left").x(i.x());else if("middle-right"===this._movingAnchorName)this.findOne(".bottom-right").x(i.x());else if("bottom-left"===this._movingAnchorName){if(c){f=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(f.x-i.x(),2)+Math.pow(i.y()-f.y,2));d=f.x<i.x()?-1:1,p=i.y()<f.y?-1:1;e=r*this.cos*d,n=r*this.sin*p,i.x(f.x-e),i.y(f.y+n)}g=i.position(),this.findOne(".top-left").x(g.x),this.findOne(".bottom-right").y(g.y)}else if("bottom-center"===this._movingAnchorName)this.findOne(".bottom-right").y(i.y());else if("bottom-right"===this._movingAnchorName){if(c){f=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(i.x()-f.x,2)+Math.pow(i.y()-f.y,2));d=this.findOne(".bottom-right").x()<f.x?-1:1,p=this.findOne(".bottom-right").y()<f.y?-1:1;e=r*this.cos*d,n=r*this.sin*p,this.findOne(".bottom-right").x(f.x+e),this.findOne(".bottom-right").y(f.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(h=this.centeredScaling()||t.altKey){var y=this.findOne(".top-left"),v=this.findOne(".bottom-right"),m=y.x(),b=y.y(),_=this.getWidth()-v.x(),x=this.getHeight()-v.y();v.move({x:-m,y:-b}),y.move({x:_,y:x})}var w=this.findOne(".top-left").getAbsolutePosition();e=w.x,n=w.y;var S=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),C=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:S,height:C,rotation:mp.Konva.getAngle(this.rotation())},t)}else{var k=this._getNodeRect();e=i.x()-k.width/2,n=-i.y()+k.height/2;var T=Math.atan2(-n,e)+Math.PI/2;k.height<0&&(T-=Math.PI);var P=mp.Konva.getAngle(this.rotation())+T,E=mp.Konva.getAngle(this.rotationSnapTolerance()),O=Pp(k,function(t,e,n){for(var r=e,i=0;i<t.length;i++){var o=mp.Konva.getAngle(t[i]),a=Math.abs(o-e)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=o)}return r}(this.rotationSnaps(),P,E)-k.rotation);this._fitNodesInto(O,t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype.getAbsoluteTransform=function(){return this.getTransform()},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0);var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach((function(e){e._fire("transformend",{evt:t,target:e})})),this._movingAnchorName=null}},e.prototype._fitNodesInto=function(t,e){var n=this,r=this._getNodeRect();if(fp.Util._inRange(t.width,2*-this.padding()-1,1))this.update();else if(fp.Util._inRange(t.height,2*-this.padding()-1,1))this.update();else{var i=new fp.Transform;if(i.rotate(mp.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){var o=i.point({x:2*-this.padding(),y:0});t.x+=o.x,t.y+=o.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=o.x,this._anchorDragOffset.y-=o.y}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){o=i.point({x:2*this.padding(),y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=o.x,this._anchorDragOffset.y-=o.y,t.width+=2*this.padding()}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){o=i.point({x:0,y:2*-this.padding()});t.x+=o.x,t.y+=o.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=o.x,this._anchorDragOffset.y-=o.y,t.height+=2*this.padding()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){o=i.point({x:0,y:2*this.padding()});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=o.x,this._anchorDragOffset.y-=o.y,t.height+=2*this.padding()}if(this.boundBoxFunc()){var a=this.boundBoxFunc()(r,t);a?t=a:fp.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}var s=1e7,l=new fp.Transform;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/s,r.height/s);var u=new fp.Transform;u.translate(t.x,t.y),u.rotate(t.rotation),u.scale(t.width/s,t.height/s);var c=u.multiply(l.invert());this._nodes.forEach((function(t){var r,i=t.getParent().getAbsoluteTransform(),o=t.getTransform().copy();o.translate(t.offsetX(),t.offsetY());var a=new fp.Transform;a.multiply(i.copy().invert()).multiply(c).multiply(i).multiply(o);var s=a.decompose();t.setAttrs(s),n._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t}),null===(r=t.getLayer())||void 0===r||r.batchDraw()})),this.rotation(fp.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype._batchChangeChild=function(t,e){this.findOne(t).setAttrs(e)},e.prototype.update=function(){var t,e=this,n=this._getNodeRect();this.rotation(fp.Util._getRotation(n.rotation));var r=n.width,i=n.height,o=this.enabledAnchors(),a=this.resizeEnabled(),s=this.padding(),l=this.anchorSize();this.find("._anchor").each((function(t){t.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:e.anchorStroke(),strokeWidth:e.anchorStrokeWidth(),fill:e.anchorFill(),cornerRadius:e.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+s,offsetY:l/2+s,visible:a&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+s,visible:a&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-s,offsetY:l/2+s,visible:a&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+s,visible:a&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-s,visible:a&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+s,offsetY:l/2-s,visible:a&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-s,visible:a&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-s,offsetY:l/2-s,visible:a&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*fp.Util._sign(i)-s,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(t=this.getLayer())||void 0===t||t.batchDraw()},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),vp.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return pp.Node.prototype.toObject.call(this)},e}(vp.Group);up.Transformer=Ep,Ep.prototype.className="Transformer",_p._registerNode(Ep),dp.Factory.addGetterSetter(Ep,"enabledAnchors",kp,(function(t){return t instanceof Array||fp.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===kp.indexOf(t)&&fp.Util.warn("Unknown anchor name: "+t+". Available names are: "+kp.join(", "))})),t||[]})),dp.Factory.addGetterSetter(Ep,"resizeEnabled",!0),dp.Factory.addGetterSetter(Ep,"anchorSize",10,bp.getNumberValidator()),dp.Factory.addGetterSetter(Ep,"rotateEnabled",!0),dp.Factory.addGetterSetter(Ep,"rotationSnaps",[]),dp.Factory.addGetterSetter(Ep,"rotateAnchorOffset",50,bp.getNumberValidator()),dp.Factory.addGetterSetter(Ep,"rotationSnapTolerance",5,bp.getNumberValidator()),dp.Factory.addGetterSetter(Ep,"borderEnabled",!0),dp.Factory.addGetterSetter(Ep,"anchorStroke","rgb(0, 161, 255)"),dp.Factory.addGetterSetter(Ep,"anchorStrokeWidth",1,bp.getNumberValidator()),dp.Factory.addGetterSetter(Ep,"anchorFill","white"),dp.Factory.addGetterSetter(Ep,"anchorCornerRadius",0,bp.getNumberValidator()),dp.Factory.addGetterSetter(Ep,"borderStroke","rgb(0, 161, 255)"),dp.Factory.addGetterSetter(Ep,"borderStrokeWidth",1,bp.getNumberValidator()),dp.Factory.addGetterSetter(Ep,"borderDash"),dp.Factory.addGetterSetter(Ep,"keepRatio",!0),dp.Factory.addGetterSetter(Ep,"centeredScaling",!1),dp.Factory.addGetterSetter(Ep,"ignoreStroke",!1),dp.Factory.addGetterSetter(Ep,"padding",0,bp.getNumberValidator()),dp.Factory.addGetterSetter(Ep,"node"),dp.Factory.addGetterSetter(Ep,"nodes"),dp.Factory.addGetterSetter(Ep,"boundBoxFunc"),dp.Factory.addGetterSetter(Ep,"shouldOverdrawWholeArea",!1),dp.Factory.backCompat(Ep,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),fp.Collection.mapMethods(Ep);var Op={},Mp=t&&t.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Op,"__esModule",{value:!0}),Op.Wedge=void 0;var Fp=gc,Ap=vc,Np=pc,Dp=mc,Rp=pc,Ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Mp(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,Np.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(ih.Shape);Op.Wedge=Ip,Ip.prototype.className="Wedge",Ip.prototype._centroid=!0,Ip.prototype._attrsAffectingSize=["radius"],Rp._registerNode(Ip),Ap.Factory.addGetterSetter(Ip,"radius",0,Dp.getNumberValidator()),Ap.Factory.addGetterSetter(Ip,"angle",0,Dp.getNumberValidator()),Ap.Factory.addGetterSetter(Ip,"clockwise",!1),Ap.Factory.backCompat(Ip,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Fp.Collection.mapMethods(Ip);var Lp={};Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.Blur=void 0;var Gp=vc,Up=yc,zp=mc;function jp(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var Bp=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Vp=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Lp.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&function(t,e){var n,r,i,o,a,s,l,u,c,h,f,d,p,g,y,v,m,b,_,x,w,S,C,k,T=t.data,P=t.width,E=t.height,O=e+e+1,M=P-1,F=E-1,A=e+1,N=A*(A+1)/2,D=new jp,R=null,I=D,L=null,G=null,U=Bp[e],z=Vp[e];for(i=1;i<O;i++)I=I.next=new jp,i===A&&(R=I);for(I.next=D,l=s=0,r=0;r<E;r++){for(v=m=b=_=u=c=h=f=0,d=A*(x=T[s]),p=A*(w=T[s+1]),g=A*(S=T[s+2]),y=A*(C=T[s+3]),u+=N*x,c+=N*w,h+=N*S,f+=N*C,I=D,i=0;i<A;i++)I.r=x,I.g=w,I.b=S,I.a=C,I=I.next;for(i=1;i<A;i++)o=s+((M<i?M:i)<<2),u+=(I.r=x=T[o])*(k=A-i),c+=(I.g=w=T[o+1])*k,h+=(I.b=S=T[o+2])*k,f+=(I.a=C=T[o+3])*k,v+=x,m+=w,b+=S,_+=C,I=I.next;for(L=D,G=R,n=0;n<P;n++)T[s+3]=C=f*U>>z,0!==C?(C=255/C,T[s]=(u*U>>z)*C,T[s+1]=(c*U>>z)*C,T[s+2]=(h*U>>z)*C):T[s]=T[s+1]=T[s+2]=0,u-=d,c-=p,h-=g,f-=y,d-=L.r,p-=L.g,g-=L.b,y-=L.a,o=l+((o=n+e+1)<M?o:M)<<2,u+=v+=L.r=T[o],c+=m+=L.g=T[o+1],h+=b+=L.b=T[o+2],f+=_+=L.a=T[o+3],L=L.next,d+=x=G.r,p+=w=G.g,g+=S=G.b,y+=C=G.a,v-=x,m-=w,b-=S,_-=C,G=G.next,s+=4;l+=P}for(n=0;n<P;n++){for(m=b=_=v=c=h=f=u=0,d=A*(x=T[s=n<<2]),p=A*(w=T[s+1]),g=A*(S=T[s+2]),y=A*(C=T[s+3]),u+=N*x,c+=N*w,h+=N*S,f+=N*C,I=D,i=0;i<A;i++)I.r=x,I.g=w,I.b=S,I.a=C,I=I.next;for(a=P,i=1;i<=e;i++)s=a+n<<2,u+=(I.r=x=T[s])*(k=A-i),c+=(I.g=w=T[s+1])*k,h+=(I.b=S=T[s+2])*k,f+=(I.a=C=T[s+3])*k,v+=x,m+=w,b+=S,_+=C,I=I.next,i<F&&(a+=P);for(s=n,L=D,G=R,r=0;r<E;r++)T[3+(o=s<<2)]=C=f*U>>z,C>0?(C=255/C,T[o]=(u*U>>z)*C,T[o+1]=(c*U>>z)*C,T[o+2]=(h*U>>z)*C):T[o]=T[o+1]=T[o+2]=0,u-=d,c-=p,h-=g,f-=y,d-=L.r,p-=L.g,g-=L.b,y-=L.a,o=n+((o=r+A)<F?o:F)*P<<2,u+=v+=L.r=T[o],c+=m+=L.g=T[o+1],h+=b+=L.b=T[o+2],f+=_+=L.a=T[o+3],L=L.next,d+=x=G.r,p+=w=G.g,g+=S=G.b,y+=C=G.a,v-=x,m-=w,b-=S,_-=C,G=G.next,s+=P}}(t,e)},Gp.Factory.addGetterSetter(Up.Node,"blurRadius",0,zp.getNumberValidator(),Gp.Factory.afterSetFilter);var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.Brighten=void 0;var Hp=vc,Kp=yc,Yp=mc;Wp.Brighten=function(t){var e,n=255*this.brightness(),r=t.data,i=r.length;for(e=0;e<i;e+=4)r[e]+=n,r[e+1]+=n,r[e+2]+=n},Hp.Factory.addGetterSetter(Kp.Node,"brightness",0,Yp.getNumberValidator(),Hp.Factory.afterSetFilter);var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.Contrast=void 0;var qp=vc,Qp=yc,$p=mc;Xp.Contrast=function(t){var e,n=Math.pow((this.contrast()+100)/100,2),r=t.data,i=r.length,o=150,a=150,s=150;for(e=0;e<i;e+=4)o=r[e],a=r[e+1],s=r[e+2],o/=255,o-=.5,o*=n,o+=.5,a/=255,a-=.5,a*=n,a+=.5,s/=255,s-=.5,s*=n,s+=.5,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,s=(s*=255)<0?0:s>255?255:s,r[e]=o,r[e+1]=a,r[e+2]=s},qp.Factory.addGetterSetter(Qp.Node,"contrast",0,$p.getNumberValidator(),qp.Factory.afterSetFilter);var Jp={};Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.Emboss=void 0;var Zp=vc,tg=yc,eg=gc,ng=mc;Jp.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),o=0,a=0,s=t.data,l=t.width,u=t.height,c=4*l,h=u;switch(r){case"top-left":o=-1,a=-1;break;case"top":o=-1,a=0;break;case"top-right":o=-1,a=1;break;case"right":o=0,a=1;break;case"bottom-right":o=1,a=1;break;case"bottom":o=1,a=0;break;case"bottom-left":o=1,a=-1;break;case"left":o=0,a=-1;break;default:eg.Util.error("Unknown emboss direction: "+r)}do{var f=(h-1)*c,d=o;h+d<1&&(d=0),h+d>u&&(d=0);var p=(h-1+d)*l*4,g=l;do{var y=f+4*(g-1),v=a;g+v<1&&(v=0),g+v>l&&(v=0);var m=p+4*(g-1+v),b=s[y]-s[m],_=s[y+1]-s[m+1],x=s[y+2]-s[m+2],w=b,S=w>0?w:-w;if((_>0?_:-_)>S&&(w=_),(x>0?x:-x)>S&&(w=x),w*=e,i){var C=s[y]+w,k=s[y+1]+w,T=s[y+2]+w;s[y]=C>255?255:C<0?0:C,s[y+1]=k>255?255:k<0?0:k,s[y+2]=T>255?255:T<0?0:T}else{var P=n-w;P<0?P=0:P>255&&(P=255),s[y]=s[y+1]=s[y+2]=P}}while(--g)}while(--h)},Zp.Factory.addGetterSetter(tg.Node,"embossStrength",.5,ng.getNumberValidator(),Zp.Factory.afterSetFilter),Zp.Factory.addGetterSetter(tg.Node,"embossWhiteLevel",.5,ng.getNumberValidator(),Zp.Factory.afterSetFilter),Zp.Factory.addGetterSetter(tg.Node,"embossDirection","top-left",null,Zp.Factory.afterSetFilter),Zp.Factory.addGetterSetter(tg.Node,"embossBlend",!1,null,Zp.Factory.afterSetFilter);var rg={};Object.defineProperty(rg,"__esModule",{value:!0}),rg.Enhance=void 0;var ig=vc,og=yc,ag=mc;function sg(t,e,n,r,i){var o=n-e,a=i-r;return 0===o?r+a/2:0===a?r:a*((t-e)/o)+r}rg.Enhance=function(t){var e,n,r,i,o=t.data,a=o.length,s=o[0],l=s,u=o[1],c=u,h=o[2],f=h,d=this.enhance();if(0!==d){for(i=0;i<a;i+=4)(e=o[i+0])<s?s=e:e>l&&(l=e),(n=o[i+1])<u?u=n:n>c&&(c=n),(r=o[i+2])<h?h=r:r>f&&(f=r);var p,g,y,v,m,b,_,x,w;for(l===s&&(l=255,s=0),c===u&&(c=255,u=0),f===h&&(f=255,h=0),d>0?(g=l+d*(255-l),y=s-d*(s-0),m=c+d*(255-c),b=u-d*(u-0),x=f+d*(255-f),w=h-d*(h-0)):(g=l+d*(l-(p=.5*(l+s))),y=s+d*(s-p),m=c+d*(c-(v=.5*(c+u))),b=u+d*(u-v),x=f+d*(f-(_=.5*(f+h))),w=h+d*(h-_)),i=0;i<a;i+=4)o[i+0]=sg(o[i+0],s,l,y,g),o[i+1]=sg(o[i+1],u,c,b,m),o[i+2]=sg(o[i+2],h,f,w,x)}},ig.Factory.addGetterSetter(og.Node,"enhance",0,ag.getNumberValidator(),ig.Factory.afterSetFilter);var lg={};Object.defineProperty(lg,"__esModule",{value:!0}),lg.Grayscale=void 0;lg.Grayscale=function(t){var e,n,r=t.data,i=r.length;for(e=0;e<i;e+=4)n=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=n,r[e+1]=n,r[e+2]=n};var ug={};Object.defineProperty(ug,"__esModule",{value:!0}),ug.HSL=void 0;var cg=vc,hg=yc,fg=mc;cg.Factory.addGetterSetter(hg.Node,"hue",0,fg.getNumberValidator(),cg.Factory.afterSetFilter),cg.Factory.addGetterSetter(hg.Node,"saturation",0,fg.getNumberValidator(),cg.Factory.afterSetFilter),cg.Factory.addGetterSetter(hg.Node,"luminance",0,fg.getNumberValidator(),cg.Factory.afterSetFilter);ug.HSL=function(t){var e,n,r,i,o,a=t.data,s=a.length,l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,c=127*this.luminance(),h=1*l*Math.cos(u*Math.PI/180),f=1*l*Math.sin(u*Math.PI/180),d=.299+.701*h+.167*f,p=.587-.587*h+.33*f,g=.114-.114*h-.497*f,y=.299-.299*h-.328*f,v=.587+.413*h+.035*f,m=.114-.114*h+.293*f,b=.299-.3*h+1.25*f,_=.587-.586*h-1.05*f,x=.114+.886*h-.2*f;for(e=0;e<s;e+=4)n=a[e+0],r=a[e+1],i=a[e+2],o=a[e+3],a[e+0]=d*n+p*r+g*i+c,a[e+1]=y*n+v*r+m*i+c,a[e+2]=b*n+_*r+x*i+c,a[e+3]=o};var dg={};Object.defineProperty(dg,"__esModule",{value:!0}),dg.HSV=void 0;var pg=vc,gg=yc,yg=mc;dg.HSV=function(t){var e,n,r,i,o,a=t.data,s=a.length,l=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,h=l*u*Math.cos(c*Math.PI/180),f=l*u*Math.sin(c*Math.PI/180),d=.299*l+.701*h+.167*f,p=.587*l-.587*h+.33*f,g=.114*l-.114*h-.497*f,y=.299*l-.299*h-.328*f,v=.587*l+.413*h+.035*f,m=.114*l-.114*h+.293*f,b=.299*l-.3*h+1.25*f,_=.587*l-.586*h-1.05*f,x=.114*l+.886*h-.2*f;for(e=0;e<s;e+=4)n=a[e+0],r=a[e+1],i=a[e+2],o=a[e+3],a[e+0]=d*n+p*r+g*i,a[e+1]=y*n+v*r+m*i,a[e+2]=b*n+_*r+x*i,a[e+3]=o},pg.Factory.addGetterSetter(gg.Node,"hue",0,yg.getNumberValidator(),pg.Factory.afterSetFilter),pg.Factory.addGetterSetter(gg.Node,"saturation",0,yg.getNumberValidator(),pg.Factory.afterSetFilter),pg.Factory.addGetterSetter(gg.Node,"value",0,yg.getNumberValidator(),pg.Factory.afterSetFilter);var vg={};Object.defineProperty(vg,"__esModule",{value:!0}),vg.Invert=void 0;vg.Invert=function(t){var e,n=t.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]};var mg={};Object.defineProperty(mg,"__esModule",{value:!0}),mg.Kaleidoscope=void 0;var bg=vc,_g=yc,xg=gc,wg=mc;mg.Kaleidoscope=function(t){var e,n,r,i,o,a,s,l,u,c=t.width,h=t.height,f=Math.round(this.kaleidoscopePower()),d=Math.round(this.kaleidoscopeAngle()),p=Math.floor(c*(d%360)/360);if(!(f<1)){var g=xg.Util.createCanvasElement();g.width=c,g.height=h;var y=g.getContext("2d").getImageData(0,0,c,h);!function(t,e,n){var r,i,o,a,s=t.data,l=e.data,u=t.width,c=t.height,h=n.polarCenterX||u/2,f=n.polarCenterY||c/2,d=0,p=0,g=0,y=0,v=Math.sqrt(h*h+f*f);i=u-h,o=c-f,v=(a=Math.sqrt(i*i+o*o))>v?a:v;var m,b,_,x,w=c,S=u,C=360/S*Math.PI/180;for(b=0;b<S;b+=1)for(_=Math.sin(b*C),x=Math.cos(b*C),m=0;m<w;m+=1)i=Math.floor(h+v*m/w*x),d=s[0+(r=4*((o=Math.floor(f+v*m/w*_))*u+i))],p=s[r+1],g=s[r+2],y=s[r+3],l[0+(r=4*(b+m*u))]=d,l[r+1]=p,l[r+2]=g,l[r+3]=y}(t,y,{polarCenterX:c/2,polarCenterY:h/2});for(var v=c/Math.pow(2,f);v<=8;)v*=2,f-=1;var m=v=Math.ceil(v),b=0,_=m,x=1;for(p+v>c&&(b=m,_=0,x=-1),n=0;n<h;n+=1)for(e=b;e!==_;e+=x)l=4*(c*n+Math.round(e+p)%c),i=y.data[l+0],o=y.data[l+1],a=y.data[l+2],s=y.data[l+3],u=4*(c*n+e),y.data[u+0]=i,y.data[u+1]=o,y.data[u+2]=a,y.data[u+3]=s;for(n=0;n<h;n+=1)for(m=Math.floor(v),r=0;r<f;r+=1){for(e=0;e<m+1;e+=1)l=4*(c*n+e),i=y.data[l+0],o=y.data[l+1],a=y.data[l+2],s=y.data[l+3],u=4*(c*n+2*m-e-1),y.data[u+0]=i,y.data[u+1]=o,y.data[u+2]=a,y.data[u+3]=s;m*=2}!function(t,e,n){var r,i,o,a,s,l,u=t.data,c=e.data,h=t.width,f=t.height,d=n.polarCenterX||h/2,p=n.polarCenterY||f/2,g=0,y=0,v=0,m=0,b=Math.sqrt(d*d+p*p);i=h-d,o=f-p,b=(l=Math.sqrt(i*i+o*o))>b?l:b;var _,x,w,S=f,C=h,k=n.polarRotation||0;for(i=0;i<h;i+=1)for(o=0;o<f;o+=1)a=i-d,s=o-p,_=Math.sqrt(a*a+s*s)*S/b,x=(x=(180*Math.atan2(s,a)/Math.PI+360+k)%360)*C/360,w=Math.floor(x),g=u[0+(r=4*(Math.floor(_)*h+w))],y=u[r+1],v=u[r+2],m=u[r+3],c[0+(r=4*(o*h+i))]=g,c[r+1]=y,c[r+2]=v,c[r+3]=m}(y,t,{polarRotation:0})}},bg.Factory.addGetterSetter(_g.Node,"kaleidoscopePower",2,wg.getNumberValidator(),bg.Factory.afterSetFilter),bg.Factory.addGetterSetter(_g.Node,"kaleidoscopeAngle",0,wg.getNumberValidator(),bg.Factory.afterSetFilter);var Sg={};Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.Mask=void 0;var Cg=vc,kg=yc,Tg=mc;function Pg(t,e,n){var r=4*(n*t.width+e),i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function Eg(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}Sg.Mask=function(t){var e=function(t,e){var n=Pg(t,0,0),r=Pg(t,t.width-1,0),i=Pg(t,0,t.height-1),o=Pg(t,t.width-1,t.height-1),a=e||10;if(Eg(n,r)<a&&Eg(r,o)<a&&Eg(o,i)<a&&Eg(i,n)<a){for(var s=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,n,o,i]),l=[],u=0;u<t.width*t.height;u++){var c=Eg(s,[t.data[4*u],t.data[4*u+1],t.data[4*u+2]]);l[u]=c<a?0:255}return l}}(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,e=function(t,e,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var u=s*e+l,c=0,h=0;h<i;h++)for(var f=0;f<i;f++){var d=s+h-o,p=l+f-o;if(d>=0&&d<n&&p>=0&&p<e){var g=r[h*i+f];c+=t[d*e+p]*g}}a[u]=c}return a}(e=function(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var u=s*e+l,c=0,h=0;h<i;h++)for(var f=0;f<i;f++){var d=s+h-o,p=l+f-o;if(d>=0&&d<n&&p>=0&&p<e){var g=r[h*i+f];c+=t[d*e+p]*g}}a[u]=c>=1020?255:0}return a}(e=function(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var u=s*e+l,c=0,h=0;h<i;h++)for(var f=0;f<i;f++){var d=s+h-o,p=l+f-o;if(d>=0&&d<n&&p>=0&&p<e){var g=r[h*i+f];c+=t[d*e+p]*g}}a[u]=2040===c?255:0}return a}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},Cg.Factory.addGetterSetter(kg.Node,"threshold",0,Tg.getNumberValidator(),Cg.Factory.afterSetFilter);var Og={};Object.defineProperty(Og,"__esModule",{value:!0}),Og.Noise=void 0;var Mg=vc,Fg=yc,Ag=mc;Og.Noise=function(t){var e,n=255*this.noise(),r=t.data,i=r.length,o=n/2;for(e=0;e<i;e+=4)r[e+0]+=o-2*o*Math.random(),r[e+1]+=o-2*o*Math.random(),r[e+2]+=o-2*o*Math.random()},Mg.Factory.addGetterSetter(Fg.Node,"noise",.2,Ag.getNumberValidator(),Mg.Factory.afterSetFilter);var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.Pixelate=void 0;var Dg=vc,Rg=gc,Ig=yc,Lg=mc;Ng.Pixelate=function(t){var e,n,r,i,o,a,s,l,u,c,h,f,d,p,g=Math.ceil(this.pixelSize()),y=t.width,v=t.height,m=Math.ceil(y/g),b=Math.ceil(v/g),_=t.data;if(g<=0)Rg.Util.error("pixelSize value can not be <= 0");else for(f=0;f<m;f+=1)for(d=0;d<b;d+=1){for(i=0,o=0,a=0,s=0,u=(l=f*g)+g,h=(c=d*g)+g,p=0,e=l;e<u;e+=1)if(!(e>=y))for(n=c;n<h;n+=1)n>=v||(i+=_[(r=4*(y*n+e))+0],o+=_[r+1],a+=_[r+2],s+=_[r+3],p+=1);for(i/=p,o/=p,a/=p,s/=p,e=l;e<u;e+=1)if(!(e>=y))for(n=c;n<h;n+=1)n>=v||(_[(r=4*(y*n+e))+0]=i,_[r+1]=o,_[r+2]=a,_[r+3]=s)}},Dg.Factory.addGetterSetter(Ig.Node,"pixelSize",8,Lg.getNumberValidator(),Dg.Factory.afterSetFilter);var Gg={};Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.Posterize=void 0;var Ug=vc,zg=yc,jg=mc;Gg.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,r=t.data,i=r.length,o=255/n;for(e=0;e<i;e+=1)r[e]=Math.floor(r[e]/o)*o},Ug.Factory.addGetterSetter(zg.Node,"levels",.5,jg.getNumberValidator(),Ug.Factory.afterSetFilter);var Bg={};Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.RGB=void 0;var Vg=vc,Wg=yc,Hg=mc;Bg.RGB=function(t){var e,n,r=t.data,i=r.length,o=this.red(),a=this.green(),s=this.blue();for(e=0;e<i;e+=4)n=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=n*o,r[e+1]=n*a,r[e+2]=n*s,r[e+3]=r[e+3]},Vg.Factory.addGetterSetter(Wg.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),Vg.Factory.addGetterSetter(Wg.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),Vg.Factory.addGetterSetter(Wg.Node,"blue",0,Hg.RGBComponent,Vg.Factory.afterSetFilter);var Kg={};Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.RGBA=void 0;var Yg=vc,Xg=yc,qg=mc;Kg.RGBA=function(t){var e,n,r=t.data,i=r.length,o=this.red(),a=this.green(),s=this.blue(),l=this.alpha();for(e=0;e<i;e+=4)n=1-l,r[e]=o*l+r[e]*n,r[e+1]=a*l+r[e+1]*n,r[e+2]=s*l+r[e+2]*n},Yg.Factory.addGetterSetter(Xg.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),Yg.Factory.addGetterSetter(Xg.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),Yg.Factory.addGetterSetter(Xg.Node,"blue",0,qg.RGBComponent,Yg.Factory.afterSetFilter),Yg.Factory.addGetterSetter(Xg.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}));var Qg={};Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.Sepia=void 0;Qg.Sepia=function(t){var e,n,r,i,o=t.data,a=o.length;for(e=0;e<a;e+=4)n=o[e+0],r=o[e+1],i=o[e+2],o[e+0]=Math.min(255,.393*n+.769*r+.189*i),o[e+1]=Math.min(255,.349*n+.686*r+.168*i),o[e+2]=Math.min(255,.272*n+.534*r+.131*i)};var $g={};Object.defineProperty($g,"__esModule",{value:!0}),$g.Solarize=void 0;$g.Solarize=function(t){var e=t.data,n=t.width,r=4*n,i=t.height;do{var o=(i-1)*r,a=n;do{var s=o+4*(a-1),l=e[s],u=e[s+1],c=e[s+2];l>127&&(l=255-l),u>127&&(u=255-u),c>127&&(c=255-c),e[s]=l,e[s+1]=u,e[s+2]=c}while(--a)}while(--i)};var Jg={};Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.Threshold=void 0;var Zg=vc,ty=yc,ey=mc;Jg.Threshold=function(t){var e,n=255*this.threshold(),r=t.data,i=r.length;for(e=0;e<i;e+=1)r[e]=r[e]<n?0:255},Zg.Factory.addGetterSetter(ty.Node,"threshold",.5,ey.getNumberValidator(),Zg.Factory.afterSetFilter),Object.defineProperty(fc,"__esModule",{value:!0}),fc.Konva=void 0;var ny,ry,iy,oy=dc,ay=Kh,sy=tf,ly=yf,uy=Sf,cy=Mf,hy=Lf,fy=ef,dy=Xf,py=td,gy=sd,yy=pd,vy=Sd,my=Fd,by=Gd,_y=Jd,xy=up,wy=Op,Sy=Lp,Cy=Wp,ky=Xp,Ty=Jp,Py=rg,Ey=lg,Oy=ug,My=dg,Fy=vg,Ay=mg,Ny=Sg,Dy=Og,Ry=Ng,Iy=Gg,Ly=Bg,Gy=Kg,Uy=Qg,zy=$g,jy=Jg;fc.Konva=oy.Konva.Util._assign(oy.Konva,{Arc:ay.Arc,Arrow:sy.Arrow,Circle:ly.Circle,Ellipse:uy.Ellipse,Image:cy.Image,Label:hy.Label,Tag:hy.Tag,Line:fy.Line,Path:dy.Path,Rect:py.Rect,RegularPolygon:gy.RegularPolygon,Ring:yy.Ring,Sprite:vy.Sprite,Star:my.Star,Text:by.Text,TextPath:_y.TextPath,Transformer:xy.Transformer,Wedge:wy.Wedge,Filters:{Blur:Sy.Blur,Brighten:Cy.Brighten,Contrast:ky.Contrast,Emboss:Ty.Emboss,Enhance:Py.Enhance,Grayscale:Ey.Grayscale,HSL:Oy.HSL,HSV:My.HSV,Invert:Fy.Invert,Kaleidoscope:Ay.Kaleidoscope,Mask:Ny.Mask,Noise:Dy.Noise,Pixelate:Ry.Pixelate,Posterize:Iy.Posterize,RGB:Ly.RGB,RGBA:Gy.RGBA,Sepia:Uy.Sepia,Solarize:zy.Solarize,Threshold:jy.Threshold}}),ny=hc,ry=hc.exports,(iy=fc.Konva)._injectGlobal(iy),ry.default=iy,ny.exports=ry.default;var By=hc.exports;export{By as K,Y as R,cc as a,Hu as b,Yu as c,e as r};
